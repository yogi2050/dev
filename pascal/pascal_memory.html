<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/pascal/pascal_memory.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Pascal Memory Management</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Pascal Memory Management - Learn turbo pascal in simple and easy steps starting with pascal syntax, data types, gloabl and local variables, units, functions, loops, constants, structure, arrays, enumeration, sets, records, files, variant records, pointers, linked lists and text processing." />
<meta name="keywords" content="Pascal, Tutorials, Learning, Beginners, Basics,  Data Types, Gloabl and Local Variables, Units, Procedures, Loops, Constants, Structure, Arrays, Enumeration, Sets, Records, Files, Variant Records, Pointers, Linked Lists, Text processing." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
/* Pascal Scheme */
#header{ 
   background:#fe8a8b !important;
}
#topmenu
{
   background-color:#423c46 !important;
}
#leftcol ul.menu li.heading 
{
   background:#fe8a8b !important;
   border:1px solid #423c46 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1250px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
   _uacct = "UA-232293-6";
   urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/pascal-mini.png" alt="Pascal tutorial" />
</div>
<ul class="menu">
<li class="heading">Pascal Basics</li>
<li><a target="_top" href="index.html">Pascal - Home</a></li>
<li><a target="_top" href="pascal_overview.html">Pascal - Overview</a></li>
<li><a target="_top" href="pascal_environment_setup.html">Pascal - Environment</a></li>
<li><a target="_top" href="pascal_program_structure.html">Pascal - Program Structure</a></li>
<li><a target="_top" href="pascal_basic_syntax.html">Pascal - Basic Syntax</a></li>
<li><a target="_top" href="pascal_data_types.html">Pascal - Data Types</a></li>
<li><a target="_top" href="pascal_variable_types.html">Pascal - Variable Types</a></li>
<li><a target="_top" href="pascal_constants.html">Pascal - Constants</a></li>
<li><a target="_top" href="pascal_operators.html">Pascal - Operators</a></li>
<li><a target="_top" href="pascal_decision_making.html">Pascal - Decision Making</a></li>
<li><a target="_top" href="pascal_loops.html">Pascal - Loops </a></li>
<li><a target="_top" href="pascal_functions.html">Pascal - Functions</a></li>
<li><a target="_top" href="pascal_procedures.html">Pascal - Procedures</a></li>
<li><a target="_top" href="pascal_variable_scope.html">Pascal - Variable Scope</a></li>
<li><a target="_top" href="pascal_strings.html">Pascal - Strings</a></li>
<li><a target="_top" href="pascal_booleans.html">Pascal - Booleans</a></li>
<li><a target="_top" href="pascal_arrays.html">Pascal - Arrays</a></li>
<li><a target="_top" href="pascal_pointers.html">Pascal - Pointers</a></li>
<li><a target="_top" href="pascal_records.html">Pascal - Records</a></li>
<li><a target="_top" href="pascal_variants.html">Pascal - Variants</a></li>
<li><a target="_top" href="pascal_sets.html">Pascal - Sets</a></li>
<li><a target="_top" href="pascal_files_handling.html">Pascal - File Handling</a></li>
<li><a target="_top" href="pascal_memory.html"><b>Pascal - Memory</b></a></li>
<li><a target="_top" href="pascal_units.html">Pascal - Units</a></li>
<li><a target="_top" href="pascal_date_time.html">Pascal - Date &amp; Time</a></li>
<li><a target="_top" href="pascal_object_oriented.html">Pascal - Objects </a></li>
<li><a target="_top" href="pascal_classes.html">Pascal - Classes</a></li>
</ul>
<ul class="menu">
<li class="heading">Pascal  Useful Resources</li>
<li><a target="_top" href="pascal_quick_guide.html">Pascal - Quick Guide</a></li>
<li><a target="_top" href="pascal_useful_resources.html">Pascal - Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Pascal - Memory Management</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="pascal_files_handling.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="pascal_units.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>This chapter explains dynamic memory management in Pascal. Pascal programming language provides several functions for memory allocation and management.</p>
<h2>Allocating Memory Dynamically</h2>
<p>While doing programming, if you are aware about the size of an array, then it is easy and you can define it as an array. For example to store a name of any person, it can go max 100 characters so you can define something as follows:</p>
<pre class="prettyprint">
var
name: array[1..100] of char;
</pre>
<p>But now let us consider a situation where you have no idea about the length of the text you need to store, for example you want to store a detailed description about a topic.  Here we need to define a pointer to string without defining how much memory is required. </p>
<p>Pascal provides a procedure <b>new</b>to create pointer variables. </p>
<pre class="prettyprint">
program exMemory;
var
name: array[1..100] of char;
description: ^string;
begin
   name:= 'Zara Ali';
   new(description);
      if not assigned(description) then
         writeln(' Error - unable to allocate required memory')
      else
         description^ := 'Zara ali a DPS student in class 10th';
   writeln('Name = ', name );
   writeln('Description: ', description^ );
end.
</pre>
<p>When the above code is compiled and executed, it produces following result:</p>
<pre class="result">
Name = Zara Ali
Description: Zara ali a DPS student in class 10th
</pre>
<p>Now, if you need to define a pointer with specific number of bytes to be referred by it later, you should use the <b>getmem</b> function or the <b>getmem</b> procedure, which has the following syntax:</p>
<pre class="prettyprint">
procedure Getmem(
   out p: pointer;
   Size: PtrUInt
);

function GetMem(
   size: PtrUInt
):pointer;
</pre>
<p>In the previous example, we declared a pointer to a string. A string has a maximum value of 255 bytes. If you really don't need that much space, or a larger space, in terms of bytes, <i>getmem</i> subprogram allows specifying that. Let us rewrite the previous example, using <i>getmem</i>:</p>
<pre class="prettyprint">
program exMemory;
var
name: array[1..100] of char;
description: ^string;
begin
   name:= 'Zara Ali';
   description := getmem(200);
      if not assigned(description) then
         writeln(' Error - unable to allocate required memory')
      else
         description^ := 'Zara ali a DPS student in class 10th';
   writeln('Name = ', name );
   writeln('Description: ', description^ );
   freemem(description);
end.
</pre>
<p>When the above code is compiled and executed, it produces following result:</p>
<pre class="result">
Name = Zara Ali
Description: Zara ali a DPS student in class 10th
</pre>
<p>So you have complete control and you can pass any size value while allocating memory unlike arrays where once you defined the size cannot be changed.</p>
<h2>Resizing and Releasing Memory</h2>
<p>When your program comes out, operating system automatically release all the memory allocated by your program but as a good practice when you are not in need of memory anymore then you should release that memory.</p>
<p>Pascal provides the procedure <b>dispose</b> to free a dynamically created variable using the procedure <b>new.</b> If you have allocated memory using the <b>getmem</b>subprogram, then you need to use the subprogram <b>freemem</b> to free this memory. The <i>freemem</i> subprograms have the following syntax: </p>
<pre class="prettyprint">
procedure Freemem(
   p: pointer;
  Size: PtrUInt
);

function Freemem(
   p: pointer
):PtrUInt;
</pre>
<p>Alternatively, you can increase or decrease the size of an allocated memory block by calling the function <i>ReAllocMem</i>. Let us check the above program once again and make use of <i>ReAllocMem</i> and <i>freemem</i> subprograms. Following is the syntax for <i>ReAllocMem</i>:</p>
<pre class="prettyprint">
function ReAllocMem(
   var p: pointer;
   Size: PtrUInt
):pointer;   
</pre>
<p>Following is an example which makes use of <i>ReAllocMem</i> and <i>freemem</i> subprograms:</p>
<pre class="prettyprint">
program exMemory;
var
name: array[1..100] of char;
description: ^string;
desp: string;
begin
   name:= 'Zara Ali';
   desp := 'Zara ali a DPS student.';
   description := getmem(30);
   if not assigned(description) then
      writeln('Error - unable to allocate required memory')
   else
      description^ := desp;

   (* Suppose you want to store bigger description *)
   description := reallocmem(description, 100);
   desp := desp + ' She is in class 10th.';
   description^:= desp; 
   writeln('Name = ', name );
   writeln('Description: ', description^ );
   freemem(description);
end.
</pre>
<p>When the above code is compiled and executed, it produces following result:</p>
<pre class="result">
Name = Zara Ali
Description: Zara ali a DPS student. She is in class 10th
</pre>
<h2>Memory Management Functions</h2>
<p>Pascal provides a hoard of memory management functions that is used in implementing various data structures and implementing low level programming in Pascal. Many of these functions are implementation dependent. Free Pascal provides the following functions and procedure for memory management:</p>
<table class="src">
<tr><th style="width:5%;">S.N</th><th>Function Name &amp; Description</th></tr>
<tr><td>1</td><td><b>function Addr(X: TAnytype):Pointer;</b><br/>Return address of variable</td></tr>
<tr><td>2</td><td><b>function Assigned(P: Pointer):Boolean;</b><br/>Check if a pointer is valid</td></tr>
<tr><td>3</td><td><b>function CompareByte(const buf1; const buf2; len: SizeInt):SizeInt;</b><br/>Compare 2 memory buffers byte per byte</td></tr>
<tr><td>4</td><td><b>function CompareChar(const buf1; const buf2; len: SizeInt):SizeInt;</b><br/>Compare 2 memory buffers byte per byte</td></tr>
<tr><td>5</td><td><b>function CompareDWord(const buf1; const buf2; len: SizeInt):SizeInt;</b><br/>Compare 2 memory buffers byte per byte</td></tr>
<tr><td>6</td><td><b>function CompareWord(const buf1; const buf2; len: SizeInt):SizeInt;</b><br/>Compare 2 memory buffers byte per byte</td></tr>
<tr><td>7</td><td><b>function Cseg: Word;</b><br/>Return code segment</td></tr>
<tr><td>8</td><td><b>procedure Dispose(P: Pointer);</b><br/>Free dynamically allocated memory</td></tr>
<tr><td>9</td><td><b>procedure Dispose(P: TypedPointer; Des: TProcedure);</b><br/>Free dynamically allocated memory</td></tr>
<tr><td>10</td><td><b>function Dseg: Word;</b><br/>Return data segment</td></tr>
<tr><td>11</td><td><b>procedure FillByte(var x; count: SizeInt;  value: Byte);</b><br/>Fill memory region with 8-bit pattern</td></tr>
<tr><td>12</td><td><b>procedure FillChar(  var x;  count: SizeInt; Value: Byte|Boolean|Char);</b><br/>Fill memory region with certain character</td></tr>
<tr><td>13</td><td><b>procedure FillDWord( var x; count: SizeInt; value: DWord);</b><br/>Fill memory region with 32-bit pattern</td></tr>
<tr><td>14</td><td><b>procedure FillQWord( var x;  count: SizeInt;  value: QWord);</b><br/>Fill memory region with 64-bit pattern</td></tr>
<tr><td>15</td><td><b>procedure FillWord(  var x;  count: SizeInt;  Value: Word);</b><br/>Fill memory region with 16-bit pattern</td></tr>
<tr><td>16</td><td><b>procedure Freemem(  p: pointer;  Size: PtrUInt);</b><br/>Release allocated memory</td></tr>
<tr><td>17</td><td><b>procedure Freemem(  p: pointer );</b><br/>Release allocated memory</td></tr>
<tr><td>18</td><td><b>procedure Getmem( out p: pointer; Size: PtrUInt);</b><br/>Allocate new memory</td></tr>
<tr><td>19</td><td><b>procedure Getmem( out p: pointer);</b><br/>Allocate new memory</td></tr>
<tr><td>20</td><td><b>procedure GetMemoryManager(  var MemMgr: TMemoryManager);</b><br/>Return current memory manager</td></tr>
<tr><td>21</td><td><b>function High(  Arg: TypeOrVariable):TOrdinal;</b><br/>Return highest index of open array or enumerated</td></tr>
<tr><td>22</td><td><b>function IndexByte(  const buf;  len: SizeInt;  b: Byte):SizeInt;</b><br/>Find byte-sized value in a memory range</td></tr>
<tr><td>23</td><td><b>function IndexChar(  const buf;  len: SizeInt;  b: Char):SizeInt;</b><br/>Find char-sized value in a memory range</td></tr>
<tr><td>24</td><td><b>function IndexDWord(  const buf;  len: SizeInt;  b: DWord):SizeInt;</b><br/>Find DWord-sized (32-bit) value in a memory range</td></tr>
<tr><td>25</td><td><b>function IndexQWord(  const buf;  len: SizeInt;  b: QWord):SizeInt;</b><br/>Find QWord-sized value in a memory range</td></tr>
<tr><td>26</td><td><b>function Indexword(  const buf;  len: SizeInt;  b: Word):SizeInt;</b><br/>Find word-sized value in a memory range</td></tr>
<tr><td>27</td><td><b>function IsMemoryManagerSet: Boolean;</b><br/>Is the memory manager set</td></tr>
<tr><td>28</td><td><b>function Low(  Arg: TypeOrVariable ):TOrdinal;</b><br/>Return lowest index of open array or enumerated</td></tr>
<tr><td>29</td><td><b>procedure Move(  const source;  var dest;  count: SizeInt );</b><br/>Move data from one location in memory to another</td></tr>
<tr><td>30</td><td><b>procedure MoveChar0(  const buf1;  var buf2;  len: SizeInt);</b><br/>Move data till first zero character</td></tr>
<tr><td>31</td><td><b>procedure New(  var P: Pointer);</b><br/>Dynamically allocate memory for variable</td></tr>
<tr><td>32</td><td><b>procedure New(  var P: Pointer;  Cons: TProcedure);</b><br/>Dynamically allocate memory for variable</td></tr>
<tr><td>33</td><td><b>function Ofs(  var X ):LongInt;</b><br/>Return offset of variable</td></tr>
<tr><td>34</td><td><b>function ptr(  sel: LongInt;  off: LongInt):farpointer;</b><br/>Combine segment and offset to pointer</td></tr>
<tr><td>35</td><td><b>function ReAllocMem(  var p: pointer;  Size: PtrUInt):pointer;</b><br/>Resize a memory block on the heap</td></tr>
<tr><td>36</td><td><b>function Seg(  var X):LongInt;</b><br/>Return segment</td></tr>
<tr><td>37</td><td><b>procedure SetMemoryManager(  const MemMgr: TMemoryManager );</b><br/>Set a memory manager</td></tr>
<tr><td>38</td><td><b>function Sptr: Pointer;</b><br/>Return current stack pointer</td></tr>
<tr><td>39</td><td><b>function Sseg: Word;</b><br/>Return stack segment register value</td></tr>
</table>
<hr />
<div class="pre-btn">
<a href="pascal_files_handling.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/pascal_memory.html" alt="Pascal Memory Management" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="pascal_units.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/pascal/pascal_memory.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
