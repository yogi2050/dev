<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/unix/unix-signals-traps.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 20:03:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Unix - Signals and Traps</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Unix Signals and Traps - Learning fundamentals of UNIX in simple and easy steps : A beginner's tutorial containing complete knowledge of Unix Korn  and Bourne Shell and Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta name="keywords" content="Unix, Tutorials, Learning, Operating, System, OS, Beginners, Basics, Korn, Bourne, Shell,Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#00afe4  !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#00afe4  !important;
}
#topmenu
{
background-color:#113e78 !important;
}
#leftcol ul.menu li.heading 
{
background:#00afe4 !important;
border:1px solid #113e78  !important;
}
#leftcol, #middlecol, #rightcol {min-height:1400px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index.htm">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index.htm" target="_top">HOME </a>
<a href="../java/index.htm" target="_top">JAVA </a>
<a href="../php/index.htm" target="_top">PHP </a>
<a href="../python/index.htm" target="_top">Python </a>
<a href="../ruby/index.htm" target="_top">Ruby </a>
<a href="../perl/index.htm" target="_top">Perl </a>
<a href="../html/index.htm" target="_top">HTML </a>
<a href="../css/index.htm" target="_top">CSS </a>
<a href="../javascript/index.htm" target="_top">Javascript </a>
<a href="../mysql/index.htm" target="_top">MySQL </a>
<a href="../cplusplus/index.htm" target="_top">C++ </a>
<a href="index.htm" target="_top">UNIX </a>
<a href="../more.htm" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.htm" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.htm" target="_top">ABOUT</a> |
<a href="../about/contact_us.htm" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/unix-mini-logo.png" alt="Unix Tutorial" />
</div>
<ul class="menu">
<li class="heading">Unix for Beginners</li>
<li><a target="_top" href="index.htm">Unix - Home</a></li>
<li><a target="_top" href="unix-getting-started.htm">Unix - Getting Started</a></li>
<li><a target="_top" href="unix-file-management.htm">Unix - File Management</a></li>
<li><a target="_top" href="unix-directories.htm">Unix - Directories</a></li>
<li><a target="_top" href="unix-file-permission.htm">Unix - File Permission</a></li>
<li><a target="_top" href="unix-environment.htm">Unix - Environment</a></li>
<li><a target="_top" href="unix-basic-utilities.htm">Unix - Basic Utilities</a></li>
<li><a target="_top" href="unix-pipes-filters.htm">Unix - Pipes &amp; Filters</a></li>
<li><a target="_top" href="unix-processes.htm">Unix - Processes</a></li>
<li><a target="_top" href="unix-communication.htm">Unix - Communication</a></li>
<li><a target="_top" href="unix-vi-editor.htm">Unix - The vi Editor</a></li>
</ul>
<ul class="menu">
<li class="heading">Unix Shell Programming</li>
<li><a target="_top" href="unix-shell.htm">Unix - What is Shell?</a></li>
<li><a target="_top" href="unix-using-variables.htm">Unix - Using Variables</a></li>
<li><a target="_top" href="unix-special-variables.htm">Unix - Special Variables</a></li>
<li><a target="_top" href="unix-using-arrays.htm">Unix - Using Arrays</a></li>
<li><a target="_top" href="unix-basic-operators.htm">Unix - Basic Operators</a></li>
<li><a target="_top" href="unix-decision-making.htm">Unix - Decision Making</a></li>
<li><a target="_top" href="unix-shell-loops.htm">Unix - Shell Loops</a></li>
<li><a target="_top" href="unix-loop-control.htm">Unix - Loop Control</a></li>
<li><a target="_top" href="unix-shell-substitutions.htm">Unix - Shell Substitutions</a></li>
<li><a target="_top" href="unix-quoting-mechanisms.htm">Unix - Quoting Mechanisms</a></li>
<li><a target="_top" href="unix-io-redirections.htm">Unix - IO Redirections</a></li>
<li><a target="_top" href="unix-shell-functions.htm">Unix - Shell Functions</a></li>
<li><a target="_top" href="unix-manpage-help.htm">Unix - Manpage Help</a></li>
</ul>
<ul class="menu">
<li class="heading">Advanced Unix</li>
<li><a target="_top" href="unix-regular-expressions.htm">Unix - Regular Expressions</a></li>
<li><a target="_top" href="unix-file-system.htm">Unix - File System Basics</a></li>
<li><a target="_top" href="unix-user-administration.htm">Unix - User Administration</a></li>
<li><a target="_top" href="unix-system-performance.htm">Unix - System Performance</a></li>
<li><a target="_top" href="unix-system-logging.htm">Unix - System Logging</a></li>
<li><a target="_top" href="unix-signals-traps.htm"><b>Unix - Signals and Traps</b></a></li>
</ul>
<ul class="menu">
<li class="heading">Unix Useful Resources</li>
<li><a target="_top" href="unix-useful-commands.htm">Unix - Useful Commands</a></li>
<li><a target="_top" href="unix-quick-guide.htm">Unix - Quick Guide</a></li>
<li><a target="_top" href="unix-builtin-functions.htm">Unix - Builtin Functions</a></li>
<li><a target="_top" href="../unix_system_calls/index.htm">Unix - System Calls</a></li>
<li><a target="_top" href="../unix_commands/index.htm">Unix - Commands List</a></li>
<li><a target="_top" href="unix-useful-resources.htm">Unix Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
 <div class="content">
<h1>Unix - Signals and Traps</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="unix-system-performance.htm">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="unix-useful-commands.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>Signals are software interrupts sent to a program to indicate that an important event has occurred. The events can vary from user requests to illegal memory access errors. Some signals, such as the interrupt signal, indicate that a user has asked the program to do something that is not in the usual flow of control.</p>
<p>The following are some of the more common signals you might encounter and want to use in your programs:</p>
<table class="src">
<tr>
<th style="width:20%">Signal Name</th><th style="width:10%">Signal Number</th><th style="width:70%">Description</th>
</tr>
<tr><td>SIGHUP</td><td>1</td><td>Hang up detected on controlling terminal or death of controlling process</td></tr>
<tr><td>SIGINT</td><td>2</td><td>Issued if the user sends an interrupt signal (Ctrl + C).</td></tr>
<tr><td>SIGQUIT</td><td>3</td><td>Issued if the user sends a quit signal (Ctrl + D).</td></tr>
<tr><td>SIGFPE</td><td>8</td><td>Issued if an illegal mathematical operation is attempted</td></tr>
<tr><td>SIGKILL</td><td>9</td><td>If a process gets this signal it must quit immediately and will not perform any clean-up operations</td></tr>
<tr><td>SIGALRM</td><td>14</td><td>Alarm Clock signal (used for timers)</td></tr>
<tr><td>SIGTERM</td><td>15</td><td>Software termination signal (sent by kill by default).</td></tr>
</table>
<h2>List of Signals:</h2>
<p>There is an easy way to list down all the signals supported by your system. Just issue <b>kill -l</b> command and it would display all the supported signals:</p>
<pre class="prettyprint">
$ kill -l
 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL
 5) SIGTRAP      6) SIGABRT      7) SIGBUS       8) SIGFPE
 9) SIGKILL     10) SIGUSR1     11) SIGSEGV     12) SIGUSR2
13) SIGPIPE     14) SIGALRM     15) SIGTERM     16) SIGSTKFLT
17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP
21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU
25) SIGXFSZ     26) SIGVTALRM   27) SIGPROF     28) SIGWINCH
29) SIGIO       30) SIGPWR      31) SIGSYS      34) SIGRTMIN
35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3  38) SIGRTMIN+4
39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8
43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12
47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14
51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10
55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7  58) SIGRTMAX-6
59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2
63) SIGRTMAX-1  64) SIGRTMAX
</pre>
<p>The actual list of signals varies between Solaris, HP-UX, and Linux.</p>
<h2>Default Actions:</h2>
<p>Every signal has a default action associated with it. The default action for a signal is the action that a script or program performs when it receives a signal.</p>
<p>Some of the possible default actions are:</p>
<ul class="list">
<li><p>Terminate the process.</p></li>
<li><p>Ignore the signal.</p></li>
<li><p>Dump core. This creates a file called core containing the memory image of the process when it received the signal.</p></li>
<li><p>Stop the process.</p></li>
<li><p>Continue a stopped process.</p></li>
</ul>
<h2>Sending Signals:</h2>
<p>There are several methods of delivering signals to a program or script. One of the most common is for a user to type CONTROL-C or the INTERRUPT key while a script is executing.</p>
<p>When you press the <i>Ctrl+C</i> key a SIGINT is sent to the script and as per defined default action script terminates.</p>
<p>The other common method for delivering signals is to use the kill command whose syntax is as follows:</p>
<pre class="prettyprint">
$ kill -signal pid
</pre>
<p>Here <b>signal</b> is either the number or name of the signal to deliver and <b>pid</b> is the process ID that the signal should be sent to. For Example:</p>
<pre class="prettyprint">
$ kill -1 1001
</pre>
<p>Sends the HUP or hang-up signal to the program that is running with process ID 1001. To send a kill signal to the same process use the folloing command:</p>
<pre class="prettyprint">
$ kill -9 1001
</pre>
<p>This would kill the process running with process ID 1001.</p>
<h2>Trapping Signals:</h2>
<p>When you press the <i>Ctrl+C</i> or Break key at your terminal during execution of a shell program, normally that program is immediately terminated, and your command prompt returned. This may not always be desirable. For instance, you may end up leaving a bunch of temporary files that won't get cleaned up.</p>
<p>Trapping these signals is quite easy, and the trap command has the following syntax:</p>
<pre class="prettyprint">
$ trap commands signals
</pre>
<p>Here <i>command</i> can be any valid Unix command, or even a user-defined function, and signal can be a list of any number of signals you want to trap.</p>
<p>There are three common uses for trap in shell scripts:</p>
<ol class="list">
<li><p>Clean up temporary files</p></li>
<li><p>Ignore signals</p></li>
</ol>
<h2>Cleaning Up Temporary Files:</h2>
<p>As an example of the trap command, the following shows how you can remove some files and then exit if someone tries to abort the program from the terminal:</p>
<pre class="prettyprint">
$ trap "rm -f $WORKDIR/work1$$ $WORKDIR/dataout$$; exit" 2
</pre>
<p>From the point in the shell program that this trap is executed, the two files <i>work1$$</i> and <i>dataout$$</i> will be automatically removed if signal number 2 is received by the program.</p>
<p>So if the user interrupts execution of the program after this trap is executed, you can be assured that these two files will be cleaned up. The <b>exit</b> command that follows the <b>rm</b> is necessary because without it execution would continue in the program at the point that it left off when the signal was received.</p>
<p>Signal number 1 is generated for hangup: Either someone intentionally hangs up the line or the line gets accidentally disconnected.</p>
<p>You can modify the preceding trap to also remove the two specified files in this case by adding signal number 1 to the list of signals:</p>
<pre class="prettyprint">
$ trap "rm $WORKDIR/work1$$ $WORKDIR/dataout$$; exit" 1 2
</pre>
<p>Now these files will be removed if the line gets hung up or if the <i>Ctrl+C</i> key gets pressed.</p>
<p>The commands specified to trap must be enclosed in quotes if they contain more than one command. Also note that the shell scans the command line at the time that the trap command gets executed and also again when one of the listed signals is received.</p>
<p>So in the preceding example, the value of WORKDIR and $$ will be substituted at the time that the trap command is executed. If you wanted this substitution to occur at the time that either signal 1 or 2 was received you can put the commands inside single quotes:</p>
<pre class="prettyprint">
$ trap 'rm $WORKDIR/work1$$ $WORKDIR/dataout$$; exit' 1 2
</pre>
<h2>Ignoring Signals:</h2>
<p>If the command listed for trap is null, the specified signal will be ignored when received. For example, the command:</p>
<pre class="prettyprint">
$ trap '' 2
</pre>
<p>Specifies that the interrupt signal is to be ignored. You might want to ignore certain signals when performing some operation that you don't want interrupted. You can specify multiple signals to be ignored as follows:</p>
<pre class="prettyprint">
$ trap '' 1 2 3 15
</pre>
<p>Note that the first argument must be specified for a signal to be ignored and is not equivalent to writing the following, which has a separate meaning of its own:</p>
<pre class="prettyprint">
$ trap  2
</pre>
<p>If you ignore a signal, all subshells also ignore that signal. However, if you specify an action to be taken on receipt of a signal, all subshells will still take the default action on receipt of that signal.</p>
<h2>Resetting Traps:</h2>
<p>After you've changed the default action to be taken on receipt of a signal, you can change it back again with trap if you simply omit the first argument; so</p>
<pre class="prettyprint">
$ trap 1 2
</pre>
<p>resets the action to be taken on receipt of signals 1 or 2 back to the default.</p>
<hr />
<div class="pre-btn">
<a href="unix-system-performance.htm">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/unix-signals-traps.pdf" alt="Unix - Signals and Traps" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="unix-useful-commands.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.htm" target="_top">ASP.NET </a> |
<a href="../jquery/index.htm" target="_top">jQuery </a> |
<a href="../ajax/index.htm" target="_top">AJAX </a> |
<a href="../ant/index.htm" target="_top">ANT</a> |
<a href="../jsp/index.htm" target="_top">JSP </a> |
<a href="../servlets/index.htm" target="_top">Servlets </a> |
<a href="../log4j/index.htm" target="_top">log4j </a> |
<a href="../ibatis/index.htm" target="_top">iBATIS </a> |
<a href="../hibernate/index.htm" target="_top">Hibernate </a> |
<a href="../jdbc/index.htm" target="_top">JDBC </a> |
<a href="../struts_2/index.htm" target="_top">Struts </a> |
<a href="../html5/index.htm" target="_top">HTML5 </a> |
<a href="../sql/index.htm" target="_top">SQL </a> |
<a href="../mysql/index.htm" target="_top">MySQL </a> |
<a href="../cplusplus/index.htm" target="_top">C++ </a> |
<a href="index.htm" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/unix/unix-signals-traps.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 20:03:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>