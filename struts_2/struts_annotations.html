<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/struts_2/struts_annotations.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:51:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Struts 2 Annotations</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Struts 2 Annotations and Zero Configuration with Examples - Learn what is Basic Model View and Controller Architecture along with Struts 2 in simple and easy steps starting from Environment Setup, Architecture, Configuration, Actions, Interceptors, Results, Result Types, File Uploads, Database Access, Validations, Localization, Type Conversion, Tag Library, Exeption Handling and Annotations." />
<meta name="Keywords" content="Struts, Tutorials, Learning, Beginners, Environment Setup, Architecture, Configuration, Actions, Interceptors, Results, Result Types, File Uploads, Database Access, Validations, Localization, Type Conversion, Tag Library, Exeption Handling, Annotations." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#5c83ba !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#5c83ba !important;
}
#topmenu
{
background-color:#121212 !important;
}
#leftcol ul.menu li.heading 
{
background:#5c83ba !important;
border:1px solid #121212 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1020px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/struts-mini-logo.png" alt="Struts Tutorial" />
</div>
<ul class="menu">
<li class="heading">Struts 2 Basics</li>
<li><a class="left" target="_top" href="index.html">Struts2 Home</a></li>
<li><a class="left" target="_top" href="basic_mvc_architecture.html">Basic MVC Architecture</a></li>
<li><a class="left" target="_top" href="struts_overview.html">Struts2 Overview</a></li>
<li><a class="left" target="_top" href="struts_environment_setup.html">Struts2 Environment Setup</a></li>
<li><a class="left" target="_top" href="struts_architecture.html">Struts2 Architecture</a></li>
<li><a class="left" target="_top" href="struts_examples.html">Struts2 Examples</a></li>
<li><a class="left" target="_top" href="struts_configuration.html">Struts2 Configuration</a></li>
<li><a class="left" target="_top" href="struts_actions.html">Struts2 Actions</a></li>
<li><a class="left" target="_top" href="struts_interceptors.html">Struts2 Interceptors</a></li>
<li><a class="left" target="_top" href="struts_result_types.html">Struts2 Result Types</a></li>
<li><a class="left" target="_top" href="struts_value_stack_ognl.html">Struts2 Value Stack/OGNL</a></li>
<li><a class="left" target="_top" href="struts_file_uploads.html">Struts2 File Uploads</a></li>
<li><a class="left" target="_top" href="struts_database_access.html">Struts2 Database Access</a></li>
<li><a class="left" target="_top" href="struts_sending_email.html">Struts2 Sending Email</a></li>
<li><a class="left" target="_top" href="struts_validations.html">Struts2 Validations</a></li>
<li><a class="left" target="_top" href="struts_localization.html">Struts2 Localization</a></li>
<li><a class="left" target="_top" href="struts_type_conversion.html">Struts2 Type Conversion</a></li>
<li><a class="left" target="_top" href="struts_themes_templates.html">Struts2 Themes/Templates</a></li>
<li><a class="left" target="_top" href="struts_exception_handling.html">Struts2 Exception Handling</a></li>
<li><a class="left" target="_top" href="struts_annotations.html"><b>Struts2 Annotations</b></a></li>
</ul>
<ul class="menu">
<li class="heading">Struts 2 Tags</li>
<li><a class="left" target="_top" href="struts_control_tags.html">Struts2 Control Tags</a></li>
<li><a class="left" target="_top" href="struts_data_tags.html">Struts2 Data Tags</a></li>
<li><a class="left" target="_top" href="struts_form_tags.html">Struts2 Form Tags</a></li>
<li><a class="left" target="_top" href="struts_ajax_tags.html">Struts2 Ajax Tags</a></li>
</ul>
<ul class="menu">
<li class="heading">Struts 2 Integrations</li>
<li><a class="left" target="_top" href="struts_spring.html">Struts2 - Spring</a></li>
<li><a class="left" target="_top" href="struts_tiles.html">Struts2 - Tiles</a></li>
<li><a class="left" target="_top" href="struts_hibernate.html">Struts2 - Hibernate</a></li>
</ul>
<ul class="menu">
<li class="heading">Struts 2 Useful Resources</li>
<li><a class="left" target="_top" href="struts_quick_guide.html">Struts2 Quick Guide</a></li>
<li><a class="left" target="_top" href="struts_useful_resources.html">Struts2 Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Struts 2 Annotations</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="struts_exception_handling.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="struts_control_tags.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>As mentioned previously, Struts provides two forms of configuration. The traditional way is to use the <b>struts.xml</b> file for all the configurations. We have seen so many examples of that in the tutorail so far. The other way of configuring Struts is by using the Java 5 Annotations feature. Using the struts annotations, we can achieve <b>Zero Configuration</b>.</p>
<p>To start using annotations in your project, make sure you have included following jar files in your <b>WebContent/WEB-INF/lib</b> folder:</p>
<ul class="list">
<li><p>struts2-convention-plugin-x.y.z.jar</p></li>
<li><p>asm-x.y.jar</p></li>
<li><p>antlr-x.y.z.jar</p></li>
<li><p>commons-fileupload-x.y.z.jar</p></li>
<li><p>commons-io-x.y.z.jar</p></li>
<li><p>commons-lang-x.y.jar</p></li>
<li><p>commons-logging-x.y.z.jar</p></li>
<li><p>commons-logging-api-x.y.jar</p></li>
<li><p>freemarker-x.y.z.jar</p></li>
<li><p>javassist-.xy.z.GA</p></li>
<li><p>ognl-x.y.z.jar</p></li>
<li><p>struts2-core-x.y.z.jar</p></li>
<li><p>xwork-core.x.y.z.jar</p></li>
</ul>
<p>Now let us see how you can do away with the configuration available in the <b>struts.xml</b> file and replace it with annotaions.</p>
<p>To explain the concept of Annotation in Struts2, we would have to reconsider our validation example explained in <a href="struts_validations.html">Struts2 Validations</a> chapter.</p>
<p>Here we will take an example of <b>Employee</b> whose name and age would be captured using a simple page and we will put two validation to make sure that use always enters a name and age should be in between 28 and 65. So let us start with the main JSP page of the example.</p>
<h2>Create main page:</h2>
<p>Let us write main page JSP file <b>index.jsp</b>, which will be used to collect Employee related information mentioned above.</p>
<pre class="prettyprint">
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
   pageEncoding="ISO-8859-1"%&gt;
&lt;%@ taglib prefix="s" uri="/struts-tags"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
"http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Employee Form&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

   &lt;s:form action="empinfo" method="post"&gt;
      &lt;s:textfield name="name" label="Name" size="20" /&gt;
      &lt;s:textfield name="age" label="Age" size="20" /&gt;
      &lt;s:submit name="submit" label="Submit" align="center" /&gt;
   &lt;/s:form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The index.jsp makes use of Struts tag, which we have not covered yet but we will study them in tags related chapters. But for now, just assume that the s:textfield tag prints a input field, and the s:submit prints a submit button. We have used label property for each tag which creates label for each tag.</p>
<h2>Create Views:</h2>
<p>We will use JSP file <b>success.jsp</b> which  will be invoked in case defined action returns SUCCESS.</p>
<pre class="prettyprint">
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%&gt;
&lt;%@ taglib prefix="s" uri="/struts-tags"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
"http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Success&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
   Employee Information is captured successfully.
&lt;/body&gt;
&lt;/html&gt;
</pre>
<h2>Create Action:</h2>
<p>This is the place where annotation will be used. Let us re-define action class <b>Employee</b> with annotation, and then add a method called <b>validate()</b> as shown below in <b>Employee.java</b> file. Make sure that your action class extends the <b>ActionSupport</b>  class, otherwise your validate method will not be executed.</p>
<pre class="prettyprint">
package com.tutorialspoint.struts2;

import com.opensymphony.xwork2.ActionSupport;
import org.apache.struts2.convention.annotation.Action;
import org.apache.struts2.convention.annotation.Result;
import org.apache.struts2.convention.annotation.Results;
import com.opensymphony.xwork2.validator.annotations.*;

@Results({
   @Result(name="success", location="/success.jsp"),
   @Result(name="input", location="/index.jsp")
})
public class Employee extends ActionSupport{
   private String name;
   private int age;

   @Action(value="/empinfo")
   public String execute() 
   {
       return SUCCESS;
   }

   @RequiredFieldValidator( message = "The name is required" )
   public String getName() {
       return name;
   }
   public void setName(String name) {
       this.name = name;
   }

   @IntRangeFieldValidator(message = "Age must be in between 28 and 65",
                                      min = "29", max = "65")
   public int getAge() {
       return age;
   }
   public void setAge(int age) {
       this.age = age;
   }
}
</pre>
<p>We have used few annotations in this example. Let me go through them one by one:</p>
<ul class="list">
<li><p>First, we have included the <b>Results</b> annotation. A Results annotation is a collection of results. Under the results annotation, we have two result annotations. The result annotations have the <b>name</b> that correspond to the outcome of the execute method. They also contain a location as to which view should be served corresponding to return value from execute().</p></li>
<li><p>The next annotation is the <b>Action</b> annotation. This is used to decorate the execute() method. The Action method also takes in a value which is the URL on which the action is invoked.</p></li>
<li><p>Finally, I have used two <b>validation</b> annotations. I have configured the required field validator on <b>name</b> field and the integer range validator on the <b>age</b> field. I have also specified a custom message for the validations.</p></li>
</ul>
<h2>Configuration Files:</h2>
<p>We really do not need <b>struts.xml</b> configuration file, so let us remove this file and let us check the content of <b>web.xml</b> file:</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns="http://java.sun.com/xml/ns/javaee"
   xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
   xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
   http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
   id="WebApp_ID" version="3.0"&gt;

   &lt;display-name&gt;Struts 2&lt;/display-name&gt;
   &lt;welcome-file-list&gt;
      &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
   &lt;/welcome-file-list&gt;

   &lt;filter&gt;
      &lt;filter-name&gt;struts2&lt;/filter-name&gt;
      &lt;filter-class&gt;
         org.apache.struts2.dispatcher.FilterDispatcher
      &lt;/filter-class&gt;
      &lt;init-param&gt;
         &lt;param-name&gt;struts.devMode&lt;/param-name&gt;
         &lt;param-value&gt;true&lt;/param-value&gt;
      &lt;/init-param&gt;
   &lt;/filter&gt;

   &lt;filter-mapping&gt;
      &lt;filter-name&gt;struts2&lt;/filter-name&gt;
      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
   &lt;/filter-mapping&gt;
&lt;/web-app&gt;
</pre>
<p>Now, right click on the project name and click <b>Export &gt; WAR File</b> to create a War file. Then deploy this WAR in the Tomcat's webapps directory. Finally, start Tomcat server and try to access URL http://localhost:8080/HelloWorldStruts2/index.jsp. This will give you following screen:</p>
<center>
<img class="main" src="../images/helloworldstruts12.jpg" alt="Email User Input" />
</center>
<p>Now do not enter any required information, just click on <b>Submit</b> button. You will see following result:</p>
<center>
<img class="main" src="../images/helloworldstruts121.jpg" alt="Error" />
</center>
<p>Enter the required information but enter a wrong From field, let us say name as "test" and age as 30, and finally click on <b>Submit</b> button. You will see following result:</p>
<center>
<img class="main" src="../images/helloworldstruts122.jpg" alt="Success" />
</center>
<h2>Struts 2 Annotations Types:</h2>
<p>Struts 2 applications can use Java 5 annotations as an alternative to XML and Java properties configuration. You can check the list of most important annotations related to different categories:</p>
<p><a href="struts_annotations_types.htm">Struts 2 Annotations Types</a>.</p>
<hr />
<div class="pre-btn">
<a href="struts_exception_handling.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/struts_annotations.pdf" alt="Struts 2 Annotations" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="struts_control_tags.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/struts_2/struts_annotations.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:51:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>