<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/plsql/plsql_exceptions.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>PL/SQL Exceptions</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="PL/SQL Exceptions - Learn PL/SQL programming in simple and easy steps starting with PL/SQL syntax, data types, variables, constants, records, conditional statements, iterative statements, cursors, precedures, functions, exception handling, triggers, packages, collections, external procedures, arrays, strings, dbms output, object oriented." />
<meta name="keywords" content="PL/SQL, syntax, data types, variables, constants, records, conditional statements, decision making, iterative statements, loops, cursors, precedures, functions, exception handling, triggers, packages, collections, external procedures, object oriented" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<script type="text/javascript" src="../scripts/lang-sql.html"></script>
<style media="screen" type="text/css">
/* Pascal Scheme */
#header{ 
   background:#dd1f20 !important;
}
#topmenu
{
   background-color:#454545 !important;
}
#leftcol ul.menu li.heading 
{
   background:#dd1f20 !important;
   border:1px solid #454545 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1250px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
   _uacct = "UA-232293-6";
   urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/plsql-mini.png" alt="PL/SQL tutorial" />
</div>
<ul class="menu">
<li class="heading">PL/SQL Tutorial</li>
<li><a target="_top" href="index.html">PL/SQL - Home</a></li>
<li><a target="_top" href="plsql_overview.html">PL/SQL - Overview</a></li>
<li><a target="_top" href="plsql_environment_setup.html">PL/SQL - Environment</a></li>
<li><a target="_top" href="plsql_basic_syntax.html">PL/SQL - Basic Syntax</a></li>
<li><a target="_top" href="plsql_data_types.html">PL/SQL - Data Types</a></li>
<li><a target="_top" href="plsql_variable_types.html">PL/SQL - Variables</a></li>
<li><a target="_top" href="plsql_constants.html">PL/SQL - Constants</a></li>
<li><a target="_top" href="plsql_operators.html">PL/SQL - Operators</a></li>
<li><a target="_top" href="plsql_conditional_control.html">PL/SQL - Conditions</a></li>
<li><a target="_top" href="plsql_loops.html">PL/SQL - Loops </a></li>
<li><a target="_top" href="plsql_strings.html">PL/SQL - Strings</a></li>
<li><a target="_top" href="plsql_arrays.html">PL/SQL - Arrays</a></li>
<li><a target="_top" href="plsql_procedures.html">PL/SQL - Procedures</a></li>
<li><a target="_top" href="plsql_functions.html">PL/SQL - Functions</a></li>
<li><a target="_top" href="plsql_cursors.html">PL/SQL - Cursors</a></li>
<li><a target="_top" href="plsql_records.html">PL/SQL - Records</a></li>
<li><a target="_top" href="plsql_exceptions.html"><b>PL/SQL - Exceptions</b></a></li>
<li><a target="_top" href="plsql_triggers.html">PL/SQL - Triggers</a></li>
<li><a target="_top" href="plsql_packages.html">PL/SQL - Packages</a></li>
<li><a target="_top" href="plsql_collections.html">PL/SQL - Collections</a></li>
<li><a target="_top" href="plsql_transactions.html">PL/SQL - Transactions</a></li>
<li><a target="_top" href="plsql_date_time.html">PL/SQL - Date &amp; Time</a></li>
<li><a target="_top" href="plsql_dbms_output.html">PL/SQL - DBMS Output</a></li>
<li><a target="_top" href="plsql_object_oriented.html">PL/SQL - Object Oriented</a></li>
</ul>
<ul class="menu">
<li class="heading">PL/SQL  Useful Resources</li>
<li><a target="_top" href="plsql_quick_guide.html">PL/SQL - Quick Guide</a></li>
<li><a target="_top" href="plsql_useful_resources.html">PL/SQL - Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>PL/SQL - Exceptions</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="plsql_records.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="plsql_triggers.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>An error condition during a program execution is called an exception in PL/SQL. PL/SQL supports programmers to catch such conditions using <b>EXCEPTION</b> block in the program and an appropriate action is taken against the error condition. There are two types of exceptions:</p>
<ul class="list">
<li><p>Systen-defined exceptions</p></li>
<li><p>User-defined exceptions</p></li>
</ul>
<h2>Syntax for Exception Handling</h2>
<p>The General Syntax for exception handling is as follows. Here you can list down as many as exceptions you want to handle. The default exception will be handled using <i>WHEN others THEN</i>:</p>
<pre class="prettyprint lang-sql">
DECLARE
   &lt;declarations section&gt;
BEGIN
   &lt;executable command(s)&gt;
EXCEPTION
   &lt;exception handling goes here &gt;
   WHEN exception1 THEN 
       exception1-handling-statements 
   WHEN exception2  THEN 
      exception2-handling-statements 
   WHEN exception3 THEN 
      exception3-handling-statements
   ........
   WHEN others THEN
      exception3-handling-statements
END;
</pre>
<h2>Example</h2>
<p>Let us write some simple code to illustrate the concept. We will be using the CUSTOMERS table we had created and used in the previous chapters:</p>
<pre class="prettyprint lang-sql">
DECLARE
   c_id customers.id%type := 8;
   c_name  customers.name%type;
   c_addr customers.address%type;
BEGIN
   SELECT  name, address INTO  c_name, c_addr
   FROM customers
   WHERE id = c_id;

   DBMS_OUTPUT.PUT_LINE ('Name: '||  c_name);
   DBMS_OUTPUT.PUT_LINE ('Address: ' || c_addr);
EXCEPTION
   WHEN no_data_found THEN
      dbms_output.put_line('No such customer!');
   WHEN others THEN
      dbms_output.put_line('Error!');
END;
/
</pre>
<p>When the above code is executed at SQL prompt, it produces the following result:</p>
<pre class="result">
No such customer!

PL/SQL procedure successfully completed.
</pre>
<p>The above program displays the name and address of a customer whose ID is given. Since there is no customer with ID value 8 in our database, the program raises the run-time exception <b>NO_DATA_FOUND</b> which is captured  in <b>EXCEPTION</b> block.</p>
<h2>Raising Exceptions</h2>
<p>Exceptions are raised by the database server automatically whenever there is any internal database errors, but exceptions can be raised explicitly by the programmer by using the command <b>RAISE</b>. Following is the simple syntax of raising an exception:</p> 
<pre class="prettyprint lang-sql">
DECLARE
   exception_name EXCEPTION;
BEGIN
   IF condition THEN
      RAISE exception_name;
   END IF;
EXCEPTION
   WHEN exception_name THEN
   statement;
END;
</pre>
<p>You can use above syntax in raising Oracle standard exception or any user-defined exception. Next section will give you an example on raising user-defined exception, similar way you can raise Oracle standard exceptions as well.</p>
<h2>User-defined Exceptions</h2>
<p>PL/SQL allows you to define your own exceptions according to the need of your program. A user-defined exception must be declared and then raised explicitly, using either a RAISE statement or the procedure DBMS_STANDARD.RAISE_APPLICATION_ERROR. </p>
<p>The syntax for declaring an exception is:</p>
<pre class="prettyprint lang-sql">
DECLARE
   my-exception EXCEPTION;
</pre>
<h2>Example:</h2>
<p>The following example illustrates the concept. This program asks for a customer ID, when the user enters an invalid ID, the exception invalid_id is raised. </p>
<pre class="prettyprint lang-sql">
DECLARE
   c_id customers.id%type := &amp;cc_id;
   c_name  customers.name%type;
   c_addr customers.address%type;

   -- user defined exception
   ex_invalid_id  EXCEPTION;
BEGIN
   IF c_id &lt;= 0 THEN
      RAISE ex_invalid_id;
   ELSE
      SELECT  name, address INTO  c_name, c_addr
      FROM customers
      WHERE id = c_id;
	  
      DBMS_OUTPUT.PUT_LINE ('Name: '||  c_name);
      DBMS_OUTPUT.PUT_LINE ('Address: ' || c_addr);
   END IF;
EXCEPTION
   WHEN ex_invalid_id THEN
      dbms_output.put_line('ID must be greater than zero!');
   WHEN no_data_found THEN
      dbms_output.put_line('No such customer!');
   WHEN others THEN
      dbms_output.put_line('Error!'); 
END;
/
</pre>
<p>When the above code is executed at SQL prompt, it produces the following result:</p>
<pre class="result">
Enter value for cc_id: -6 (let's enter a value -6)
old  2: c_id customers.id%type := &amp;cc_id;
new  2: c_id customers.id%type := -6;
ID must be greater than zero!

PL/SQL procedure successfully completed.
</pre>
<h2>Pre-defined Exceptions</h2>
<p>PL/SQL provides many pre-defined exceptions which are executed when any database rule is violated by a program. For example, the predefined exception NO_DATA_FOUND is raised when a SELECT INTO statement returns no rows. The following table lists few of the important pre-defined exceptions:</p>
<table class="src">
<tr><th style="width:25%;">Exception</th><th style="width:10%;">Oracle Error</th><th style="width:10%;">SQLCODE</th><th>Description</th></tr>
<tr><td>ACCESS_INTO_NULL</td><td>06530</td><td>-6530</td><td>It is raised when a null object is automatically assigned a value.</td></tr>
<tr><td>CASE_NOT_FOUND</td><td>06592</td><td>-6592</td>
<td>It is raised when none of the choices in the WHEN clauses of a CASE statement is selected, and there is no ELSE clause.</td></tr>
<tr><td>COLLECTION_IS_NULL</td><td>06531</td><td>-6531</td>
<td>It is raised when a program attempts to apply collection methods other than EXISTS to an uninitialized nested table or varray, or the program attempts to assign values to the elements of an uninitialized nested table or varray.</td></tr>
<tr><td>DUP_VAL_ON_INDEX</td><td>00001</td><td>-1</td>
<td>It is raised when duplicate values are attempted to be stored in a column with unique index.</td></tr>
<tr><td>INVALID_CURSOR</td><td>01001</td><td>-1001</td>
<td>It is raised when attempts are made to make a cursor operation that is not allowed, such as closing an unopened cursor.</td></tr>
<tr><td>INVALID_NUMBER</td><td>01722</td><td>-1722</td>
<td>It is raised when the conversion of a character string into a number fails because the string does not represent a valid number. </td></tr>
<tr><td>LOGIN_DENIED</td><td>01017</td><td>-1017</td>
<td>It is raised when s program attempts to log on to the database with an invalid username or password.</td></tr>
<tr><td>NO_DATA_FOUND</td><td>01403</td><td>+100</td><td>It is raised when a SELECT INTO statement returns no rows.</td></tr>
<tr><td>NOT_LOGGED_ON</td><td>01012</td><td>-1012</td>
<td>It is raised when a database call is issued without being connected to the database.</td></tr>
<tr><td>PROGRAM_ERROR</td><td>06501</td><td>-6501</td><td>It is raised when PL/SQL has an internal problem.</td></tr>
<tr><td>ROWTYPE_MISMATCH</td><td>06504</td><td>-6504</td><td>It is raised when a cursor fetches value in a variable having incompatible data type.</td></tr>
<tr><td>SELF_IS_NULL</td><td>30625</td><td>-30625</td>
<td>It is raised when a member method is invoked, but the instance of the object type was not initialized. </td></tr>
<tr><td>STORAGE_ERROR</td><td>06500</td><td>-6500</td><td>It is raised when PL/SQL ran out of memory or memory was corrupted.</td></tr>
<tr><td>TOO_MANY_ROWS</td><td>01422</td><td>-1422</td><td>It is raised when s SELECT INTO statement returns more than one row.</td></tr>
<tr><td>VALUE_ERROR</td><td>06502</td><td>-6502</td><td>It is raised when an arithmetic, conversion, truncation, or size-constraint error occurs. </td></tr>
<tr><td>ZERO_DIVIDE</td><td>01476</td><td>1476</td><td>It is raised when an attempt is made to divide a number by zero.</td></tr>
</table>
<hr />
<div class="pre-btn">
<a href="plsql_records.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/plsql_exceptions.html" alt="PL/SQL Exceptions" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="plsql_triggers.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/plsql/plsql_exceptions.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
