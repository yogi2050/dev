<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/plsql/plsql_transactions.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>PL/SQL Transactions</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="PL/SQL Transactions - Learn PL/SQL programming in simple and easy steps starting with PL/SQL syntax, data types, variables, constants, records, conditional statements, iterative statements, cursors, precedures, functions, exception handling, triggers, packages, collections, external procedures, arrays, strings, dbms output, object oriented." />
<meta name="keywords" content="PL/SQL, syntax, data types, variables, constants, records, conditional statements, decision making, iterative statements, loops, cursors, precedures, functions, exception handling, triggers, packages, collections, external procedures, object oriented" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<script type="text/javascript" src="../scripts/lang-sql.html"></script>
<style media="screen" type="text/css">
/* Pascal Scheme */
#header{ 
   background:#dd1f20 !important;
}
#topmenu
{
   background-color:#454545 !important;
}
#leftcol ul.menu li.heading 
{
   background:#dd1f20 !important;
   border:1px solid #454545 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1250px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
   _uacct = "UA-232293-6";
   urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/plsql-mini.png" alt="PL/SQL tutorial" />
</div>
<ul class="menu">
<li class="heading">PL/SQL Tutorial</li>
<li><a target="_top" href="index.html">PL/SQL - Home</a></li>
<li><a target="_top" href="plsql_overview.html">PL/SQL - Overview</a></li>
<li><a target="_top" href="plsql_environment_setup.html">PL/SQL - Environment</a></li>
<li><a target="_top" href="plsql_basic_syntax.html">PL/SQL - Basic Syntax</a></li>
<li><a target="_top" href="plsql_data_types.html">PL/SQL - Data Types</a></li>
<li><a target="_top" href="plsql_variable_types.html">PL/SQL - Variables</a></li>
<li><a target="_top" href="plsql_constants.html">PL/SQL - Constants</a></li>
<li><a target="_top" href="plsql_operators.html">PL/SQL - Operators</a></li>
<li><a target="_top" href="plsql_conditional_control.html">PL/SQL - Conditions</a></li>
<li><a target="_top" href="plsql_loops.html">PL/SQL - Loops </a></li>
<li><a target="_top" href="plsql_strings.html">PL/SQL - Strings</a></li>
<li><a target="_top" href="plsql_arrays.html">PL/SQL - Arrays</a></li>
<li><a target="_top" href="plsql_procedures.html">PL/SQL - Procedures</a></li>
<li><a target="_top" href="plsql_functions.html">PL/SQL - Functions</a></li>
<li><a target="_top" href="plsql_cursors.html">PL/SQL - Cursors</a></li>
<li><a target="_top" href="plsql_records.html">PL/SQL - Records</a></li>
<li><a target="_top" href="plsql_exceptions.html">PL/SQL - Exceptions</a></li>
<li><a target="_top" href="plsql_triggers.html">PL/SQL - Triggers</a></li>
<li><a target="_top" href="plsql_packages.html">PL/SQL - Packages</a></li>
<li><a target="_top" href="plsql_collections.html">PL/SQL - Collections</a></li>
<li><a target="_top" href="plsql_transactions.html"><b>PL/SQL - Transactions</b></a></li>
<li><a target="_top" href="plsql_date_time.html">PL/SQL - Date &amp; Time</a></li>
<li><a target="_top" href="plsql_dbms_output.html">PL/SQL - DBMS Output</a></li>
<li><a target="_top" href="plsql_object_oriented.html">PL/SQL - Object Oriented</a></li>
</ul>
<ul class="menu">
<li class="heading">PL/SQL  Useful Resources</li>
<li><a target="_top" href="plsql_quick_guide.html">PL/SQL - Quick Guide</a></li>
<li><a target="_top" href="plsql_useful_resources.html">PL/SQL - Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>PL/SQL - Transactions</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="plsql_collections.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="plsql_date_time.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>A database <b>transaction</b> is an atomic unit of work that may consist of one or more related SQL statements. It is called atomic because the database modifications brought about by the SQL statements that constitute a transaction can collectively be either committed i.e. made permanent to the database or rolled back (undone) from the database.</p>
<p>A successfully executed SQL statement and a committed transaction are not same. Even if an SQL statement is executed successfully, unless the transaction containing the statement is committed, it can be rolled back and all changes made by the statement(s) can be undone.</p>
<h2>Starting an Ending a Transaction</h2>
<p>A transaction has a <b>beginning</b> and an <b>end</b>. A transaction starts when one of the following events take place:</p>
<ul class="list">
<li><p>The first SQL statement is performed after connecting into the database.</p></li>
<li><p>At each new SQL statement issued after a transaction is completed.</p></li>
</ul>
<p>A transaction ends when one of the following events take place:</p>
<ul class="list">
<li><p>A COMMIT or a ROLLBACK statement is issued.</p></li>
<li><p>A DDL statement, like CREATE TABLE statement, is issued; because in that case a COMMIT is automatically performed.</p></li>
<li><p>A DCL statement, such as a GRANT statement, is issued; because in that case a COMMIT is automatically performed.</p></li>
<li><p>User disconnects from the database.</p></li>
<li><p>User exits from SQL*PLUS by issuing the EXIT command, a COMMIT is automatically performed.</p></li>
<li><p>SQL*Plus terminates abnormally, a ROLLBACK is automatically performed.</p></li>
<li><p>A DML statement fails; in that case a ROLLBACK is automatically performed for undoing that DML statement.</p></li>
</ul>
<h2>Committing a Transaction</h2>
<p>A transaction is made permanent by issuing the SQL command COMMIT. The general syntax for the COMMIT command is:</p>
<pre class="prettyprint lang-sql">
COMMIT;
</pre>
<p>For example,</p>
<pre class="prettyprint lang-sql">
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (1, 'Ramesh', 32, 'Ahmedabad', 2000.00 );
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (2, 'Khilan', 25, 'Delhi', 1500.00 );
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (3, 'kaushik', 23, 'Kota', 2000.00 );
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (4, 'Chaitali', 25, 'Mumbai', 6500.00 );
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (5, 'Hardik', 27, 'Bhopal', 8500.00 );
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (6, 'Komal', 22, 'MP', 4500.00 );
COMMIT;
</pre>
<h2>Rolling Back Transactions</h2>
<p>Changes made to the database without COMMIT could be undone using the ROLLBACK command.</p> 
<p>The general syntax for the ROLLBACK command is:</p>
<pre class="prettyprint lang-sql">
ROLLBACK [TO SAVEPOINT &lt; savepoint_name&gt;];
</pre>
<p>When a transaction is aborted due to some unprecedented situation, like system failure, the entire transaction since a commit is automatically rolled back. if you are not using <b>savepoint</b> then simply use the following statement to rollback all the changes:</p>
<pre class="prettyprint lang-sql">
ROLLBACK;
</pre>
<h2>Savepoints</h2>
<p>Savepoints are sort of markers that help in splitting a long transaction into smaller units by setting some checkpoints. By setting savepoints within a long transaction, you can roll back to a checkpoint if required. This is done by issuing the SAVEPOINT command.</p>
<p>The general syntax for the SAVEPOINT command is:</p>
<pre class="prettyprint lang-sql">
SAVEPOINT &lt; savepoint_name &gt;;
</pre>
<p>For example:</p>
<pre class="prettyprint lang-sql">
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (7, 'Rajnish', 27, 'HP', 9500.00 );
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (8, 'Riddhi', 21, 'WB', 4500.00 );
SAVEPOINT sav1;

UPDATE CUSTOMERS
SET SALARY = SALARY + 1000;
ROLLBACK TO sav1;

UPDATE CUSTOMERS
SET SALARY = SALARY + 1000
WHERE ID = 7;
UPDATE CUSTOMERS
SET SALARY = SALARY + 1000
WHERE ID = 8;
COMMIT;
</pre>
<p>Here <b>ROLLBACK TO sav1;</b> statement rollback the changes upto the point where you had marked savepoint <b>sav1</b> and after that new changes will start.</p>
<h2>Automatic Transaction Control</h2>
<p>To execute a COMMIT automatically whenever an INSERT, UPDATE or DELETE command is executed, you can set the AUTOCOMMIT environment variable as:</p>
<pre class="prettyprint lang-sql">
SET AUTOCOMMIT ON;
</pre>
<p>You can turn-off auto commit mode using the following command:</p>
<pre class="prettyprint lang-sql">
SET AUTOCOMMIT OFF;
</pre>
<hr />
<div class="pre-btn">
<a href="plsql_collections.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/plsql_transactions.html" alt="PL/SQL Transactions" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="plsql_date_time.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/plsql/plsql_transactions.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
