<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from www.tutorialspoint.com/unix_sockets/socket_structures.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Socket Structures</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="Keywords" content="Learning, Unix, Sockets, Programming, C, Language, Networking" />
<meta name="Description" content="Socket Structures - Learning Unix Sockets in simple steps with C porgramming language. Build Client and Server Networking Applications using Unix Sockets." />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="18" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>Learning Unix Socket </b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="index.html">Unix Socket HOME</a></li>
<li><a class="left" target="_top" href="what_is_socket.html">What is a Socket?</a></li>
<li><a class="left" target="_top" href="network_addresses.html">Network Addresses</a></li> 
<li><a class="left" target="_top" href="network_host_names.html">Network Host Names</a></li>
<li><a class="left" target="_top" href="client_server_model.html">Client Server Model</a></li>
<li><a class="left" target="_top" href="socket_structures.html"><b>Socket Structures</b></a></li>
<li><a class="left" target="_top" href="ports_and_services.html">Ports and Services</a></li>
<li><a class="left" target="_top" href="network_byte_orders.html">Network Byte Orders</a></li>
<li><a class="left" target="_top" href="ip_address_functions.html">IP Address Functions</a></li>
<li><a class="left" target="_top" href="socket_core_functions.html">Socket Core Functions</a></li>
<li><a class="left" target="_top" href="socket_helper_functions.html">Socket Helper Functions</a></li>
<li><a class="left" target="_top" href="socket_server_example.html">Socket Server Example</a></li>
<li><a class="left" target="_top" href="socket_client_example.html">Socket Client Example</a></li>
<li><a class="left" target="_top" href="socket_summary.html">Socket Summary</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Socket Quick Guide</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="socket_quick_guide.html" >Socket Quick Guide</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Socket Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="socket_useful_resources.html" >Socket Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top" align="left" width="100%">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:10px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle"  cellpadding="5" cellspacing="0">
<tr>
<td align="left">
<!-- PRINTING STARTS HERE -->
<h1>Socket Structures</h1>
<hr />
<a href="client_server_model.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="ports_and_services.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<hr />
<p>There are various structures which are used in Unix  Socket Programming to hold information about the address and port and other information. Most socket functions require a pointer to a socket address structure as an argument. Structures defined in this tutorial are related to Internet  Protocol Family.</p>
<p>The first structure is struct <i>sockaddr</i> that holds socket information:</p>
<table class="src" cellpadding="5">
<tr><td><pre>
struct sockaddr{
	unsigned short  sa_family;    
	char	        sa_data[14];
};
</pre></td></tr>
</table>
<p>This is a generic socket address structure which will be passed in most of the socket function calls. Here is the description of the member fields:</p>
<table class="src" border="1" cellpadding="5">
<tr><th>Attribute</th><th>Values</th><th>Description</th></tr>
<tr><td>sa_family</td><td>AF_INET<br />AF_UNIX<br />AF_NS<br />AF_IMPLINK</td><td>This represents an address family. In most of the Internet based applications we use AF_INET.</td></tr>
<tr><td>sa_data</td><td>Protocol Specific Address</td><td>The content of the 14 bytes of protocol specific address are interpreted according to the type of address. For the Internet family we will use port number IP address which is represented by <i>sockaddr_in</i> structure defined below.</td></tr>
</table>
<p>Second structure that helps you to reference to the socket's  elements is as follows:</p>
<table class="src" cellpadding="5">
<tr><td><pre>
struct sockaddr_in {
	short int	     sin_family;  
	unsigned short int   sin_port;	
	struct in_addr	     sin_addr;	
	unsigned char	     sin_zero[8];
};
</pre></td></tr>
</table>
<p>Here is the description of the member fields:</p>
<table class="src" border="1" cellpadding="5">
<tr><th>Attribute</th><th>Values</th><th>Description</th></tr>
<tr><td>sa_family</td><td>AF_INET<br />AF_UNIX<br />AF_NS<br />AF_IMPLINK</td><td>This represents an address family. In most of the Internet based applications we use AF_INET.</td></tr>
<tr><td>sin_port</td><td>Service Port</td><td>A 16 bit port number in Network Byte Order.</td></tr>
<tr><td>sin_addr</td><td>IP Address</td><td>A 32 bit IP address in Network Byte Order. </td></tr>
<tr><td>sin_zero</td><td>Not Used</td><td>You just set this value to NULL as this is not being used.</td></tr>
</table>
<p>The next structure is used only in the above structure as a structure field and holds 32 but netid/hostid.</p>
<table class="src" cellpadding="5">
<tr><td><pre>
struct in_addr {
	unsigned long s_addr;
};
</pre></td></tr>
</table>
<p>Here is the description of the member fields:</p>
<table class="src" border="1" cellpadding="5">
<tr><th>Attribute</th><th>Values</th><th>Description</th></tr>
<tr><td>s_addr</td><td>service port</td><td>A 32 bit IP address in Network Byte Order. </td></tr>
</table>
<p>There is one more important structure. This structure is used to keep information related to host.</p>
<table class="src" cellpadding="5">
<tr><td><pre>
struct hostent
{
  char  *h_name; 
  char  **h_aliases; 
  int   h_addrtype;  
  int   h_length;    
  char  **h_addr_list
#define h_addr  h_addr_list[0]
};
</pre></td></tr>
</table>
<p>Here is the description of the member fields:</p>
<table class="src" border="1" cellpadding="5">
<tr><th>Attribute</th><th>Values</th><th>Description</th></tr>
<tr><td>h_name</td><td>ti.com etc</td><td>This is official name of the host. For example tutorialspoint.com, google.com etc.</td></tr>
<tr><td>h_aliases</td><td>TI</td><td>This will hold a list of host name aliases.</td></tr>
<tr><td>h_addrtype</td><td>AF_INET</td><td>This contains the address family and in case of Internet based application it will always be AF_INET</td></tr>
<tr><td>h_length</td><td>4</td><td>This will hold the length of IP address which is 4 for Internet Address.</td></tr>
<tr><td>h_addr_list</td><td>in_addr</td><td>For the Internet addresses the array of pointers h_addr_list[0], h_addr_list[1] and so on are points to structure in_addr.</td></tr>
</table>
<p><b>NOTE:</b> h_addr is defined as h_addr_list[0] to keep backward compatibility.</p>
<p>Following structure is used to keep information related to service and associated ports.</p>
<table class="src" cellpadding="5">
<tr><td><pre>
struct servent
{
  char  *s_name; 
  char  **s_aliases; 
  int   s_port;  
  char  *s_proto;
};
</pre></td></tr>
</table>
<p>Here is the description of the member fields:</p>
<table class="src" border="1" cellpadding="5">
<tr><th>Attribute</th><th>Values</th><th>Description</th></tr>
<tr><td>s_name</td><td>http</td><td>This is official name of the service. For example SMTP, FTP POP3 etc.</td></tr>
<tr><td>s_aliases</td><td>ALIAS</td><td>This will hold list of service aliases. Most of the time this will be set to NULL.</td></tr>
<tr><td>s_port</td><td>80</td><td>This will have associated port number. For example for HTTP this will be 80.</td></tr>
<tr><td>s_proto</td><td>TCP <br /> UDP</td><td>This will be set to the protocol used. Internet services are provided using either TCP or UDP.</td></tr>
</table>
<h1>Tips on Socket Structures:</h1>
<p>Socket address structures are an integral part of every network program. We allocate them, fill them in, and pass pointers to them to various socket functions. Sometimes we pass a pointer to one of these structures to a socket function and it fills in the contents.</p>
<p>We always pass these structures by reference (ie. we pass a pointer to the structure, not the structure itself ), and we always pass the size of the structure as another argument.</p>
<p>When a socket function fills in a structure, the length is also passed by reference, so that its value can be updated by the function. We call these value-result arguments.</p>
<p>Always set the structure variables to NULL (i.e. '\0' ) by using memset() of bzero() functions otherwise it may get unexpected junk values in your structure.</p>
<br />
<hr />
<a href="client_server_model.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="ports_and_services.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversionc75f.html?tutorial=unix_sockets&amp;file=socket_structures.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/unix_sockets/socket_structures.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
