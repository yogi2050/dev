<html>

<!-- Mirrored from www.tutorialspoint.com/webservices/web_services_examples.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Web Services Examples</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="Keywords" content="web services, tutorial, beginner, basic, advanced, xml, soap, http, web services architecture, components, examples, security issues,  and available standards." />
<meta name="description" content="Web Services Examples - Learning Web Services in simple and easy steps using this beginner's tutorial containing basic to advanced knowledge of xml, soap, http, web services architecture, components, examples, security issues,  and available standards." />
<base >
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<table border=0 class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="18" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br>
&nbsp;&nbsp;<b>Learn Web Services</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="index.html">Web Services HOME</a></li>
<li><a class="left" target="_top" href="what_are_web_services.html" >What are Web Services?</a></li>
<li><a class="left" target="_top" href="why_web_services.html" >Why Web Services?</a></li>
<li><a class="left" target="_top" href="web_services_characteristics.html" >WS Characteristics</a></li>
<li><a class="left" target="_top" href="web_services_architecture.html" >WS Architecture</a></li>
<li><a class="left" target="_top" href="web_services_components.html" >WS Components</a></li>
<li><a class="left" target="_top" href="web_services_examples.html" ><b>WS Examples</b></a></li>
<li><a class="left" target="_top" href="web_services_security.html" >WS Security</a></li>
<li><a class="left" target="_top" href="web_services_standard.html" >WS Standards</a></li>
<li><a class="left" target="_top" href="what_is_next.html" >What is Next</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</b></a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br><br>
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
<td  style="width:10px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/about_advertising.html">Advertising</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle"  cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>Web Services - Examples</h1>
<a href="web_services_components.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="web_services_security.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<hr />
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<p>Based on the Web Service Architecture we will create following two components as a part of Web Services implementation</p>

<ul>
<li><b>Service provider or publisher:</b>
<p>This is the provider of the web service. The service provider implements the service and makes it available on the Internet or intranet.</p>
<p>We will write and publish a simple web Service using .NET SDK.</p>
<li><b>Service requestor or consumer</b>
<p>This is any consumer of the web service. The requestor utilizes an existing web service by opening a network connection and sending an XML request.</p>
<p>We will also write two Web Service requestors: one Web-based consumer (ASP.NET application) and another Windows application-based consumer.</p>
</ul>
<p class="alignment">Following is our First Web Service example which works as a service provider and exposes two methods (add and SayHello) as Web Services to be used by applications. This is a standard template for a Web Service. .NET Web Services use the .asmx extension. Note that a method exposed as a Web Service has the WebMethod attribute. Save this file as FirstService.asmx in the IIS virtual directory (as explained in configuring IIS; for example, c:\MyWebSerces).</p>
<table class="ex" width="100%"><tr><td>

<pre>
<b><u>FirstService.asmx</u></b>
  &lt;%@ WebService language="C" <span class='codeKeyword'>class</span>="FirstService" %&gt;

  <span class='codeKeyword'>using</span> System;
  <span class='codeKeyword'>using</span> System.Web.Services;
  <span class='codeKeyword'>using</span> System.Xml.Serialization;

  [WebService(Namespace="http://localhost/MyWebServices/")]
  <span class='codeKeyword'>public</span> <span class='codeKeyword'>class</span> FirstService : WebService
  {
      [WebMethod]
      <span class='codeKeyword'>public</span> <span class='codeKeyword'>int</span> Add(<span class='codeKeyword'>int</span> a, <span class='codeKeyword'>int</span> b)
      {
          <span class='codeKeyword'>return</span> a + b;
      }

      [WebMethod]
      <span class='codeKeyword'>public</span> String SayHello()
      {
          <span class='codeKeyword'>return</span> "Hello World";
      }
  }
</pre>
</td></tr></table>
<p>To test a Web Service, it must be published. A Web Service can be published either on an intranet or the Internet. We will publish this Web Service on IIS running on a local machine. Let's start with configuring the IIS.</p>
<ul>
<li>Open Start-&gt;Settings-&gt;Control Panel-&gt;Administrative tools-&gt;Internet Services Manager.</li>
<li>Expand and right-click on [Default Web Site]; select New -&gt;Virtual Directory.</li>
<li>The Virtual Directory Creation Wizard opens. Click Next.</li>

<li>The "Virtual Directory Alias" screen opens. Type the virtual directory name&mdash;for example, MyWebServices&mdash;and click Next.</li>
<li>The "Web Site Content Directory" screen opens. Here, enter the directory path name for the virtual directory&mdash;for example, c:\MyWebServices&mdash;and click Next.</li>
<li>The "Access Permission" screen opens. Change the settings as per your requirements. Let's keep the default settings for this exercise. Click the Next button. It completes the IIS configuration. Click Finish to complete the configuration.</li>
</ul>

<p>To test that IIS has been configured properly, copy an HTML file (for example, x.html) in the virtual directory (C:\MyWebServices) created above. Now, open Internet Explorer and type http://localhost/MyWebServices/x.html. It should open the x.html file. If it does not work, try replacing localhost with the IP address of your machine. If it still does not work, check whether IIS is running; you may need to reconfigure IIS and Virtual Directory.</p>

<p>To test our Web Service, copy FirstService.asmx in the IIS virtual directory created above (C:\MyWebServices). Open the Web Service in Internet Explorer (http://localhost/MyWebServices/FirstService.asmx). It should open your Web Service page. The page should have links to two methods exposed as Web Services by our application. Congratulations; you have written your first Web Service!!!</p>

<h3>Testing the Web Service</h3>

<p>As we have just seen, writing Web Services is easy in the .NET Framework. Writing Web Service consumers is also easy in the .NET framework; however, it is a bit more involved. As said earlier, we will write two types of service consumers, one Web- and another Windows application-based consumer. Let's write our first Web Service consumer.</p>

<h4>Web-Based Service Consumer</h4>

<p>Write a Web-based consumer as given below. Call it WebApp.aspx. Note that it is an ASP.NET application. Save this in the virtual directory of the Web Service (c:\MyWebServices\WebApp.axpx).</p>

<p>This application has two text fields that are used to get numbers from the user to be added. It has one button, Execute, that, when clicked, gets the Add and SayHello Web Services.</p>
<table class="ex" width="100%"><tr><td>
<pre>

<b><u>WebApp.axpx</u></b>
  &lt;%@ Page Language="C#" %&gt;
  &lt;script runat="server"&gt;
  void runSrvice_Click(<span class='codeKeyword'>Object</span> sender, EventArgs e)
  {
      FirstService mySvc = new FirstService();
      Label1.Text = mySvc.SayHello();
      Label2.Text = mySvc.Add(Int32.Parse(txtNum1.Text),
                    Int32.Parse(txtNum2.Text)).ToString();
  }
  &lt;/script&gt;
  &lt;html&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;form runat="server"&gt;
    &lt;p&gt;
        &lt;em&gt;First Number to Add &lt;/em&gt;:
        &lt;asp:TextBox id="txtNum1" runat="server"
             Width="43px"&gt;4&lt;/asp:TextBox&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;em&gt;<span class='codeKeyword'>Second</span> Number <span class='codeKeyword'>To</span> Add &lt;/em&gt;:
        &lt;asp:TextBox id="txtNum2" runat="server"
             Width="44px"&gt;5&lt;/asp:TextBox&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;strong&gt;&lt;u&gt;Web Service Result -&lt;/u&gt;&lt;/strong&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;em&gt;Hello world Service&lt;/em&gt; :
        &lt;asp:Label id="Label1" runat="server"
             Font-Underline="True"&gt;Label&lt;/asp:Label&gt;
    &lt;/p&gt;

    &lt;p&gt;
        &lt;em&gt;Add Service&lt;/em&gt; :
        &amp; &lt;asp:Label id="Label2" runat="server"
               Font-Underline="True"&gt;Label&lt;/asp:Label&gt;
    &lt;/p&gt;
    &lt;p align="left"&gt;
        &lt;asp:Button id="runSrvice" onclick="runSrvice_Click"
             runat="server" Text="Execute"&gt;&lt;/asp:Button&gt;
    &lt;/p&gt;
  &lt;/form&gt;
  &lt;/body&gt;
  &lt;/html&gt;
</pre>
</td>
</tr></table>
<p>After the consumer is created, we need to create a proxy for the Web Service to be consumed. This work is done automatically by Visual Studio .NET for us when referencing a Web Service that has been added. Here are the steps to be followed:</p>

<ul>
<li>Create a proxy for the Web Service to be consumed. The proxy is created using the wsdl utility supplied with the .NET SDK. This utility extracts information from the Web Service and creates a proxy. Thus, the proxy created is valid only for a particular Web Service. If you need to consume other Web Services, you need to create a proxy for this service as well. VS .NET creates a proxy automatically for you when the reference for the Web Service is added. Create a proxy for the Web Service using the wsdl utility supplied with the .NET SDK. It will create FirstSevice.cs in the current directory. We need to compile it to create FirstService.dll (proxy) for the Web Service.
</li>
</ul>

<table class="ex" width="100%"><tr><td>
<pre>
c:&gt; WSDL http:<span class="codeComment">//localhost/MyWebServices/</span>

                FirstService.asmx?WSDL
c:&gt; csc /t:library FirstService.cs

</pre>
</td>
</tr></table>

<ul>
<li>Put the compiled proxy in the bin directory of the virtual directory of the Web Service (c:\MyWebServices\bin). IIS looks for the proxy in this directory.</li>
<li>Create the service consumer, which we have already done. Note that I have instantiated an object of the Web Service proxy in the consumer. This proxy takes care of interacting with the service.</li>
<li>Type the URL of the consumer in IE to test it (for example, http://localhost/MyWebServices/WebApp.aspx).</li>
</ul>

<h4>Windows Application-Based Web Service Consumer</h4>

<p>Writing a Windows application-based Web Service consumer is the same as writing any other Windows application. The only work to be done is to create the proxy (which we have already done) and reference this proxy when compiling the application. Following is our Windows application that uses the Web Service. This application creates a Web Service object (of course, proxy) and calls the SayHello and Add methods on it.</p>

<table class="ex" width="100%"><tr><td>
<pre>
<b><u>WinApp.cs</u></b>
  <span class='codeKeyword'>using</span> System;
  <span class='codeKeyword'>using</span> System.IO;

  <span class='codeKeyword'>namespace</span> SvcConsumer{
  <span class='codeKeyword'>class</span> SvcEater
  {
      <span class='codeKeyword'>public</span> <span class='codeKeyword'>static</span> <span class='codeKeyword'>void</span> Main(String[] args)
      {
          FirstService mySvc = <span class='codeKeyword'>new</span> FirstService();

          Console.WriteLine("Calling Hello World Service: " +
                             mySvc.SayHello());
          Console.WriteLine("Calling Add(2, 3) Service: " +
                             mySvc.Add(2, 3).ToString());
      }
  }
  }
</pre>
</td>
</tr></table>

<p>Compile it using c:&gt;csc /r:FirstService.dll WinApp.cs. It will create WinApp.exe. Run it to test the application and the Web Service.</p>

<p>Now, the question arises: How can I be sure that my application is actually calling the Web Service? It is simple to test. Stop your Web server so that the Web Service cannot be contacted. Now, run the WinApp application. It will fire a run-time exception. Now, start the Web server again. It should work.</p>
</td>
</tr></table>
<br />
<hr />
<a href="web_services_components.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="web_services_security.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion4485.html?tutorial=webservices&amp;file=web_services_examples.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />

<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/webservices/web_services_examples.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
