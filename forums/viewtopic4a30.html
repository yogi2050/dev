<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">

<!-- Mirrored from www.tutorialspoint.com/forums/viewtopic.php?f=19&t=615&p=684 by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:06:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>www.tutorialspoint.com &bull; View topic - create multiple rows of record in one model</title>

<link rel="alternate" type="application/atom+xml" title="Feed - www.tutorialspoint.com" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="feed9d17.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Ruby on Rails" href="feed218b.php?f=19" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - create multiple rows of record in one model" href="feede26d.html?f=19&amp;t=615" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.tutorialspoint.com';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	};

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	};

// ]]>
</script>
<script type="text/javascript" src="styles/Terayon4/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/Terayon4/template/forum_fn.js"></script>
<script type="text/javascript" src="../../ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $("a.loginbox").click(function() {
        // Remove the login icon
        $("li.icon-logout").removeClass("icon-logout");
        // Fade out the login link (
        $(this).fadeOut(200);
        // Fade in the form
        $("form.quicklogin").delay(500).fadeIn(100);
        return false; // stop browser from jumping when # link is clicked
    });                
});
</script>

<link href="styles/Terayon4/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style5107.css?id=3&amp;lang=en" rel="stylesheet" type="text/css" media="screen, projection" />
<link href="styles/Terayon4/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/Terayon4/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/Terayon4/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />
<link rel="stylesheet" type="text/css" href="../shorttutorials/wp-content/themes/bigfoot/style.css" media="screen" />



<style media="screen" type="text/css">
/* Java Util Scheme */
#header{ 
   background:#c4c7c8 !important;
   background:url(http://www.tutorialspoint.com/images/footer.png) repeat-x !important; 
}
#topmenu
{
   background-color:#000 !important;
}
#leftcol ul.menu li.heading 
{
   background:#c4c7c8 !important;
   background:url(http://www.tutorialspoint.com/images/footer.png) repeat-x !important; 
   border:1px solid #c1c1c1 !important;
}
#leftcol, #column1, #rightcol {min-height:728px; padding:0px;}
</style>


</head>

<body id="phpbb" class="section-viewtopic ltr">



<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="cat-menu">
<div class="wrap">
	<div class="navmenu">
			<ul class="topmenu">
			<li><a href="index.html" accesskey="h">Forum Home</a></li>		
			<li></li>
			
			<li>			
			<li><a href="ucp8319.html?mode=register">Register</a></li>
			<li>
			<a href="#" class="loginbox" title="Login" accesskey="x">Login</a>
            <form method="post" action="http://www.tutorialspoint.com/forums/ucp.php?mode=login" class="quicklogin">
            <input type="text" name="username" id="username" size="10" class="inputbox quickinput" title="Username" value="Username" />
            <input type="password" name="password" id="password" size="10" class="inputbox quickinput" title="Password" value="password" />
            <input type="submit" name="login" value="Login" class="button2" /><input type="hidden" name="redirect" value="viewtopic4a30.html?f=19&amp;t=615&amp;p=684" />
<a href="ucp937e.html?mode=sendpassword">Forgot?</a>
            </form>
			</li>		
			</ul>
		</div>
<div id="right">
<a class="front" href="../about/index.html" target="_top">ABOUT</a> |
<a class="front" href="../about/contact_us.html" target="_top">CONTACT</a> |
<a class="front" href="../index-2.html" target="_top">HOME</a>
</div>
</div> <!--end .wrap-->
</div> <!--end #cat-nav-->

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
<center>
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
		<div class="breadcrumb">
     			<ul class="crumbs">
			<li>
			<a href="viewforum3215.html?f=36">Latest Technologies</a><a href="viewforum218b.html?f=19">Ruby on Rails</a>
			</li>
			</ul>
		</div>	
	<a name="start_here"></a>
	<div id="page-body">

<div class="forabg4">


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting2e80.html?mode=reply&amp;f=19&amp;t=615" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			1 post
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>
</div>
<div class="clear"></div>


<div id="postbodycontainer">

	<div id="postbodytopicheader">			
		<div class="topicheadertitle">
			<h3 class="first"><a href="#p684">create multiple rows of record in one model</a></h3>
			<p class="author"><a href="viewtopicff9b.html?p=684#p684"><img src="styles/Terayon4/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberliste2c7.html?mode=viewprofile&amp;u=4888">veil</a></strong> &raquo; Fri Feb 15, 2008 2:53 pm </p>

			
		</div>			
	</div>

<div id="postprofileleft">
			
				<dl class="postprofile">
					<dt style="text-align: center;">
					
					</dt>
					<dt style="text-align: center;"><img src="styles/Terayon4/imageset/en/offline.jpg" width="120" height="16" alt="Offline" title="Offline" /></dt>
					<dd class="postie" style="text-align: center;"><a href="memberliste2c7.html?mode=viewprofile&amp;u=4888">veil</a></dd><dd class="postie"><strong>Posts:</strong> 1</dd><dd class="postie"><strong>Joined:</strong> Fri Feb 15, 2008 2:46 pm</dd>			
			</dl>
			
</div>

<div id="postbodycontent">	
			
			<div id="p684" class="post ">			
							

			<div class="content" style="min-height:200px;">hi there.. i have some problem.. im a newbie in rails but i have to do my final year project.
<br />can u edit my code here. i cant save the students mark into the gradebook table.
<br />
<br />here's the relation. click on this link (picture) -&gt; <!-- m --><a class="postlink" href="../../i250.photobucket.com/albums/gg268/veil007/db.html">http://i250.photobucket.com/albums/gg268/veil007/db.jpg</a><!-- m -->
<br />
<br />here's the print screen image of my addgrade.rhtml. when i click &quot;Add Grade&quot; button, it will create new rows (depends on number of students in a class) of record in gradebook table in my database.
<br />--&gt; <!-- m --><a class="postlink" href="../../i250.photobucket.com/albums/gg268/veil007/GRADEBOOK.html">http://i250.photobucket.com/albums/gg26 ... DEBOOK.jpg</a><!-- m -->
<br />
<br />hope anyone willing to share their knowledge
<br />
<br />-----------------------------------------------------------------------------
<br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>def egradebook<br />&nbsp; @class1s = Class1.find(:all)<br />&nbsp; @subjects = Subject.find(:all)<br />end<br /><br />def addgrade<br />&nbsp; @gradebook = Gradebook.new<br />&nbsp; @students = Student.find(:all, :conditions =&gt; &#91;&quot;class1_id = ?&quot;, params&#91;:class_1&#93;&#91;:id&#93;&#93;)<br />&nbsp; @teachers = Teacher.find(:all)<br />end<br /><br />def creategrade<br />&nbsp; @gradebook.class1_id = params&#91;:class_1&#93;&#91;:id&#93;<br />&nbsp; @gradebook.subject_id = params&#91;:subject&#93;&#91;:id&#93;<br />&nbsp; @students = Student.find(:all, :conditions =&gt; &#91;&quot;class1_id = ?&quot;, params&#91;:class_1&#93;&#91;:id&#93;&#93;)<br />&nbsp; @gradebook = Gradebook.new(params&#91;:gradebook&#93;)<br />&nbsp; @teacher = Teacher.find(params&#91;:id&#93;)<br />&nbsp; ##here is the problem. unsure to add students mark and make the output as multiple of rows in gradebook table.<br />&nbsp; if @gradebook.save<br />&nbsp; &nbsp; flash&#91;:notice&#93; = 'Gradebook Successfully Added.'<br />&nbsp; &nbsp; redirect_to :action =&gt; 'index'<br />&nbsp; else<br />&nbsp; &nbsp; flash&#91;:notice&#93; = 'Please Login to Add Grade'<br />&nbsp; &nbsp; render :action =&gt; 'login'<br />&nbsp; end<br />end<br /><br />#-----------------------------------------------------------------------------<br /><br /><br />#FOR def egradebook<br />&lt;a name=&quot;TemplateInfo&quot;&gt;&lt;/a&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;h1&gt;E-Gradebook&lt;/h1&gt;&lt;br&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;h3&gt; Select Which Class &amp; Subject You Would Like To Update &lt;/h3&gt;&lt;br&gt;<br />&lt;%= start_form_tag :action =&gt; 'addgrade' %&gt;<br />&lt;label for = &quot;class1_id&quot;&gt;Select Class&lt;/label&gt;<br />&lt;select name=&quot;class_1&#91;id&#93;&quot;&gt;<br />&lt;option value=&quot;&quot; selected=&quot;selected&quot; &gt;Please Select Class&lt;/option&gt;<br />&lt;%@class1s.each do |class1| %&gt;<br />&lt;option value=&quot;&lt;%=class1.id%&gt;&quot;&gt; &lt;%=class1.classname%&gt; &lt;/option&gt;<br />&lt;%end%&gt;<br />&lt;/select&gt;&lt;br&gt; &lt;br&gt;<br /><br /><br />&lt;label for = &quot;subject_id&quot;&gt;Select Subject&lt;/label&gt;<br />&lt;select name=&quot;subject&#91;id&#93;&quot;&gt;<br />&lt;option value=&quot;&quot; selected=&quot;selected&quot; &gt;Please Select Subject&lt;/option&gt;<br />&lt;%@subjects.each do |subject| %&gt;<br />&lt;option value=&quot;&lt;%=subject.id%&gt;&quot;&gt; &lt;%=subject.subjectname%&gt; &lt;/option&gt;<br />&lt;%end%&gt;<br />&lt;/select&gt;&lt;br&gt;&lt;br&gt;<br /><br />&lt;%= submit_tag &quot;Submit&quot;%&gt;<br /><br />&lt;%end_form_tag %&gt;&lt;br&gt;<br /><br />--------------------------------------------<br /><br />#FOR def addgrade<br />&lt;a name=&quot;TemplateInfo&quot;&gt;&lt;/a&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;h1&gt;Update E-Gradebook&lt;/h1&gt;&lt;br&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;<br />&nbsp; &lt;tr&gt;&lt;%=form_tag :action =&gt; 'creategrade', :id =&gt; @gradebook%&gt;<br />&nbsp; &nbsp; &lt;td width=&quot;22%&quot;&gt;&lt;strong&gt;Class:&lt;/strong&gt; &lt;%=params&#91;:class_1&#93;&#91;:id&#93;%&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td colspan=&quot;2&quot;&gt;&lt;strong&gt;Subject:&lt;/strong&gt; &lt;%=params&#91;:subject&#93;&#91;:id&#93;%&gt; &lt;/td&gt;<br />&nbsp; &lt;/tr&gt;<br />&nbsp; &lt;tr&gt;<br />&nbsp; &nbsp; &lt;td&gt;&lt;strong&gt;Semester:&lt;/strong&gt; &lt;%= text_field 'gradebook', 'semester' , :size =&gt; 3 %&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td width=&quot;20%&quot;&gt;&lt;strong&gt;Year:&lt;/strong&gt; &lt;%= text_field 'gradebook', 'year' , :size =&gt; 5 %&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td width=&quot;58%&quot;&gt;&lt;label for = &quot;teacher_id&quot;&gt;&lt;strong&gt; Select Teacher: &lt;/strong&gt;&lt;/label&gt;<br />&lt;select name=&quot;gradebook&#91;teacher_id&#93;&quot;&gt;<br />&lt;option value=&quot;&quot; selected=&quot;selected&quot; &gt;Please Select Teacher Name&lt;/option&gt;<br />&lt;%@teachers.each do |teacher| %&gt;<br />&lt;option value=&quot;&lt;%=teacher.id%&gt;&quot;&gt; &#91;&lt;%=teacher.user.id%&gt;&#93; &lt;%=teacher.user.firstname%&gt; &lt;%=teacher.user.lastname%&gt; &lt;/option&gt;<br />&lt;%end%&gt;<br />&lt;/select&gt;&lt;/td&gt;<br />&nbsp; &lt;/tr&gt;<br />&nbsp; &lt;tr&gt;<br />&nbsp; &nbsp; &lt;td&gt;&amp;nbsp;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td colspan=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;<br />&nbsp; &lt;/tr&gt;<br />&lt;/table&gt;<br />&lt;br&gt;<br />&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;<br />&nbsp; &lt;tr&gt;<br />&nbsp; &nbsp; &lt;td width=&quot;76%&quot;&gt;&lt;strong&gt;Student ID &amp; Name &lt;/strong&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td width=&quot;12%&quot;&gt;&lt;div align=&quot;center&quot;&gt;&lt;strong&gt;Mark&lt;/strong&gt;&lt;/div&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td width=&quot;12%&quot;&gt;&lt;div align=&quot;center&quot;&gt;&lt;strong&gt;Grade&lt;/strong&gt;&lt;/div&gt;&lt;/td&gt;<br />&nbsp; &lt;/tr&gt;<br />&nbsp; &lt;tr&gt;&lt;%@students.each do |student|%&gt;<br />&nbsp; &nbsp; &lt;td&gt;&#91;&lt;%=student.user.id%&gt;&#93; &lt;%=student.user.firstname%&gt; &lt;%=student.user.lastname%&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td&gt;&lt;div align=&quot;center&quot;&gt; &lt;%= text_field 'gradebook', 'mark' , :size =&gt; 3 %&gt;&lt;/div&gt;&lt;/td&gt;<br />&nbsp; &nbsp; &lt;td&gt;&lt;div align=&quot;center&quot;&gt;&lt;%= text_field 'gradebook', 'grade' , :size =&gt; 3 %&gt;&lt;/div&gt;&lt;/td&gt;<br />&nbsp; &lt;/tr&gt;&lt;%end%&gt;<br />&lt;/table&gt;<br />&lt;div align=&quot;center&quot;&gt;&lt;br&gt;<br />&nbsp; &nbsp; &lt;%= submit_tag &quot;Add Grade&quot; %&gt; &lt;%= end_form_tag %&gt;</code></dd></dl>
<br />def creategrade is the action to save the data into the database</div>

			
			</div>
</div>

<div id="postbodyfooter">
	<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>
</div>

</div>	

<div class="forabg5">
	<div class="topic-actions">
		<div class="buttons">
		
		<div class="reply-icon"><a href="posting2e80.html?mode=reply&amp;f=19&amp;t=615" title="Post a reply"><span></span>Post a reply</a></div>
		
		</div>
	
		
		<div class="pagination">
		1 post
		 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
		
	</div>
</div>
</div>
<div class="v2">&nbsp </div>
</div>


<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/forums/viewtopic.php?f=19&t=615&p=684 by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:06:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>