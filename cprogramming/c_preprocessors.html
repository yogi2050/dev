<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/cprogramming/c_preprocessors.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>C - Preprocessors</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="C Preprocessors #define, #if, #elif, #undef, #include, #ifndef, #endif, #error, #pragma - Learn ANSI, GNU and K/R standard of C programming language with simple and easy examples covering basic C, language basics, literals, data types, functions, loops, arrays, pointers, structures, input and output, memory management, pre-processors, directives etc." />
<meta name="keywords" content="C, tutoria, beginners, programming, ANSI, simple, examples, language basics, literals, data types, functions, loops, arrays, pointers, structures, input and output, memory management, pre-processors, directives" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
/* C Programming Scheme */
#header{ 
   background:#F38098 !important;
}
#topmenu
{
   background-color:#961C36 !important;
}
#leftcol ul.menu li.heading 
{
   background:#F38098 !important;
   border:1px solid #961C36 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1350px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
   _uacct = "UA-232293-6";
   urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/c-mini-logo.png" alt="C programming tutorial" />
</div>
<ul class="menu">
<li class="heading">C Programming Tutorial</li>
<li><a target="_top" href="index.html">C - Home</a></li>
<li><a target="_top" href="c_overview.html">C - Overview</a></li>
<li><a target="_top" href="c_environment_setup.html">C - Environment Setup</a></li>
<li><a target="_top" href="c_program_structure.html">C - Program Structure</a></li>
<li><a target="_top" href="c_basic_syntax.html">C - Basic Syntax</a></li>
<li><a target="_top" href="c_data_types.html">C - Data Types</a></li>
<li><a target="_top" href="c_variables.html">C - Variables</a></li>
<li><a target="_top" href="c_constants.html">C - Constants</a></li>
<li><a target="_top" href="c_storage_classes.html">C - Storage Classes</a></li>
<li><a target="_top" href="c_operators.html">C - Operators</a></li>
<li><a target="_top" href="c_decision_making.html">C - Decision Making</a></li>
<li><a target="_top" href="c_loops.html">C - Loops</a></li>
<li><a target="_top" href="c_functions.html">C - Functions</a></li>
<li><a target="_top" href="c_scope_rules.html">C - Scope Rules</a></li>
<li><a target="_top" href="c_arrays.html">C - Arrays</a></li>
<li><a target="_top" href="c_pointers.html">C - Pointers</a></li>
<li><a target="_top" href="c_strings.html">C - Strings</a></li>
<li><a target="_top" href="c_structures.html">C - Structures</a></li>
<li><a target="_top" href="c_unions.html">C - Unions</a></li>
<li><a target="_top" href="c_bit_fields.html">C - Bit Fields</a></li>
<li><a target="_top" href="c_typedef.html">C - Typedef</a></li>
<li><a target="_top" href="c_input_output.html">C - Input &amp; Output</a></li>
<li><a target="_top" href="c_file_io.html">C - File I/O</a></li>
<li><a target="_top" href="c_preprocessors.html"><b>C - Preprocessors</b></a></li>
<li><a target="_top" href="c_header_files.html">C - Header Files</a></li>
<li><a target="_top" href="c_type_casting.html">C - Type Casting</a></li>
<li><a target="_top" href="c_error_handling.html">C - Error Handling</a></li>
<li><a target="_top" href="c_recursion.html">C - Recursion</a></li>
<li><a target="_top" href="c_variable_arguments.html">C - Variable Arguments</a></li>
<li><a target="_top" href="c_memory_management.html">C - Memory Management</a></li>
<li><a target="_top" href="c_command_line_arguments.html">C - Command Line Arguments</a></li>
</ul>
<ul class="menu">
<li class="heading">C Programming Resources</li>
<li><a target="_top" href="c_quick_guide.html">C -  Quick Guide</a></li>
<li><a target="_top" href="c_useful_resources.html">C - Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>C - Preprocessors</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="c_file_io.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="c_header_files.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>The <b>C Preprocessor</b> is not part of the compiler, but is a separate step in the compilation process. In simplistic terms, a C Preprocessor is just a text substitution tool and they instruct compiler to do required pre-processing before actual compilation. We'll refer to the C Preprocessor as the CPP.</p>
<p>All preprocessor commands begin with a pound symbol (#). It must be the first nonblank character, and for readability, a preprocessor directive should begin in first column. Following section lists down all important preprocessor directives:</p>
<table class="src">
<tr><th style="width:20%">Directive</th><th>Description</th></tr>
<tr><td>#define</td><td>Substitutes a preprocessor macro</td></tr>
<tr><td>#include</td><td>Inserts a particular header from another file</td></tr>
<tr><td>#undef</td><td>Undefines a preprocessor macro</td></tr>
<tr><td>#ifdef</td><td>Returns true if this macro is defined</td></tr>
<tr><td>#ifndef</td><td>Returns true if this macro is not defined</td></tr>
<tr><td>#if</td><td>Tests if a compile time condition is true</td></tr>
<tr><td>#else</td><td>The alternative for #if</td></tr>
<tr><td>#elif</td><td>#else an #if in one statement</td></tr>
<tr><td>#endif</td><td>Ends preprocessor conditional</td></tr>
<tr><td>#error</td><td>Prints error message on stderr</td></tr>
<tr><td>#pragma</td><td>Issues special commands to the compiler, using a standardized method</td></tr>
</table>
<h2>Preprocessors Examples</h2>
<p>Analyze the following examples to understand various directives.</p>
<pre class="prettyprint">
#define MAX_ARRAY_LENGTH 20
</pre>
<p>This directive tells the CPP to replace instances of MAX_ARRAY_LENGTH with 20. Use <i>#define</i> for constants to increase readability.</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;
#include "myheader.h"
</pre>
<p>These directives tell the CPP to get stdio.h from <b>System Libraries</b> and add the text to the current source file. The next line tells CPP to get <b>myheader.h</b> from the local directory and add the content to the current source file.</p>
<pre class="prettyprint">
#undef  FILE_SIZE
#define FILE_SIZE 42
</pre>
<p>This tells the CPP to undefine existing FILE_SIZE and define it as 42.</p>
<pre class="prettyprint">
#ifndef MESSAGE
   #define MESSAGE "You wish!"
#endif
</pre>
<p>This tells the CPP to define MESSAGE only if MESSAGE isn't already defined.</p>
<pre class="prettyprint">
#ifdef DEBUG
   /* Your debugging statements here */
#endif
</pre>
<p>This tells the CPP to do the process the statements enclosed if DEBUG is defined. This is useful if you pass the <i>-DDEBUG</i> flag to gcc compiler at the time of compilation. This will define DEBUG, so you can turn debugging on and off on the fly during compilation.</p>
<h2>Predefined Macros</h2>
<p>ANSI C defines a number of macros. Although each one is available for your use in programming, the predefined macros should not be directly modified.</p>
<table class="src">
<tr><th style="width:20%">Macro</th><th>Description</th></tr>
<tr><td>__DATE__</td><td>The current date as a character literal in "MMM DD YYYY" format</td></tr>
<tr><td>__TIME__</td><td>The current time as a character literal in "HH:MM:SS" format</td></tr>
<tr><td>__FILE__</td><td>This contains the current filename as a string literal.</td></tr>
<tr><td>__LINE__</td><td>This contains the current line number as a decimal constant.</td></tr>
<tr><td>__STDC__</td><td>Defined as 1 when the compiler complies with the ANSI standard.</td></tr>
</table>
<p>Let's try the following example:</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;

main()
{
   printf("File :%s\n", __FILE__ );
   printf("Date :%s\n", __DATE__ );
   printf("Time :%s\n", __TIME__ );
   printf("Line :%d\n", __LINE__ );
   printf("ANSI :%d\n", __STDC__ );

}
</pre>
<p>When the above code in a file <b>test.c</b> is compiled and executed, it produces the following result:</p>
<pre class="result">
File :test.c
Date :Jun 2 2012
Time :03:36:24
Line :8
ANSI :1
</pre>
<h2>Preprocessor Operators</h2>
<p>The C preprocessor offers following operators to help you in creating macros:</p>
<h5>Macro Continuation (\)</h5>
<p>A macro usually must be contained on a single line. The macro continuation operator is used to continue a macro that is too long for a single line. For example:</p>
<pre class="prettyprint">
#define  message_for(a, b)  \
    printf(#a " and " #b ": We love you!\n")

</pre>
<h5> Stringize (#)</h5>
<p>The stringize or number-sign operator ('#'), when used within a macro definition, converts a macro parameter into a string constant. This operator may be used only in a macro that has a specified argument or parameter list. For example:</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;

#define  message_for(a, b)  \
    printf(#a " and " #b ": We love you!\n")

int main(void)
{
   message_for(Carole, Debra);
   return 0;
}
</pre>
<p>When the above code is compiled and executed, it produces the following result:</p>
<pre class="result">
Carole and Debra: We love you!
</pre>
<h5>Token Pasting (##)</h5>
<p>The token-pasting operator (##) within a macro definition combines two arguments. It permits two separate tokens in the macro definition to be joined into a single token. For example:</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;

#define tokenpaster(n) printf ("token" #n " = %d", token##n)

int main(void)
{
   int token34 = 40;
   
   tokenpaster(34);
   return 0;
}
</pre>
<p>When the above code is compiled and executed, it produces the following result:</p>
<pre class="result">
token34 = 40
</pre>
<p>How it happened, because this example results in the following actual output from the preprocessor:</p>
<pre class="prettyprint">
printf ("token34 = %d", token34);
</pre>
<p>This example shows the concatenation of token##n into token34 and here we have used both <b>stringize</b> and <b>token-pasting</b>.</p>
<h5>The defined() Operator</h5>
<p>The preprocessor <b>defined</b> operator is used in constant expressions to determine if an identifier is defined using #define. If the specified identifier is defined, the value is true (non-zero). If the symbol is not defined, the value is false (zero). The defined operator is specified as follows:</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;

#if !defined (MESSAGE)
   #define MESSAGE "You wish!"
#endif

int main(void)
{
   printf("Here is the message: %s\n", MESSAGE);  
   return 0;
}
</pre>
<p>When the above code is compiled and executed, it produces the following result:</p>
<pre class="result">
Here is the message: You wish!
</pre>
<h2>Parameterized Macros</h2>
<p>One of the powerful functions of the CPP is the ability to simulate functions using parameterized macros. For example, we might have some code to square a number as follows:</p>
<pre class="prettyprint">
int square(int x) {
   return x * x;
}
</pre>
<p>We can rewrite above code using a macro as follows:</p>
<pre class="prettyprint">
#define square(x) ((x) * (x))
</pre>
<p>Macros with arguments must be defined using the <b>#define</b> directive before they can be used. The argument list is enclosed in parentheses and must immediately follow the macro name. Spaces are not allowed between and macro name and open parenthesis. For example:</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;

#define MAX(x,y) ((x) &gt; (y) ? (x) : (y))

int main(void)
{
   printf("Max between 20 and 10 is %d\n", MAX(10, 20));  
   return 0;
}
</pre>
<p>When the above code is compiled and executed, it produces the following result:</p>
<pre class="result">
Max between 20 and 10 is 20
</pre>
<hr />
<div class="pre-btn">
<a href="c_file_io.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/c_preprocessors.html" alt="C - Preprocessors" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="c_header_files.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script><a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/cprogramming/c_preprocessors.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
