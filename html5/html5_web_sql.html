<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from www.tutorialspoint.com/html5/html5_web_sql.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>HTML5 Web SQL Database</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="keywords" content="HTML 5, Tutorials, Forms-2 Learning, Beginners,Canvas, Audio, Video, New Semantic Elements, Geolocation, Persistent Local Storage, Web Storage, Web SQL, Forms 2.0, Microdata and Drag and Drop" />
<meta name="description" content="HTML5 Web SQL Database| HTML5 WebDB| Offline Document Storage| Offline Web Applications - Learning HTML 5 in simple and easy steps with examples covering 2D Canvas, Audio, Video, New Semantic Elements, Geolocation, Persistent Local Storage, Web Storage, Web SQL, Forms 2.0, Microdata and Drag and Drop" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript"> 
</script>
<script type="text/javascript"> 
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>HTML-5 Tutorial</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="index.html" >HTML5 Home</a></li>
<li><a class="left" target="_top" href="html5_overview.html" >HTML5 Overview</a></li>
<li><a class="left" target="_top" href="html5_syntax.html" >HTML5 Syntax</a></li>
<li><a class="left" target="_top" href="html5_attributes.html" >HTML5 Attributes</a></li>
<li><a class="left" target="_top" href="html5_events.html" >HTML5 Events</a></li>
<li><a class="left" target="_top" href="html5_web_forms2.html" >HTML5 Web Forms 2.0</a></li>
<li><a class="left" target="_top" href="html5_svg.html" >HTML5 SVG</a></li>
<li><a class="left" target="_top" href="html5_mathml.html" >HTML5 MathML</a></li>
<li><a class="left" target="_top" href="html5_web_storage.html">HTML5 Web Storage</a></li>
<li><a class="left" target="_top" href="html5_web_sql.html" ><b>HTML5 Web SQL</b></a></li>
<li><a class="left" target="_top" href="html5_server_sent_events.html" >HTML5 Server-Sent Events</a></li>
<li><a class="left" target="_top" href="html5_websocket.html" >HTML5 WebSocket </a></li>
<li><a class="left" target="_top" href="html5_canvas.html" >HTML5 Canvas</a></li>
<li><a class="left" target="_top" href="html5_audio_video.html" >HTML5 Audio &amp; Video</a></li>
<li><a class="left" target="_top" href="html5_geolocation.html" >HTML5 Geolocation</a></li>
<li><a class="left" target="_top" href="html5_microdata.html" >HTML5 Microdata</a></li>
<li><a class="left" target="_top" href="html5_drag_drop.html" >HTML5 Drag and drop</a></li>
<li><a class="left" target="_top" href="html5_web_workers.html" >HTML5 Web Workers</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Tag Reference</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_tags.html" >HTML5 Tags Reference</a></li>
<li><a class="left" target="_top" href="html5_deprecated_tags.html" >HTML5 Deprecated Tags</a></li>
<li><a class="left" target="_top" href="html5_new_tags.html" >HTML5 New Tags</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Useful References</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_quick_guide.html" >HTML5 Quick Guide</a></li>
<li><a class="left" target="_top" href="html5_color_names.html" >HTML5 Color Names</a></li>
<li><a class="left" target="_top" href="html5_fonts.html" >HTML5 Fonts Reference</a></li>
<li><a class="left" target="_top" href="html5_url_encoding.html" >HTML5 URL Encoding</a></li>
<li><a class="left" target="_top" href="html5_entities.html" >HTML5 Entities</a></li>
<li><a class="left" target="_top" href="html5_character_encodings.html" >HTML5 Char Encodings</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Tools</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_modernizr.html" >HTML5 Modernizr</a></li>
<li><a class="left" target="_top" href="html5_validation.html" >HTML5 Validation</a></li>
<li><a class="left" target="_top" href="html5_editor.html" >HTML5 Online Editor</a></li>
<li><a class="left" target="_top" href="html5_color_code_builder.html" >Color Code Builder</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_useful_resources.html" >HTML5 Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>HTML5 - Web SQL Database</h1>
<hr />
<a href="html5_web_storage.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="html5_server_sent_events.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<p>The Web SQL Database API isn't actually part of the HTML5 specification but it is a separate specification which introduces a set of APIs to manipulate client-side databases using SQL.</p>
<p>I'm assuming you are a great web developer and if that is the case then no doubt, you would be well aware of SQL and RDBMS concepts. If you still want to have a session with SQL then, you can go through our <a href="../sql/index.html" title="SQL Tutorial">SQL Tutorial</a>.</p>
<p>Web SQL Database will work in latest version of Safari, Chrome and Opera.</p>
<h1>The Core Methods:</h1>
<p>There are following three core methods defined in the spec that I.m going to cover in this tutorial:</p>
<ol>
<li><p><b>openDatabase:</b> This method creates the database object either using existing database or creating new one.</p></li>
<li><p><b>transaction:</b> This method give us the ability to control a transaction and performing either commit or rollback based on the situation.</p></li>
<li><p><b>executeSql:</b> This method is used to execute actual SQL query.</p></li>
</ol>
<h1>Opening Database:</h1>
<p>The <i>openDatabase</i> method takes care of opening a database  if it already exists, this method will create it if it already does not exist.</p>
<p>To create and open a database, use the following code:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
</pre></td></tr>
</table>
<p>Above method took following five paramters:</p>
<ol>
<li>Database name</li>
<li>Version number</li>
<li>Text description</li>
<li>Size of database</li>
<li>Creation callback</li>
</ol>
<p>The last and 5th argument, creation callback will be called if the database is being created. Without this feature, however, the databases are still being created on the fly and correctly versioned.</p>
<!--
<p>The version number is a required argument to openDatabase, so you must know the version number before you try to open it. Otherwise, an exception is thrown.</p>
<p>But you can't determine which version of database the user is on, whether it is 1.0 or 2.0. So we are in problem. In this case we keep version number as blank which means <i>I don't care what version the db is</i>.</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var db = openDatabase('mydb', '', 'Test DB', 2 * 1024 * 1024);
</pre></td></tr>
</table>
-->
<h1>Executing queries:</h1>
<p>To execute a query you use the database.transaction() function. This function needs a single argument, which is a function that takes care of actually executing the query as follows:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
db.transaction(function (tx) {  
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
});
</pre></td></tr>
</table>
<p>The above query will create a table called LOGS in 'mydb' database.</p>
<h1>INERT Operation:</h1>
<p>To create enteries into the table we add simple SQL query in the above example as follows:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
db.transaction(function (tx) {
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")');
});
</pre></td></tr>
</table>
<p>We can pass dynamic values while creating entering as follows:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
db.transaction(function (tx) {  
  tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
  tx.executeSql('INSERT INTO LOGS 
                        (id,log) VALUES (?, ?'), [e_id, e_log];
});
</pre></td></tr>
</table>
<p>Here e_id and e_log are external variables, and executeSql maps each item in the array argument to the "?"s.</p>
<h1>READ Operation:</h1>
<p>To read already existing records we use a callback to capture the results as follows:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
db.transaction(function (tx) {
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")');
});
db.transaction(function (tx) {
   tx.executeSql('SELECT * FROM LOGS', [], function (tx, results) {
   var len = results.rows.length, i;
   msg = "&lt;p&gt;Found rows: " + len + "&lt;/p&gt;";
   document.querySelector('#status').innerHTML +=  msg;
   for (i = 0; i &lt; len; i++){
      alert(results.rows.item(i).log );
   }
 }, null);
});
</pre></td></tr>
</table>
<h1>Final Example:</h1>
<p>So finally, let us keep this example in full fledged HTML5 document as follows and try to run it with Safari browser.</p>
<table cellpadding="5" class="src">
<tr><td><pre>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript"&gt;
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
var msg;
db.transaction(function (tx) {
  tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
  tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")');
  tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")');
  msg = '&lt;p&gt;Log message created and row inserted.&lt;/p&gt;';
  document.querySelector('#status').innerHTML =  msg;
});

db.transaction(function (tx) {
  tx.executeSql('SELECT * FROM LOGS', [], function (tx, results) {
   var len = results.rows.length, i;
   msg = "&lt;p&gt;Found rows: " + len + "&lt;/p&gt;";
   document.querySelector('#status').innerHTML +=  msg;
   for (i = 0; i &lt; len; i++){
     msg = "&lt;p&gt;&lt;b&gt;" + results.rows.item(i).log + "&lt;/b&gt;&lt;/p&gt;";
     document.querySelector('#status').innerHTML +=  msg;
   }
 }, null);
});
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="status" name="status"&gt;Status Message&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td></tr>
</table>
<p>This would produce following result with latest version of either Safari or Opera:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
Log message created and row inserted.

Found rows: 2

<b>foobar</b>

<b>logmsg</b>
</pre></td></tr>
</table>
<p>To learn above concept - <a href="../cgi-bin/practice9518.html?file=html5-26.htm" target="_blank">Do Online Practice</a> using latest version of either Safari or Opera.</p>
<br />
<hr />
<a href="html5_web_storage.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="html5_server_sent_events.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion2b20.html?tutorial=html5&amp;file=html5_web_sql.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/html5/html5_web_sql.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
