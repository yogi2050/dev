<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from www.tutorialspoint.com/html5/html5_websocket.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>HTML5 WebSockets Tutorial</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="keywords" content="HTML 5, Tutorials, Forms-2 Learning, Beginners,Canvas, Audio, Video, New Semantic Elements, Geolocation, Persistent Local Storage, Web Storage, Web SQL, Forms 2.0, Microdata and Drag and Drop" />
<meta name="description" content="HTML5 WebSockets Tutorial| HTML5 WebSockets Examples - Learning HTML 5 in simple and easy steps with examples covering 2D Canvas, Audio, Video, New Semantic Elements, Geolocation, Persistent Local Storage, Web Storage, Web SQL, Forms 2.0, Microdata and Drag and Drop" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript"> 
</script>
<script type="text/javascript"> 
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>HTML-5 Tutorial</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="index.html" >HTML5 Home</a></li>
<li><a class="left" target="_top" href="html5_overview.html" >HTML5 Overview</a></li>
<li><a class="left" target="_top" href="html5_syntax.html" >HTML5 Syntax</a></li>
<li><a class="left" target="_top" href="html5_attributes.html" >HTML5 Attributes</a></li>
<li><a class="left" target="_top" href="html5_events.html" >HTML5 Events</a></li>
<li><a class="left" target="_top" href="html5_web_forms2.html" >HTML5 Web Forms 2.0</a></li>
<li><a class="left" target="_top" href="html5_svg.html" >HTML5 SVG</a></li>
<li><a class="left" target="_top" href="html5_mathml.html" >HTML5 MathML</a></li>
<li><a class="left" target="_top" href="html5_web_storage.html">HTML5 Web Storage</a></li>
<li><a class="left" target="_top" href="html5_web_sql.html" >HTML5 Web SQL</a></li>
<li><a class="left" target="_top" href="html5_server_sent_events.html" >HTML5 Server-Sent Events</a></li>
<li><a class="left" target="_top" href="html5_websocket.html" ><b>HTML5 WebSocket</b></a></li>
<li><a class="left" target="_top" href="html5_canvas.html" >HTML5 Canvas</a></li>
<li><a class="left" target="_top" href="html5_audio_video.html" >HTML5 Audio &amp; Video</a></li>
<li><a class="left" target="_top" href="html5_geolocation.html" >HTML5 Geolocation</a></li>
<li><a class="left" target="_top" href="html5_microdata.html" >HTML5 Microdata</a></li>
<li><a class="left" target="_top" href="html5_drag_drop.html" >HTML5 Drag and drop</a></li>
<li><a class="left" target="_top" href="html5_web_workers.html" >HTML5 Web Workers</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Tag Reference</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_tags.html" >HTML5 Tags Reference</a></li>
<li><a class="left" target="_top" href="html5_deprecated_tags.html" >HTML5 Deprecated Tags</a></li>
<li><a class="left" target="_top" href="html5_new_tags.html" >HTML5 New Tags</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Useful References</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_quick_guide.html" >HTML5 Quick Guide</a></li>
<li><a class="left" target="_top" href="html5_color_names.html" >HTML5 Color Names</a></li>
<li><a class="left" target="_top" href="html5_fonts.html" >HTML5 Fonts Reference</a></li>
<li><a class="left" target="_top" href="html5_url_encoding.html" >HTML5 URL Encoding</a></li>
<li><a class="left" target="_top" href="html5_entities.html" >HTML5 Entities</a></li>
<li><a class="left" target="_top" href="html5_character_encodings.html" >HTML5 Char Encodings</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Tools</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_modernizr.html" >HTML5 Modernizr</a></li>
<li><a class="left" target="_top" href="html5_validation.html" >HTML5 Validation</a></li>
<li><a class="left" target="_top" href="html5_editor.html" >HTML5 Online Editor</a></li>
<li><a class="left" target="_top" href="html5_color_code_builder.html" >Color Code Builder</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>HTML5 Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="html5_useful_resources.html" >HTML5 Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>HTML5 - WebSockets Tutorial</h1>
<hr />
<a href="html5_server_sent_events.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="html5_canvas.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<p>Web Sockets is a next-generation bidirectional communication technology for web applications which  operates over a single socket and is exposed via a JavaScript interface in HTML 5 compliant browsers.</p>
<p>Once you get a Web Socket connection with the web server, you can send data from browser to server by calling a <b>send()</b> method, and receive data from server to browser by an <b>onmessage</b> event handler.</p>
<p>Following is the API which creates a new WebSocket object.</p>
<table cellpadding="5" class="src">
<tr><td><pre>
var Socket = new WebSocket(url, [protocal] );
</pre></td></tr>
</table>
<p>Here first argument, url, specifies the URL to which to connect. The second attribute, protocol is optional, and if present, specifies a sub-protocol that the server must support for the connection to be successful.</p>
<h1>WebSocket Attributes:</h1>
<p>Following are the attribute of WebSocket object. Assuming we created Socket object as mentioned above:</p>
<table class="src" border="1" cellpadding="5" cellspacing="0" width="100%">
<tr><th width="30%">Attribute</th><th>Description</th></tr>
<tr><td>Socket.readyState</td><td><p>The readonly attribute <b>readyState</b> represents the state of the connection. It can have the following values:</p>
<ol>
<li><p>A value of 0 indicates that the connection has not yet been established.</p></li>
<li><p>A value of 1 indicates that the connection is established and communication is possible.</p></li>
<li><p>A value of 2 indicates that the connection is going through the closing handshake.</p></li>
<li><p>A value of 3 indicates that the connection has been closed or could not be opened.</p></li>
</ol>
</td></tr>
<tr><td>Socket.bufferedAmount</td><td><p>The readonly attribute <b>bufferedAmount</b> represents the number of bytes of UTF-8 text that have been queued using send() method.</p> 
</td></tr>
</table>
<h1>WebSocket Events:</h1>
<p>Following are the events associated with WebSocket object. Assuming we created Socket object as mentioned above:</p>
<table class="src" border="1" cellpadding="5" cellspacing="0" width="100%">
<tr><th width="10%">Event</th><th width="25%">Event Handler</th><th>Description</th></tr>
<tr><td>open</td><td>Socket.onopen</td><td>This event occurs when socket connection is established.</td></tr>
<tr><td>message</td><td>Socket.onmessage</td><td>This event occurs when client receives data from server.</td></tr>
<tr><td>error</td><td>Socket.onerror</td><td>This event occurs when there is any error in communication.</td></tr>
<tr><td>close</td><td>Socket.onclose</td><td>This event occurs when connection is closed.</td></tr>
</table>
<h1>WebSocket Methods:</h1>
<p>Following are the methods associated with WebSocket object. Assuming we created Socket object as mentioned above:</p>
<table class="src" border="1" cellpadding="5" cellspacing="0" width="100%">
<tr><th width="30%">Method</th><th>Description</th></tr>
<tr><td>Socket.send()</td><td><p>The send(data) method transmits data using the connection.</p></td></tr>
<tr><td>Socket.close()</td><td><p>The close() method would be used to terminate any existing connection.</p></td></tr>
</table>
<h1>WebSocket Example:</h1>
<p>A WebSocket is a standard bidirectional TCP socket between the client and the server. The socket starts out as a HTTP connection and then "Upgrades" to a TCP socket after a HTTP handshake. After the handshake, either side can send data.</p>
<h2>Client Side HTML &amp; JavaScript Code:</h2>
<p>At the time of writing this tutorial, there are only few web browsers supporting WebSocket() interface. You can try following example with latest version of Chrome,	Mozilla, Opera and Safari.</p>
<table cellpadding="5" class="src">
<tr><td><pre>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript"&gt;
function WebSocketTest()
{
  if ("WebSocket" in window)
  {
     alert("WebSocket is supported by your Browser!");
     // Let us open a web socket
     var ws = new WebSocket("ws://localhost:9998/echo");
     ws.onopen = function()
     {
        // Web Socket is connected, send data using send()
        ws.send("Message to send");
        alert("Message is sent...");
     };
     ws.onmessage = function (evt) 
     { 
        var received_msg = evt.data;
        alert("Message is received...");
     };
     ws.onclose = function()
     { 
        // websocket is closed.
        alert("Connection is closed..."); 
     };
  }
  else
  {
     // The browser doesn't support WebSocket
     alert("WebSocket NOT supported by your Browser!");
  }
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="sse"&gt;
   &lt;a href="javascript:WebSocketTest()"&gt;Run WebSocket&lt;/a&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td></tr>
</table>
<h2>Install pywebsocket:</h2>
<p>Before you test above client program, you need a server which supports WebSocket. Download  mod_pywebsocket-x.x.x.tar.gz from <a href="http://code.google.com/p/pywebsocket/" target="_blank">pywebsocket</a> which aims to provide a Web Socket extension for Apache HTTP Server ans install it following these steps.</p>
<ol>
<li><p>Unzip and untar the downloaded file.</p></li>
<li><p>Go inside <b>pywebsocket-x.x.x/src/</b> directory.</p></li>
<li><p>$python setup.py build</p></li>
<li><p>$sudo python setup.py install</p></li>
<li><p>Then read document by:</p><ul><li>$pydoc mod_pywebsocket</li></ul></li>
</ol>
<p>This will install it into your python environment.</p>
<h2>Start the Server</h2>
<p>Go to the <b>pywebsocket-x.x.x/src/mod_pywebsocket</b> folder and run the following command:</p>
<table cellpadding="5" class="src">
<tr><td><pre>
$sudo python standalone.py -p 9998 -w ../example/
</pre></td></tr>
</table>
<p>This will start the server listening at port 9998 and use the handlers directory specified by the -w option where our echo_wsh.py resides.</p>
<p>Now using Chrome browser open the html file your created in the beginning. If your browser supports WebSocket(), then you would get alert indicating that your browser supports WebSocket and finally when you click on "Run WebSocket" you would get Goodbye message sent by the server script.</p>
<br />
<hr />
<a href="html5_server_sent_events.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="html5_canvas.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion1a1b.html?tutorial=html5&amp;file=html5_websocket.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/html5/html5_websocket.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
