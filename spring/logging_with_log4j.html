<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/spring/logging_with_log4j.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:36:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Spring Logging with Log4J</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Spring Logging with Log4J - Learn Java Spring Framework version 3.1.0 starting from environment setup, inversion of control (IoC), dependency injection, bean scopes, bean life cycle, inner beans, autowiring, different modules, aspect oriented programming (AOP), database access (JDBC), Transaction Management, Web MVC framework, Web Flow, Exception handling, EJB integration and Sending email etc." />
<meta name="keywords" content="Free, Spring, Tutorials, beginners, Framework, Web Flow,  Reference, Manual, Guide, transaction, Management" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
/* Spring Scheme */
#header{ 
   background:#c1cc22 !important;
}
#topmenu
{
   background-color:#387b2c !important;
}
#leftcol ul.menu li.heading 
{
   background:#c1cc22 !important;
   border:1px solid #387b2c !important;
}
#leftcol, #middlecol, #rightcol {min-height:1300px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
   _uacct = "UA-232293-6";
   urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/spring-mini-logo.png" alt="Spring tutorial" />
</div>
<ul class="menu">
<li class="heading">Spring Core Basics</li>
<li><a target="_top" href="index.html">Home</a></li>
<li><a target="_top" href="spring_overview.html">Overview</a></li>
<li><a target="_top" href="spring_architecture.html">Architecture</a></li>
<li><a target="_top" href="spring_environment_setup.html">Environment Setup</a></li>
<li><a target="_top" href="spring_hello_world_example.html">Hello World Example</a></li>
<li><a target="_top" href="spring_ioc_containers.html">IoC Containers</a></li>
<li><a target="_top" href="spring_bean_definition.html">Bean Definition</a></li>
<li><a target="_top" href="spring_bean_scopes.html">Bean Scopes</a></li>
<li><a target="_top" href="spring_bean_life_cycle.html">Bean Life Cycle</a></li>
<li><a target="_top" href="spring_bean_post_processors.html">Bean Post Processors</a></li>
<li><a target="_top" href="spring_bean_definition_inheritance.html">Bean Definition Inheritance</a></li>
<li><a target="_top" href="spring_dependency_injection.html">Dependency Injection</a></li>
<li><a target="_top" href="spring_injecting_inner_beans.html">Injecting Inner Beans</a></li>
<li><a target="_top" href="spring_injecting_collection.html">Injecting Collection</a></li>
<li><a target="_top" href="spring_beans_autowiring.html">Spring Beans Auto-Wiring</a></li>
<li><a target="_top" href="spring_annotation_based_configuration.html">Annotation Based Configuration</a></li>
<li><a target="_top" href="spring_java_based_configuration.html">Java Based Configuration</a></li>
<li><a target="_top" href="event_handling_in_spring.html">Event Handling in Spring</a></li>
<li><a target="_top" href="custom_events_in_spring.html">Custom Events in Spring</a></li>
<li><a target="_top" href="aop_with_spring.html">AOP with Spring Framework</a></li>
<li><a target="_top" href="spring_jdbc_framework.html">Spring JDBC Framework</a></li>
<li><a target="_top" href="spring_transaction_management.html">Transaction Management</a></li>
<li><a target="_top" href="spring_web_mvc_framework.html">Spring Web MVC Framework</a></li>
<li><a target="_top" href="logging_with_log4j.html"><b>Spring Logging with Log4J</b></a></li>
</ul>
<ul class="menu">
<li class="heading">Spring Useful Resources</li>
<li><a target="_top" href="spring_quick_guide.html">Spring Quick Guide</a></li>
<li><a target="_top" href="spring_useful_resources.html">Spring Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Spring Logging with Log4J</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="spring_web_mvc_framework.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="spring_quick_guide.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>This is very easy to use Log4J functionality inside Spring applications. The following example will take you through simple steps to explain the simple integration between Log4J and Spring.</p>
<p>I assume you already have <b>log4J</b> installation on your machine, if you do not have it then you can download it from <a href="http://logging.apache.org/" target="blank" rel="nofollow">http://logging.apache.org/</a> and simply extract the zipped file in any folder. We will use only <b>log4j-x.y.z.jar</b> in our project.</p>
<p>Next, let us have working Eclipse IDE in place and follow the following steps to develope a Dynamic Form based Web Application using Spring Web Framework:</p>
<table class="src">
<tr><th class="fivepct">Step</th><th>Description</th></tr>
<tr><td>1</td><td>Create a project with a name <i>SpringExample</i> and create a package <i>com.tutorialspoint</i> under the <b>src</b> folder in the created project.</td></tr>
<tr><td>2</td><td>Add required Spring libraries using <i>Add External JARs</i> option as explained in the <i>Spring Hello World Example</i> chapter.</td></tr>
<tr><td>3</td><td>Add  log4j library <i>log4j-x.y.z.jar</i> as well in your project using using <i>Add External JARs</i>.</td></tr>
<tr><td>4</td><td>Create Java classes <i>HelloWorld</i> and <i>MainApp</i> under the <i>com.tutorialspoint</i> package.</td></tr>
<tr><td>5</td><td>Create Beans configuration file <i>Beans.xml</i> under the <b>src</b> folder.</td></tr>
<tr><td>6</td><td>Create log4J configuration file <i>log4j.properties</i> under the <b>src</b> folder.</td></tr>
<tr><td>7</td><td>The final step is to create the content of all the Java files and Bean Configuration file and run the application as explained below.</td></tr>
</table>
<p>Here is the content of <b>HelloWorld.java</b> file:</p>
<pre class="prettyprint">
package com.tutorialspoint;

public class HelloWorld {
   private String message;

   public void setMessage(String message){
      this.message  = message;
   }

   public void getMessage(){
      System.out.println("Your Message : " + message);
   }
}
</pre>
<p>Following is the content of the second file <b>MainApp.java</b>:</p>
<pre class="prettyprint">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.apache.log4j.Logger;

public class MainApp {

   static Logger log = Logger.getLogger(MainApp.class.getName());

   public static void main(String[] args) {
      ApplicationContext context = 
             new ClassPathXmlApplicationContext("Beans.xml");

      log.info("Going to create HelloWord Obj");

      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");

      obj.getMessage();

      log.info("Exiting the program");
   }
}
</pre>
<p>You can generate <b>debug</b> and <b>error</b> message similar way as we have generated info messages. Now let us see the content of <b>Beans.xml</b> file:</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

   &lt;bean id="helloWorld" class="com.tutorialspoint.HelloWorld"&gt;
       &lt;property name="message" value="Hello World!"/&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</pre>
<p>Following is the content of <b>log4j.properties</b> which defines standard rules required for Log4J to produce log messages:</p>
<pre class="prettyprint">
# Define the root logger with appender file
log4j.rootLogger = DEBUG, FILE

# Define the file appender
log4j.appender.FILE=org.apache.log4j.FileAppender
# Set the name of the file
log4j.appender.FILE.File=C:\\log.out

# Set the immediate flush to true (default)
log4j.appender.FILE.ImmediateFlush=true

# Set the threshold to debug mode
log4j.appender.FILE.Threshold=debug

# Set the append to false, overwrite
log4j.appender.FILE.Append=false

# Define the layout for file appender
log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.FILE.layout.conversionPattern=%m%n
</pre>
<p>Once you are done with creating source and bean configuration files, let us run the application. If everything is fine with your application, this will print the following message in Eclipse console:</p>
<pre class="result">
Your Message : Hello World!
</pre>
<p>Sametime if you will check your C:\\ drive then you should find your log file <b>log.out</b> with various log messages, something as follows:</p>
<pre class="result">
&lt;!-- initialization log messages --&gt;

Going to create HelloWord Obj
Returning cached instance of singleton bean 'helloWorld'
Exiting the program
</pre>
<h2>Jakarta Commons Logging (JCL) API</h2>
<p>Alternatively you can use <b>Jakarta Commons Logging (JCL)</b> API to generate log in your Spring application. JCL can be downloaded from the <a href="http://jakarta.apache.org/commons/logging/" target="blank" rel="nofollow">http://jakarta.apache.org/commons/logging/</a>. The only file we technically need out of this package is the <i>commons-logging-x.y.z.jar</i> file, which needs to be placed in your classpath similar way as you had put <i>log4j-x.y.z.jar</i> in the above example.</p>
<p>To use the logging functionality you need a <i>org.apache.commons.logging.Log</i> object and then you can call one of the following methods as per your requirment:</p>
<ul class="list">
<li><p>fatal(Object message)</p></li>
<li><p>error(Object message)</p></li>
<li><p>warn(Object message)</p></li>
<li><p>info(Object message)</p></li>
<li><p>debug(Object message)</p></li>
<li><p>trace(Object message)</p></li>
</ul>
<p>Below is the replacement of MainApp.java which makes use of JCL API:</p>
<pre class="prettyprint">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.apache.commons.logging. Log;
import org.apache.commons.logging. LogFactory;

public class MainApp {

   static Log log = LogFactory.getLog(MainApp.class.getName());

   public static void main(String[] args) {
      ApplicationContext context = 
             new ClassPathXmlApplicationContext("Beans.xml");

      log.info("Going to create HelloWord Obj");

      HelloWorld obj = (HelloWorld) context.getBean("helloWorld");

      obj.getMessage();

      log.info("Exiting the program");
   }
}
</pre>
<p>You have make sure that you included <i>commons-logging-x.y.z.jar</i> file in your project before compiling and running the program.</p>
<p>Now keeping rest of the configuration and content unchanged in the above example, if you compile and run your application you will get similar result what you got using Log4J API.</p>
<hr />
<div class="pre-btn">
<a href="spring_web_mvc_framework.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/logging_with_log4j.pdf" alt="Spring Logging with Log4J" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="spring_quick_guide.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/spring/logging_with_log4j.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:36:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
