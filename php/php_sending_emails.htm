<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from www.tutorialspoint.com/php/php_sending_emails.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 19:40:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Sending Emails using PHP</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="Keywords" content="Learning, PHP, Programming, Language, Built-in Function, Library, Web Design,Object Oriented PHP, PHP Variables, Scalars, Arrays, Hash, File I/O, Looping, Regular Expressions, Subroutines, Coding Standard, Writing Modules, File Management, Socket, Examples, Reference, Special Variables, Syntax Overview, Advanced PHP, Tutorial, Tutorials, Operators, GET, POST, Predefined" />
<meta name="Description" content="Sending Emails using PHP - A simple and short PHP tutorial and complete reference manual for all built-in PHP functions. This tutorial is designed for beginners to adavnced developers. You will learn PHP Built-in Function Predefined Variables Examples Object Oriented Numbers Scalars Arrays Hash File I/O IF ELSEIF Do While Loops Operators Regular Expressions GET POST Subroutines Coding Standard Modules File Management Socket Communication  Reference Special Variables Syntax Overview Advanced PHP" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index.htm"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="18" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>Learning PHP</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="index.htm">PHP Home</a></li>
<li><a class="left" target="_top" href="php_introduction.htm" >PHP Introduction</a></li>
<li><a class="left" target="_top" href="php_environment.htm">PHP Environment</a></li>
<li><a class="left" target="_top" href="php_syntax_overview.htm" >PHP Syntax Overview</a></li>
<li><a class="left" target="_top" href="php_variable_types.htm" >PHP Variable Types</a></li>
<li><a class="left" target="_top" href="php_constants.htm" >PHP Constants</a></li>
<li><a class="left" target="_top" href="php_operator_types.htm" >PHP Operator Types</a></li>
<li><a class="left" target="_top" href="php_decision_making.htm" >PHP Decision Making</a></li>
<li><a class="left" target="_top" href="php_loop_types.htm" >PHP Loop Types</a></li>
<li><a class="left" target="_top" href="php_arrays.htm" >PHP Arrays</a></li>
<li><a class="left" target="_top" href="php_strings.htm" >PHP Strings</a></li>
<li><a class="left" target="_top" href="php_web_concepts.htm" >PHP Web Concepts</a></li>
<li><a class="left" target="_top" href="php_get_post.htm" >PHP GET &amp; POST</a></li>
<li><a class="left" target="_top" href="php_file_inclusion.htm" >PHP File Inclusion</a></li>
<li><a class="left" target="_top" href="php_files.htm" >PHP Files &amp; I/O</a></li>
<li><a class="left" target="_top" href="php_functions.htm" >PHP Functions</a></li>
<li><a class="left" target="_top" href="php_cookies.htm" >PHP Cookies</a></li>
<li><a class="left" target="_top" href="php_sessions.htm" >PHP Sessions</a></li>
<li><a class="left" target="_top" href="php_sending_emails.htm" ><b>PHP Sending Emails</b></a></li>
<li><a class="left" target="_top" href="php_file_uploading.htm" >PHP File Uploading</a></li>
<li><a class="left" target="_top" href="php_coding_standard.htm" >PHP Coding Standard</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Advanced PHP</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="php_predefined_variables.htm" >PHP Predefined Variables</a></li>
<li><a class="left" target="_top" href="php_regular_expression.htm" >PHP Regular Expression</a></li>
<li><a class="left" target="_top" href="php_error_handling.htm" >PHP Error Handling</a></li>
<li><a class="left" target="_top" href="php_bugs_debugging.htm" >PHP Bugs Debugging</a></li>
<li><a class="left" target="_top" href="php_date_and_time.htm" >PHP Date &amp; Time</a></li>
<li><a class="left" target="_top" href="php_and_mysql.htm" >PHP and MySQL</a></li>
<li><a class="left" target="_top" href="php_and_ajax.htm" >PHP and AJAX</a></li>
<li><a class="left" target="_top" href="php_and_xml.htm" >PHP and XML</a></li>
<li><a class="left" target="_top" href="php_object_oriented.htm" >PHP Object Oriented</a></li>
<li><a class="left" target="_top" href="php_for_c_developers.htm" >PHP for C Developers</a></li>
<li><a class="left" target="_top" href="php_for_perl_developers.htm" >PHP for PERL Developers</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>PHP Function Reference</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="php_function_reference.htm" >PHP Built-in Functions</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>PHP Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="php_useful_resources.htm" >PHP Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.htm">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top" align="left">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index.htm">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.htm">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:10px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.htm">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle"  cellpadding="5" cellspacing="0">
<tr>
<td align="left">
<!-- PRINTING STARTS HERE -->
<h1>PHP - Sending Emails</h1>
<hr />
<a href="php_sessions.htm"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="php_file_uploading.htm"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<hr />
<p>PHP must be configured correctly in the <b>php.ini</b> file with the details of how your system sends email. Open php.ini file available in <b>/etc/</b> directory and find the section headed <b>[mail function]</b>.</p>
<p>Windows users should ensure that two directives are supplied. The first is called SMTP that defines your email server address. The second is called sendmail_from which defines your own email address.</p>
<p>The configuration for Windows should look something like this:</p>
<table class="src" cellpadding="5"><tr><td><pre>
[mail function]
; For Win32 only.
SMTP = smtp.secureserver.net

; For win32 only
sendmail_from = webmaster@tutorialspoint.com
</pre></td></tr></table>
<p>Linux users simply need to let PHP know the location of their <b>sendmail</b> application. The path and any desired switches should be specified to the sendmail_path directive.</p>
<p>The configuration for Linux should look something like this:</p>
<table class="src" cellpadding="5"><tr><td><pre>
[mail function]
; For Win32 only.
SMTP = 

; For win32 only
sendmail_from = 

; For Unix only
sendmail_path = /usr/sbin/sendmail -t -i
</pre></td></tr></table>
<p>Now you are ready to go:</p>
<h2>Sending plain text email:</h2>
<p>PHP makes use of <b>mail()</b> function to send an email. This function requires three mandatory arguments that specify the recipient's email address, the subject of the the message and the actual message additionally there are other two optional parameters.</p>
<table class="src" cellpadding="5"><tr><td><pre>
mail( to, subject, message, headers, parameters );
</pre></td></tr></table>
<p>Here is the description for each parameters.</p>
<table class="src" cellpadding="5" border="1">
  <tr>
    <th align="left" valign="top" width="20%">Parameter</th>
    <th align="left" valign="top" width="80%">Description</th>
  </tr>  
  <tr>
    <td valign="top">to</td>
    <td valign="top">Required. Specifies the receiver / receivers of the email</td>
  </tr>
  <tr>
    <td valign="top">subject</td>
    <td valign="top">Required. Specifies 
	the subject of the email. This parameter cannot contain any newline characters</td>
  </tr>
  <tr>
    <td valign="top">message</td>
    <td valign="top">Required. Defines the message to be sent. Each line should 
	be separated with a LF (\n). Lines should not exceed 70 characters</td>
  </tr>
  <tr>
    <td valign="top">headers</td>
    <td valign="top">Optional. Specifies additional headers, like From, Cc, and 
	Bcc. The additional headers should be separated with a CRLF (\r\n)</td>
  </tr>
  <tr>
    <td valign="top">parameters</td>
    <td valign="top">Optional. Specifies an additional parameter to the sendmail program</td>
  </tr>
  </table>
<p>As soon as the mail function is called PHP will attempt to send the email then it will return true if successful or false if it is failed.</p>
<p>Multiple recipients can be specified as the first argument to the mail() function in a comma separated list.</p>
<h2>Example:</h2>
<p>Following example will send an HTML email message to xyz@somedomain.com. You can code this program in such a way that it should receive all content from the user and then it should send an email.</p>
<table class="src" cellpadding="5"><tr><td><pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Sending email using PHP&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
   $to = "xyz@somedomain.com";
   $subject = "This is subject";
   $message = "This is simple text message.";
   $header = "From:abc@somedomain.com \r\n";
   $retval = mail ($to,$subject,$message,$header);
   if( $retval == true )  
   {
      echo "Message sent successfully...";
   }
   else
   {
      echo "Message could not be sent...";
   }
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td></tr></table>
<h2>Sending HTML email:</h2>
<p>When you send a text message using PHP then all the content will be treated as simple text. Even if you will include HTML tags in a text message, it will be displayed as simple text and HTML tags will not be formatted according to HTML syntax. But PHP provides option to send an HTML message as actual HTML message.</p>
<p>While sending an email message you can specify a Mime version, content type  and character set to send an HTML email.</p>
<h2>Example:</h2>
<p>Following example will send an HTML email message to xyz@somedomain.com copying it to afgh@somedomain.com. You can code this program in such a way that it should recieve all content from the user and then it should send an email.</p>
<table class="src" cellpadding="5"><tr><td><pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Sending HTML email using PHP&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
   $to = "xyz@somedomain.com";
   $subject = "This is subject";
   $message = "&lt;b&gt;This is HTML message.&lt;/b&gt;";
   $message .= "&lt;h1&gt;This is headline.&lt;/h1&gt;";
   $header = "From:abc@somedomain.com \r\n";
   $header = "Cc:afgh@somedomain.com \r\n";
   $header .= "MIME-Version: 1.0\r\n";
   $header .= "Content-type: text/html\r\n";
   $retval = mail ($to,$subject,$message,$header);
   if( $retval == true )
   {
      echo "Message sent successfully...";
   }
   else
   {
      echo "Message could not be sent...";
   }
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td></tr></table>
<h2>Sending attachments with email:</h2>
<p>To send an email with mixed content requires to set <b>Content-type</b> header to <b>multipart/mixed</b>. Then text and attachment sections can be specified within <b>boundaries</b>.</p>
<p>A boundary is started with two hyphens followed by a unique number which can not appear in the message part of the email. A PHP function <b>md5()</b> is used to create a 32 digit hexadecimal number to create unique number. A final boundary denoting the email's final section must also end with two hyphens.</p>
<p>Attached files should be encoded with the <b>base64_encode()</b> function for safer transmission and are best split into chunks with the <b>chunk_split()</b> function. This adds <b>\r\n</b> inside the file at regular intervals, normally every 76 characters.</p>
<p>Following is the example which will send  a file <b>/tmp/test.txt</b> as an attachment. you can code your program to receive an uploaded file and send it.</p>
<table class="src" cellpadding="5"><tr><td><pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Sending attachment using PHP&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
  $to = "xyz@somedomain.com";
  $subject = "This is subject";
  $message = "This is test message.";
  # Open a file
  $file = fopen( "/tmp/test.txt", "r" );
  if( $file == false )
  {
     echo "Error in opening file";
     exit();
  }
  # Read the file into a variable
  $size = filesize("/tmp/test.txt");
  $content = fread( $file, $size);

  # encode the data for safe transit
  # and insert \r\n after every 76 chars.
  $encoded_content = chunk_split( base64_encode($content));
  
  # Get a random 32 bit number using time() as seed.
  $num = md5( time() );

  # Define the main headers.
  $header = "From:xyz@somedomain.com\r\n";
  $header .= "MIME-Version: 1.0\r\n";
  $header .= "Content-Type: multipart/mixed; ";
  $header .= "boundary=$num\r\n";
  $header .= "--$num\r\n";

  # Define the message section
  $header .= "Content-Type: text/plain\r\n";
  $header .= "Content-Transfer-Encoding:8bit\r\n\n";
  $header .= "$message\r\n";
  $header .= "--$num\r\n";

  # Define the attachment section
  $header .= "Content-Type:  multipart/mixed; ";
  $header .= "name=\"test.txt\"\r\n";
  $header .= "Content-Transfer-Encoding:base64\r\n";
  $header .= "Content-Disposition:attachment; ";
  $header .= "filename=\"test.txt\"\r\n\n";
  $header .= "$encoded_content\r\n";
  $header .= "--$num--";

  # Send email now
  $retval = mail ( $to, $subject, "", $header );
  if( $retval == true )
   {
      echo "Message sent successfully...";
   }
   else
   {
      echo "Message could not be sent...";
   }
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td></tr></table>
<p>You try all the above examples. If you face any problem then you can post that problem in discussion forum.</p>
<hr />
<a href="php_sessions.htm"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="php_file_uploading.htm"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion2c48.html?tutorial=php&amp;file=php_sending_emails.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/php/php_sending_emails.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 19:40:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
