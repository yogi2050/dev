<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from www.tutorialspoint.com/asp.net/asp.net_personalization.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>ASP.NET - Personalization</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="Keywords" content="Free, ASP.NET, Tutorial, Reference, Manual, Guide, Beginners,Event Handling, Life Cycle, ADO.NET, AJAX control,Web Services,Add Rotator, Panel, control, LINQ, Database Access, Security, Debugging, Error, Handling, Configuration, Deployment." />
<meta name="description" content="ASP.NET Personalization - Free ASP.NET Tutorials, Reference Manual, and Quick Guide for Beginners. Learn ASP.NET starting from Environment Setup, Basic Controls, Directives, Event Handling, Life Cycle, ADO.NET, AJAX control,Web Services,Add Rotator, Panel control, LINQ, Database Access, Security, Debugging, Error Handling, Configuration and Deployment." />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript"> 
</script>
<script type="text/javascript"> 
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>ASP.NET Tutorial</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="index.html">ASP.NET -  Home</a></li>
<li><a class="left" target="_top" href="asp.net_introduction.html">ASP.NET -  Introduction</a></li>
<li><a class="left" target="_top" href="asp.net_environment_setup.html">ASP.NET -  Environment</a></li>
<li><a class="left" target="_top" href="asp.net_life_cycle.html">ASP.NET -  Life Cycle</a></li>
<li><a class="left" target="_top" href="asp.net_first_example.html">ASP.NET -  First Example</a></li>
<li><a class="left" target="_top" href="asp.net_event_handling.html">ASP.NET -  Event Handling</a></li>
<li><a class="left" target="_top" href="asp.net_server_side.html">ASP.NET -  Server Side</a></li>
<li><a class="left" target="_top" href="asp.net_server_controls.html">ASP.NET -  Server Controls</a></li>
<li><a class="left" target="_top" href="asp.net_html_server.html">ASP.NET -  HTML Server</a></li>
<li><a class="left" target="_top" href="asp.net_client_side.html">ASP.NET -  Client Side</a></li>
<li><a class="left" target="_top" href="asp.net_basic_controls.html">ASP.NET -  Basic Controls</a></li>
<li><a class="left" target="_top" href="asp.net_directives.html">ASP.NET -  Directives</a></li>
<li><a class="left" target="_top" href="asp.net_managing_state.html">ASP.NET -  Managing State</a></li>
<li><a class="left" target="_top" href="asp.net_validators.html">ASP.NET -  Validators</a></li>
<li><a class="left" target="_top" href="asp.net_database_access.html">ASP.NET -  Database Access</a></li>
<li><a class="left" target="_top" href="asp.net_ado_net.html">ASP.NET -  ADO.net</a></li>
<li><a class="left" target="_top" href="asp.net_file_uploading.html">ASP.NET -  File Uploading</a></li>
<li><a class="left" target="_top" href="asp.net_ad_rotator.html">ASP.NET -  Ad Rotator</a></li>
<li><a class="left" target="_top" href="asp.net_calenders.html">ASP.NET -  Calendars</a></li>
<li><a class="left" target="_top" href="asp.net_multi_views.html">ASP.NET -  Multi Views</a></li>
<li><a class="left" target="_top" href="asp.net_panel_controls.html">ASP.NET -  Panel Controls</a></li>
<li><a class="left" target="_top" href="asp.net_ajax_control.html">ASP.NET -  AJAX Control</a></li>
<li><a class="left" target="_top" href="asp.net_data_sources.html">ASP.NET -  Data Sources</a></li>
<li><a class="left" target="_top" href="asp.net_data_binding.html">ASP.NET -  Data Binding</a></li>
<li><a class="left" target="_top" href="asp.net_custom_controls.html">ASP.NET -  Custom Controls</a></li>
<li><a class="left" target="_top" href="asp.net_personalization.html"><b><small>ASP.NET -  Personalization</small></b></a></li>
<li><a class="left" target="_top" href="asp.net_error_handling.html">ASP.NET -  Error Handling</a></li>
<li><a class="left" target="_top" href="asp.net_debugging.html">ASP.NET -  Debugging</a></li>
<li><a class="left" target="_top" href="asp.net_linq.html">ASP.NET -  LINQ </a></li>
<li><a class="left" target="_top" href="asp.net_security.html">ASP.NET -  Security</a></li>
<li><a class="left" target="_top" href="asp.net_data_caching.html">ASP.NET -  Data Caching </a></li>
<li><a class="left" target="_top" href="asp.net_web_services.html">ASP.NET -  Web Services</a></li>
<li><a class="left" target="_top" href="asp.net_multi_threading.html">ASP.NET -  Multi Threading</a></li>
<li><a class="left" target="_top" href="asp.net_configuration.html">ASP.NET -  Configuration</a></li>
<li><a class="left" target="_top" href="asp.net_deployment.html">ASP.NET -  Deployment</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>ASP.NET Quick Guide</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="asp.net_quick_guide.html">ASP.NET - Quick Guide</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>ASP.NET Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="asp.net_useful_resources.html">ASP.NET - Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>ASP.NET -  Personalization</h1>
<hr />
<a href="asp.net_custom_controls.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="asp.net_error_handling.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<p>Web sites are designed for repeated visits from the users. Personalization allows a site to remember its user and his/her information details and presents an individualistic environment to each user.</p>
<p>ASP.Net provides services for personalizing a web site to suit a particular client's taste and preference. </p>
<h1>Understanding Profiles:</h1>
<p>ASP.Net personalization service is based on user profile. User profile defines the kind of information about the user that the site will need, for example, name, age, address, date of birth, phone number etc.</p>
<p>This information is defined in the web.config file of the application and ASP.Net runtime reads and uses it. This job is done by the personalization providers.</p>
<p>The user profiles obtained from user data is stored in a default database created by ASP.Net. You can create your own database for storing profiles. The profile data definition is stored in the configuration file web.config. </p>
<h2>Example:</h2>
<p>Let us create a sample site, where we want our application to remember user details like name, address, date of birth etc. Add the profile details in the web.config file within the &lt;system.web&gt; element. </p>
<table class="src" cellpadding="5">
<tr><td><pre>
&lt;profile&gt;
	&lt;properties&gt;
	  &lt;add name="Name" type ="String"/&gt;
	  &lt;add name="Birthday" type ="System.DateTime"/&gt;
	  &lt;group name="Address"&gt;
		&lt;add name="Street"/&gt;
		&lt;add name="City"/&gt;
		&lt;add name="State"/&gt;
		&lt;add name="Zipcode"/&gt;
	  &lt;/group&gt;
	&lt;/properties&gt;
  &lt;/profile&gt;
&lt;/system.web&gt;
&lt;/configuration&gt;
</pre></td></tr>
</table>
<p>When the profile is defined in the web.config file, the profile could be used through the Profile property found in the current HttpContext and also available via page.</p>
<p>Add the text boxes to take the user input as defined in the profile and add a button for submitting the data:</p>
<center>
<img src="../images/personalization.html" alt="Personalization" />
</center>
<p>Update Page_load to display profile information :</p>
<table class="src" cellpadding="5">
<tr><td><pre>
using System;
using System.Data;
using System.Configuration;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;

public partial class _Default : System.Web.UI.Page 
{
   protected void Page_Load(object sender, EventArgs e)
   {
      if (!this.IsPostBack)
      {
      ProfileCommon pc=this.Profile.GetProfile(Profile.UserName);
      if (pc != null)
      {
         this.txtname.Text = pc.Name;
         this.txtaddr.Text = pc.Address.Street;
         this.txtcity.Text = pc.Address.City;
         this.txtstate.Text = pc.Address.State;
         this.txtzip.Text = pc.Address.Zipcode;
         this.Calendar1.SelectedDate = pc.Birthday;
       }
       }
    }
}
</pre></td></tr>
</table>
<p>Write the following handler for the Submit button, for saving the user data into the profile:</p>
<table class="src" cellpadding="5">
<tr><td><pre>
protected void btnsubmit_Click(object sender, EventArgs e)
{
  ProfileCommon pc=this.Profile.GetProfile(Profile.UserName);
  if (pc != null)
  {
     pc.Name = this.txtname.Text;
     pc.Address.Street = this.txtaddr.Text;
     pc.Address.City = this.txtcity.Text;
     pc.Address.State = this.txtstate.Text;
     pc.Address.Zipcode = this.txtzip.Text;
     pc.Birthday = this.Calendar1.SelectedDate;
     pc.Save();
  }
}
</pre></td></tr>
</table>
<p>Observe: When the page is executed for the first time, the user information need to be entered. However, next time the user details would be automatically loaded.</p>
<h1>Attributes for the &lt;add&gt;  Element</h1>
<p>Apart from the name and type attributes that we have used, there are other attributes to the &lt;add&gt; element. Following table illustrates some of these attributes:</p>
<table class="src" border="1" cellpadding="5" cellspacing="0" width="100%">
<tr><th width="30%">Attributes</th><th>Description</th></tr>
<tr><td>name</td><td>The name of the property.</td></tr>
<tr><td>type</td><td>By default the type is string but it allows any fully qualified class name as data type.</td></tr>
<tr><td>serializeAs</td><td>The format to use when serializing this value.</td></tr>
<tr><td>readOnly</td><td>A read only profile value cannot be changed, by default this property is false.</td></tr>
<tr><td>defaultValue</td><td>A default value that will be used if the profile does not exist or does not have information.</td></tr>
<tr><td>allowAnonymous</td><td>A Boolean value indicating whether this property can be used with the anonymous profiles.</td></tr>
<tr><td>Provider</td><td>The profiles provider that should be used to manage just this property.</td></tr>
</table>
<h1>Anonymous Personalization:</h1>
<p>Anonymous personalization allows the user to personalize the site before identifying themselves. For example, Amazon.com allows the user to add items in the shopping cart before they log in. To enable this feature, the web.config file could be configured as:</p>
<table class="src" cellpadding="5">
<tr><td><pre>
&lt;anonymousIdentification enabled ="true"
cookieName=".ASPXANONYMOUSUSER"
cookieTimeout="120000"
cookiePath="/"
cookieRequiresSSL="false"
cookieSlidingExpiration="true"
cookieprotection="Encryption"
coolieless="UseDeviceProfile"/&gt;
</pre></td></tr>
</table>
<br />
<hr />
<a href="asp.net_custom_controls.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="asp.net_error_handling.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion56f3.html?tutorial=asp.net&amp;file=asp.net_personalization.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/asp.net/asp.net_personalization.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
