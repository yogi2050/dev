<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from www.tutorialspoint.com/unix_commands/nsupdate.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>nsupdate - Unix, Linux Command</title>
<meta name="Description" Content="nsupdate - Unix, Linux Command Manual Pages (Manpages) ,  Learning fundamentals of UNIX and Linux in simple and easy steps : A beginner's tutorial containing complete knowledge of Unix Korn  and Bourne Shell and Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta name="Keywords" content="Unix, Tutorials, Learning, Operating, System, OS, Beginners, Basics, System Calls, Korn, Bourne, Shell,Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>Unix for Beginners</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/index.html">Unix - Home</a></li>
<li><a class="left" target="_top" href="../unix/unix-getting-started.html">Unix - Getting Started</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-management.html">Unix - File Management</a></li>
<li><a class="left" target="_top" href="../unix/unix-directories.html">Unix - Directories</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-permission.html">Unix - File Permission</a></li>
<li><a class="left" target="_top" href="../unix/unix-environment.html">Unix - Environment</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-utilities.html">Unix - Basic Utilities</a></li>
<li><a class="left" target="_top" href="../unix/unix-pipes-filters.html">Unix - Pipes &amp; Filters</a></li>
<li><a class="left" target="_top" href="../unix/unix-processes.html">Unix - Processes</a></li>
<li><a class="left" target="_top" href="../unix/unix-communication.html">Unix - Communication</a></li>
<li><a class="left" target="_top" href="../unix/unix-vi-editor.html">Unix - The vi Editor</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Shell Programming</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-shell.html">Unix - What is Shell?</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-variables.html">Unix - Using Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-special-variables.html">Unix - Special Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-arrays.html">Unix - Using Arrays</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-operators.html">Unix - Basic Operators</a></li>
<li><a class="left" target="_top" href="../unix/unix-decision-making.html">Unix - Decision Making</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-loops.html">Unix - Shell Loops</a></li>
<li><a class="left" target="_top" href="../unix/unix-loop-control.html">Unix - Loop Control</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-substitutions.html">Unix - Shell Substitutions</a></li>
<li><a class="left" target="_top" href="../unix/unix-quoting-mechanisms.html">Unix - Quoting Mechanisms</a></li>
<li><a class="left" target="_top" href="../unix/unix-io-redirections.html">Unix - IO Redirections</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-functions.html">Unix - Shell Functions</a></li>
<li><a class="left" target="_top" href="../unix/unix-manpage-help.html">Unix - Manpage Help</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Advanced Unix</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-regular-expressions.html">Unix - Regular Expressions</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-system.html">Unix - File System Basics</a></li>
<li><a class="left" target="_top" href="../unix/unix-user-administration.html">Unix - User Administration</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-performance.html">Unix - System Performance</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-logging.html">Unix - System Logging</a></li>
<li><a class="left" target="_top" href="../unix/unix-signals-traps.html">Unix - Signals and Traps</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful References</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-commands.html">Unix - Useful Commands</a></li>
<li><a class="left" target="_top" href="../unix/unix-quick-guide.html">Unix - Quick Guide</a></li>
<li><a class="left" target="_top" href="../unix/unix-builtin-functions.html">Unix - Builtin Functions</a></li>
<li><a class="left" target="_top" href="../unix_system_calls/index.html">Unix - System Calls</a></li>
<li><a class="left" target="_top" href="index.html"><b>Unix - Commands List</b></a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-resources.html">Unix Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>nsupdate - Unix, Linux Command</h1>
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>  
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<!-- ignored unsupported tag .hy -->
<!-- ignored unsupported tag .ad -->
<!-- ignored unsupported tag .nh -->
<!-- ignored unsupported tag .ad -->
<h1 class="manpages">NAME</h1>
nsupdate - Dynamic DNS update utility
<h1 class="manpages">SYNOPSIS</h1>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td colspan="2">
<b>nsupdate</b> [<b>-d</b>] [[<b>-y </b><b></b><i>keyname:secret</i>] | [<b>-k </b><b></b><i>keyfile</i>]] [<b>-t </b><b></b><i>timeout</i>] [<b>-u </b><b></b><i>udptimeout</i>] [<b>-r </b><b></b><i>udpretries</i>] [<b>-v</b>] [filename]
</td></tr>
</table>
<h1 class="manpages">DESCRIPTION</h1>
<p>
<b>nsupdate</b>
is used to submit Dynamic DNS Update requests as defined in RFC2136 to a name server. This allows resource records to be added or removed from a zone without manually editing the zone file. A single update request can contain requests to add or remove more than one resource record.
<p>
Zones that are under dynamic control via
<b>nsupdate</b>
or a DHCP server should not be edited by hand. Manual edits could conflict with dynamic updates and cause data to be lost.
<p>
The resource records that are dynamically added or removed with
<b>nsupdate</b>
have to be in the same zone. Requests are sent to the zone&#146;s master server. This is identified by the MNAME field of the zone&#146;s SOA record.
<p>
The
<b>-d</b>
option makes
<b>nsupdate</b>
operate in debug mode. This provides tracing information about the update requests that are made and the replies received from the name server.
<p>
Transaction signatures can be used to authenticate the Dynamic DNS updates. These use the TSIG resource record type described in RFC2845 or the SIG(0) record described in RFC3535 and RFC2931. TSIG relies on a shared secret that should only be known to
<b>nsupdate</b>
and the name server. Currently, the only supported encryption algorithm for TSIG is HMAC-MD5, which is defined in RFC 2104. Once other algorithms are defined for TSIG, applications will need to ensure they select the appropriate algorithm as well as the key when authenticating each other. For instance, suitable
<b>key</b>
and
<b>server</b>
statements would be added to
<i>/etc/named.conf</i>
so that the name server can associate the appropriate secret key and algorithm with the IP address of the client application that will be using TSIG authentication. SIG(0) uses public key cryptography. To use a SIG(0) key, the public key must be stored in a KEY record in a zone served by the name server.
<b>nsupdate</b>
does not read
<i>/etc/named.conf</i>.
<p>
<b>nsupdate</b>
uses the
<b>-y</b>
or
<b>-k</b>
option (with an HMAC-MD5 key) to provide the shared secret needed to generate a TSIG record for authenticating Dynamic DNS update requests. These options are mutually exclusive. With the
<b>-k</b>
option,
<b>nsupdate</b>
reads the shared secret from the file
<i>keyfile</i>, whose name is of the form
<i>K{name}.+157.+{random}.private</i>. For historical reasons, the file
<i>K{name}.+157.+{random}.key</i>
must also be present. When the
<b>-y</b>
option is used, a signature is generated from
<i>keyname:secret.</i>
<i>keyname</i>
is the name of the key, and
<i>secret</i>
is the base64 encoded shared secret. Use of the
<b>-y</b>
option is discouraged because the shared secret is supplied as a command line argument in clear text. This may be visible in the output from
<b>ps</b>(1 )
or in a history file maintained by the user&#146;s shell.
<p>
The
<b>-k</b>
may also be used to specify a SIG(0) key used to authenticate Dynamic DNS update requests. In this case, the key specified is not an HMAC-MD5 key.
<p>
By default
<b>nsupdate</b>
uses UDP to send update requests to the name server unless they are too large to fit in a UDP request in which case TCP will be used. The
<b>-v</b>
option makes
<b>nsupdate</b>
use a TCP connection. This may be preferable when a batch of update requests is made.
<p>
The
<b>-t</b>
option sets the maximum time an update request can take before it is aborted. The default is 300 seconds. Zero can be used to disable the timeout.
<p>
The
<b>-u</b>
option sets the UDP retry interval. The default is 3 seconds. If zero, the interval will be computed from the timeout interval and number of UDP retries.
<p>
The
<b>-r</b>
option sets the number of UDP retries. The default is 3. If zero, only one update request will be made.
<h1 class="manpages">INPUT FORMAT</h1>
<p>
<b>nsupdate</b>
reads input from
<i>filename</i>
or standard input. Each command is supplied on exactly one line of input. Some commands are for administrative purposes. The others are either update instructions or prerequisite checks on the contents of the zone. These checks set conditions that some name or set of resource records (RRset) either exists or is absent from the zone. These conditions must be met if the entire update request is to succeed. Updates will be rejected if the tests for the prerequisite conditions fail.
<p>
Every update request consists of zero or more prerequisites and zero or more updates. This allows a suitably authenticated update request to proceed if some specified resource records are present or missing from the zone. A blank input line (or the
<b>send</b>
command) causes the accumulated commands to be sent as one Dynamic DNS update request to the name server.
<p>
The command formats and their meaning are as follows:
<p>
<b>server</b> {servername} [port]
Sends all dynamic update requests to the name server
<i>servername</i>. When no server statement is provided,
<b>nsupdate</b>
will send updates to the master server of the correct zone. The MNAME field of that zone&#146;s SOA record will identify the master server for that zone.
<i>port</i>
is the port number on
<i>servername</i>
where the dynamic update requests get sent. If no port number is specified, the default DNS port number of 53 is used.
<p>
<b>local</b> {address} [port]
Sends all dynamic update requests using the local
<i>address</i>. When no local statement is provided,
<b>nsupdate</b>
will send updates using an address and port chosen by the system.
<i>port</i>
can additionally be used to make requests come from a specific port. If no port number is specified, the system will assign one.
<p>
<b>zone</b> {zonename}
Specifies that all updates are to be made to the zone
<i>zonename</i>. If no
<i>zone</i>
statement is provided,
<b>nsupdate</b>
will attempt determine the correct zone to update based on the rest of the input.
<p>
<b>class</b> {classname}
Specify the default class. If no
<i>class</i>
is specified, the default class is
<i>IN</i>.
<p>
<b>key</b> {name} {secret}
Specifies that all updates are to be TSIG-signed using the
<i>keyname</i>
<i>keysecret</i>
pair. The
<b>key</b>
command overrides any key specified on the command line via
<b>-y</b>
or
<b>-k</b>.
<p>
<b>prereq nxdomain</b> {domain-name}
Requires that no resource record of any type exists with name
<i>domain-name</i>.
<p>
<b>prereq yxdomain</b> {domain-name}
Requires that
<i>domain-name</i>
exists (has as at least one resource record, of any type).
<p>
<b>prereq nxrrset</b> {domain-name} [class] {type}
Requires that no resource record exists of the specified
<i>type</i>,
<i>class</i>
and
<i>domain-name</i>. If
<i>class</i>
is omitted, IN (internet) is assumed.
<p>
<b>prereq yxrrset</b> {domain-name} [class] {type}
This requires that a resource record of the specified
<i>type</i>,
<i>class</i>
and
<i>domain-name</i>
must exist. If
<i>class</i>
is omitted, IN (internet) is assumed.
<p>
<b>prereq yxrrset</b> {domain-name} [class] {type} {data...}
The
<i>data</i>
from each set of prerequisites of this form sharing a common
<i>type</i>,
<i>class</i>, and
<i>domain-name</i>
are combined to form a set of RRs. This set of RRs must exactly match the set of RRs existing in the zone at the given
<i>type</i>,
<i>class</i>, and
<i>domain-name</i>. The
<i>data</i>
are written in the standard text representation of the resource record&#146;s RDATA.
<p>
<b>update delete</b> {domain-name} [ttl] [class] [type [data...]]
Deletes any resource records named
<i>domain-name</i>. If
<i>type</i>
and
<i>data</i>
is provided, only matching resource records will be removed. The internet class is assumed if
<i>class</i>
is not supplied. The
<i>ttl</i>
is ignored, and is only allowed for compatibility.
<p>
<b>update add</b> {domain-name} {ttl} [class] {type} {data...}
Adds a new resource record with the specified
<i>ttl</i>,
<i>class</i>
and
<i>data</i>.
<p>
<b>show</b>
Displays the current message, containing all of the prerequisites and updates specified since the last send.
<p>
<b>send</b>
Sends the current message. This is equivalent to entering a blank line.
<p>
<b>answer</b>
Displays the answer.
<p>
Lines beginning with a semicolon are comments and are ignored.
<h1 class="manpages">EXAMPLES</h1>
<p>
The examples below show how
<b>nsupdate</b>
could be used to insert and delete resource records from the
<b>example.com</b>
zone. Notice that the input in each example contains a trailing blank line so that a group of commands are sent as one dynamic update request to the master name server for
<b>example.com</b>.
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
# nsupdate
&gt; update delete oldhost.example.com A
&gt; update add newhost.example.com 86400 A 172.16.1.1
&gt; send
</pre></td></tr>
</table>
<p>
<p>
Any A records for
<b>oldhost.example.com</b>
are deleted. And an A record for
<b>newhost.example.com</b>
with IP address 172.16.1.1 is added. The newly-added record has a 1 day TTL (86400 seconds).
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
# nsupdate
&gt; prereq nxdomain nickname.example.com
&gt; update add nickname.example.com 86400 CNAME somehost.example.com
&gt; send
</pre></td></tr>
</table>
<p>
<p>
The prerequisite condition gets the name server to check that there are no resource records of any type for
<b>nickname.example.com</b>. If there are, the update request fails. If this name does not exist, a CNAME for it is added. This ensures that when the CNAME is added, it cannot conflict with the long-standing rule in RFC1034 that a name must not exist as any other record type if it exists as a CNAME. (The rule has been updated for DNSSEC in RFC2535 to allow CNAMEs to have RRSIG, DNSKEY and NSEC records.)
<h1 class="manpages">FILES</h1>
<p>
<b>/etc/resolv.conf</b>
used to identify default name server
<p>
<b>K{name}.+157.+{random}.key</b>
base-64 encoding of HMAC-MD5 key created by
<b>dnssec-keygen</b>(8).
<p>
<b>K{name}.+157.+{random}.private</b>
base-64 encoding of HMAC-MD5 key created by
<b>dnssec-keygen</b>(8).
<h1 class="manpages">SEE ALSO</h1>
<ul>
</ul>
<b>RFC2136</b>(),
<b>RFC3007</b>(),
<b>RFC2104</b>(),
<b>RFC2845</b>(),
<b>RFC1034</b>(),
<b>RFC2535</b>(),
<b>RFC2931</b>(),
<b>named</b>(8),
<b>dnssec-keygen</b>(8).
<h1 class="manpages">BUGS</h1>
<p>
The TSIG key is redundantly stored in two separate files. This is a consequence of nsupdate using the DST library for its cryptographic operations, and may change in future releases.
<h1 class="manpages">COPYRIGHT</h1>
Copyright &#169; 2004-2008 Internet Systems Consortium, Inc. ("ISC")
<!-- Need break --><br />
Copyright &#169; 2000-2003 Internet Software Consortium.
<br />
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion3308.html?tutorial=unix_commands&amp;file=nsupdate.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/unix_commands/nsupdate.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
