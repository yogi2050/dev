<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from www.tutorialspoint.com/unix_commands/winbindd.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>winbindd - Unix, Linux Command</title>
<meta name="Description" Content="winbindd - Unix, Linux Command Manual Pages (Manpages) ,  Learning fundamentals of UNIX and Linux in simple and easy steps : A beginner's tutorial containing complete knowledge of Unix Korn  and Bourne Shell and Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta name="Keywords" content="Unix, Tutorials, Learning, Operating, System, OS, Beginners, Basics, System Calls, Korn, Bourne, Shell,Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>Unix for Beginners</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/index.html">Unix - Home</a></li>
<li><a class="left" target="_top" href="../unix/unix-getting-started.html">Unix - Getting Started</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-management.html">Unix - File Management</a></li>
<li><a class="left" target="_top" href="../unix/unix-directories.html">Unix - Directories</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-permission.html">Unix - File Permission</a></li>
<li><a class="left" target="_top" href="../unix/unix-environment.html">Unix - Environment</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-utilities.html">Unix - Basic Utilities</a></li>
<li><a class="left" target="_top" href="../unix/unix-pipes-filters.html">Unix - Pipes &amp; Filters</a></li>
<li><a class="left" target="_top" href="../unix/unix-processes.html">Unix - Processes</a></li>
<li><a class="left" target="_top" href="../unix/unix-communication.html">Unix - Communication</a></li>
<li><a class="left" target="_top" href="../unix/unix-vi-editor.html">Unix - The vi Editor</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Shell Programming</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-shell.html">Unix - What is Shell?</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-variables.html">Unix - Using Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-special-variables.html">Unix - Special Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-arrays.html">Unix - Using Arrays</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-operators.html">Unix - Basic Operators</a></li>
<li><a class="left" target="_top" href="../unix/unix-decision-making.html">Unix - Decision Making</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-loops.html">Unix - Shell Loops</a></li>
<li><a class="left" target="_top" href="../unix/unix-loop-control.html">Unix - Loop Control</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-substitutions.html">Unix - Shell Substitutions</a></li>
<li><a class="left" target="_top" href="../unix/unix-quoting-mechanisms.html">Unix - Quoting Mechanisms</a></li>
<li><a class="left" target="_top" href="../unix/unix-io-redirections.html">Unix - IO Redirections</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-functions.html">Unix - Shell Functions</a></li>
<li><a class="left" target="_top" href="../unix/unix-manpage-help.html">Unix - Manpage Help</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Advanced Unix</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-regular-expressions.html">Unix - Regular Expressions</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-system.html">Unix - File System Basics</a></li>
<li><a class="left" target="_top" href="../unix/unix-user-administration.html">Unix - User Administration</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-performance.html">Unix - System Performance</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-logging.html">Unix - System Logging</a></li>
<li><a class="left" target="_top" href="../unix/unix-signals-traps.html">Unix - Signals and Traps</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful References</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-commands.html">Unix - Useful Commands</a></li>
<li><a class="left" target="_top" href="../unix/unix-quick-guide.html">Unix - Quick Guide</a></li>
<li><a class="left" target="_top" href="../unix/unix-builtin-functions.html">Unix - Builtin Functions</a></li>
<li><a class="left" target="_top" href="../unix_system_calls/index.html">Unix - System Calls</a></li>
<li><a class="left" target="_top" href="index.html"><b>Unix - Commands List</b></a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-resources.html">Unix Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>winbindd - Unix, Linux Command</h1>
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>  
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<!-- ignored unsupported tag .nh -->
<!-- ignored unsupported tag .ad -->
<h1 class="manpages">NAME</h1>
winbindd - Name Service Switch daemon for resolving names from NT servers
<h1 class="manpages">SYNOPSIS</h1>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td colspan="2">
winbindd [-D] [-F] [-S] [-i] [-Y] [-d &lt;debug level&gt;] [-s &lt;smb config file&gt;] [-n]
</td></tr>
</table>
<h1 class="manpages">DESCRIPTION</h1>
<p>
This program is part of the
<b>samba</b>(7)
suite&#46;
<p>
winbindd
is a daemon that provides a number of services to the Name Service Switch capability found in most modern C libraries, to arbitrary applications via PAM and
ntlm_auth
and to Samba itself&#46;
<p>
Even if winbind is not used for nsswitch, it still provides a service to
smbd,
ntlm_auth
and the
pam_winbind&#46;so
PAM module, by managing connections to domain controllers&#46; In this configuration the
<i>idmap uid</i>
and
<i>idmap gid</i>
parameters are not required&#46; (This is known as &#145;netlogon proxy only mode&#39;&#46;)
<p>
The Name Service Switch allows user and system information to be obtained from different databases services such as NIS or DNS&#46; The exact behaviour can be configured through the
<i>/etc/nsswitch&#46;conf</i>
file&#46; Users and groups are allocated as they are resolved to a range of user and group ids specified by the administrator of the Samba system&#46;
<p>
The service provided by
winbindd
is called &#145;winbind&#39; and can be used to resolve user and group information from a Windows NT server&#46; The service can also provide authentication services via an associated PAM module&#46;
<p>
The
<i>pam_winbind</i>
module supports the
<i>auth</i>,
<i>account</i>
and
<i>password</i>
module-types&#46; It should be noted that the
<i>account</i>
module simply performs a getpwnam() to verify that the system can obtain a uid for the user, as the domain controller has already performed access control&#46; If the
<i>libnss_winbind</i>
library has been correctly installed, or an alternate source of names configured, this should always succeed&#46;
<p>
The following nsswitch databases are implemented by the winbindd service:
<p>
-D
If specified, this parameter causes the server to operate as a daemon&#46; That is, it detaches itself and runs in the background on the appropriate port&#46; This switch is assumed if
winbindd
is executed on the command line of a shell&#46;
<p>
hosts
This feature is only available on IRIX&#46; User information traditionally stored in the
<i>hosts(5)</i>
file and used by
gethostbyname(3)
functions&#46; Names are resolved through the WINS server or by broadcast&#46;
<p>
passwd
User information traditionally stored in the
<i>passwd(5)</i>
file and used by
getpwent(3)
functions&#46;
<p>
group
Group information traditionally stored in the
<i>group(5)</i>
file and used by
getgrent(3)
functions&#46;
<p>
For example, the following simple configuration in the
<i>/etc/nsswitch&#46;conf</i>
file can be used to initially resolve user and group information from
<i>/etc/passwd </i>
and
<i>/etc/group</i>
and then from the Windows NT server&#46;
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
passwd:         files winbind
group:          files winbind
## only available on IRIX: use winbind to resolve hosts:
# hosts:        files dns winbind
## All other NSS enabled systems should use libnss_wins&#46;so like this:
hosts:          files dns wins
<p>
</pre></td></tr>
</table>
<p>
The following simple configuration in the
<i>/etc/nsswitch&#46;conf</i>
file can be used to initially resolve hostnames from
<i>/etc/hosts</i>
and then from the WINS server&#46;
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
hosts:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files wins
</pre></td></tr>
</table>
<h1 class="manpages">OPTIONS</h1>
<p>
-F
If specified, this parameter causes the main
winbindd
process to not daemonize, i&#46;e&#46; double-fork and disassociate with the terminal&#46; Child processes are still created as normal to service each connection request, but the main process does not exit&#46; This operation mode is suitable for running
winbindd
under process supervisors such as
supervise
and
svscan
from Daniel J&#46; Bernstein&#39;s
daemontools
package, or the AIX process monitor&#46;
<p>
-S
If specified, this parameter causes
winbindd
to log to standard output rather than a file&#46;
<p>
-d|--debuglevel=level
<i>level</i>
is an integer from 0 to 10&#46; The default value if this parameter is not specified is 0&#46;
<p>
The higher this value, the more detail will be logged to the log files about the activities of the server&#46; At level 0, only critical errors and serious warnings will be logged&#46; Level 1 is a reasonable level for day-to-day running - it generates a small amount of information about operations carried out&#46;
<p>
Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem&#46; Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic&#46;
<p>
Note that specifying this parameter here will override the
<i>log level</i>
parameter in the
<i>smb&#46;conf</i>
file&#46;
<p>
-V
Prints the program version number&#46;
<p>
-s &lt;configuration file&gt;
The file specified contains the configuration details required by the server&#46; The information in this file includes server-specific information such as what printcap file to use, as well as descriptions of all the services that the server is to provide&#46; See
<i>smb&#46;conf</i>
for more information&#46; The default configuration file name is determined at compile time&#46;
<p>
-l|--log-basename=logdirectory
Base directory name for log/debug files&#46; The extension
<b>"&#46;progname"</b>
will be appended (e&#46;g&#46; log&#46;smbclient, log&#46;smbd, etc&#46;&#46;&#46;)&#46; The log file is never removed by the client&#46;
<p>
-h|--help
Print a summary of command line options&#46;
<p>
-i
Tells
winbindd
to not become a daemon and detach from the current terminal&#46; This option is used by developers when interactive debugging of
winbindd
is required&#46;
winbindd
also logs to standard output, as if the
-S
parameter had been given&#46;
<p>
-n
Disable caching&#46; This means winbindd will always have to wait for a response from the domain controller before it can respond to a client and this thus makes things slower&#46; The results will however be more accurate, since results from the cache might not be up-to-date&#46; This might also temporarily hang winbindd if the DC doesn&#39;t respond&#46;
<p>
-Y
Single daemon mode&#46; This means winbindd will run as a single process (the mode of operation in Samba 2&#46;2)&#46; Winbindd&#39;s default behavior is to launch a child process that is responsible for updating expired cache entries&#46;
<h1 class="manpages">NAME AND ID RESOLUTION</h1>
<p>
Users and groups on a Windows NT server are assigned a security id (SID) which is globally unique when the user or group is created&#46; To convert the Windows NT user or group into a unix user or group, a mapping between SIDs and unix user and group ids is required&#46; This is one of the jobs that
winbindd
performs&#46;
<p>
As winbindd users and groups are resolved from a server, user and group ids are allocated from a specified range&#46; This is done on a first come, first served basis, although all existing users and groups will be mapped as soon as a client performs a user or group enumeration command&#46; The allocated unix ids are stored in a database and will be remembered&#46;
<p>
WARNING: The SID to unix id database is the only location where the user and group mappings are stored by winbindd&#46; If this store is deleted or corrupted, there is no way for winbindd to determine which user and group ids correspond to Windows NT user and group rids&#46;
<p>
See the
<i>idmap domains</i>
or the old
<i>idmap backend</i>
parameters in
<i>smb&#46;conf</i>
for options for sharing this database, such as via LDAP&#46;
<h1 class="manpages">CONFIGURATION</h1>
<p>
Configuration of the
winbindd
daemon is done through configuration parameters in the
<b>smb.conf</b>(5)
file&#46; All parameters should be specified in the [global] section of smb&#46;conf&#46;
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>winbind separator</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>idmap uid</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>idmap gid</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>idmap backend</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>winbind cache time</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>winbind enum users</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>winbind enum groups</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>template homedir</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>template shell</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>winbind use default domain</i>
</td></tr>
</table>
<p>
<!-- ignored unsupported tag .ie -->
o
<!-- ignored unsupported tag .\} -->

<p>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td width=2.3%>
o
</td><td>
<!-- ignored unsupported tag .\} -->
<p>
<i>winbind: rpc only</i>
Setting this parameter forces winbindd to use RPC instead of LDAP to retrieve information from Domain Controllers&#46;
</td></tr>
</table>
<h1 class="manpages">EXAMPLE SETUP</h1>
<p>
To setup winbindd for user and group lookups plus authentication from a domain controller use something like the following setup&#46; This was tested on an early Red Hat Linux box&#46;
<p>
In
<i>/etc/nsswitch&#46;conf</i>
put the following:
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
passwd: files winbind
group:  files winbind
</pre></td></tr>
</table>
<p>
In
<i>/etc/pam&#46;d/*</i>
replace the
<i> auth</i>
lines with something like this:
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
auth  required    /lib/security/pam_securetty&#46;so
auth  required&nbsp;&nbsp;  /lib/security/pam_nologin&#46;so
auth  sufficient  /lib/security/pam_winbind&#46;so
auth  required    /lib/security/pam_unix&#46;so &#92;
                  use_first_pass shadow nullok
</pre></td></tr>
</table>
<p>
<p>
<!-- ignored unsupported tag .it -->
Note
<p>
The PAM module pam_unix has recently replaced the module pam_pwdb&#46; Some Linux systems use the module pam_unix2 in place of pam_unix&#46;
<p>
Note in particular the use of the
<i>sufficient </i>
keyword and the
<i>use_first_pass</i>
keyword&#46;
<p>
Now replace the account lines with this:
<p>
account required /lib/security/pam_winbind&#46;so
<p>
The next step is to join the domain&#46; To do that use the
net
program like this:
<p>
net join -S PDC -U Administrator
<p>
The username after the
<i>-U</i>
can be any Domain user that has administrator privileges on the machine&#46; Substitute the name or IP of your PDC for "PDC"&#46;
<p>
Next copy
<i>libnss_winbind&#46;so</i>
to
<i>/lib</i>
and
<i>pam_winbind&#46;so </i>
to
<i>/lib/security</i>&#46; A symbolic link needs to be made from
<i>/lib/libnss_winbind&#46;so</i>
to
<i>/lib/libnss_winbind&#46;so&#46;2</i>&#46; If you are using an older version of glibc then the target of the link should be
<i>/lib/libnss_winbind&#46;so&#46;1</i>&#46;
<p>
Finally, setup a
<b>smb.conf</b>(5)
containing directives like the following:
<p>
<table class="src" cellpadding="5" cellspacing="5">
<tr><td><pre>
[global]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;winbind separator = +
        winbind cache time = 10
        template shell = /bin/bash
        template homedir = /home/%D/%U
        idmap uid = 10000-20000
        idmap gid = 10000-20000
        workgroup = DOMAIN
        security = domain
        password server = *
</pre></td></tr>
</table>
<p>
Now start winbindd and you should find that your user and group database is expanded to include your NT users and groups, and that you can login to your unix box as a domain user, using the DOMAIN+user syntax for the username&#46; You may wish to use the commands
getent passwd
and
getent group
to confirm the correct operation of winbindd&#46;
<h1 class="manpages">NOTES</h1>
<p>
The following notes are useful when configuring and running
winbindd:
<p>
<b>nmbd</b>(8)
must be running on the local machine for
winbindd
to work&#46;
<p>
PAM is really easy to misconfigure&#46; Make sure you know what you are doing when modifying PAM configuration files&#46; It is possible to set up PAM such that you can no longer log into your system&#46;
<p>
If more than one UNIX machine is running
winbindd, then in general the user and groups ids allocated by winbindd will not be the same&#46; The user and group ids will only be valid for the local machine, unless a shared
<i>idmap backend</i>
is configured&#46;
<p>
If the the Windows NT SID to UNIX user and group id mapping file is damaged or destroyed then the mappings will be lost&#46;
<h1 class="manpages">SIGNALS</h1>
<p>
The following signals can be used to manipulate the
winbindd
daemon&#46;
<p>
SIGHUP
Reload the
<b>smb.conf</b>(5)
file and apply any parameter changes to the running version of winbindd&#46; This signal also clears any cached user and group information&#46; The list of other domains trusted by winbindd is also reloaded&#46;
<p>
SIGUSR2
The SIGUSR2 signal will cause
winbindd
to write status information to the winbind log file&#46;
<p>
Log files are stored in the filename specified by the log file parameter&#46;
<h1 class="manpages">FILES</h1>
<p>
<i>/etc/nsswitch&#46;conf(5)</i>
Name service switch configuration file&#46;
<p>
/tmp/&#46;winbindd/pipe
The UNIX pipe over which clients communicate with the
winbindd
program&#46; For security reasons, the winbind client will only attempt to connect to the winbindd daemon if both the
<i>/tmp/&#46;winbindd</i>
directory and
<i>/tmp/&#46;winbindd/pipe</i>
file are owned by root&#46;
<p>
$LOCKDIR/winbindd_privileged/pipe
The UNIX pipe over which &#39;privileged&#39; clients communicate with the
winbindd
program&#46; For security reasons, access to some winbindd functions - like those needed by the
ntlm_auth
utility - is restricted&#46; By default, only users in the &#39;root&#39; group will get this access, however the administrator may change the group permissions on $LOCKDIR/winbindd_privileged to allow programs like &#39;squid&#39; to use ntlm_auth&#46; Note that the winbind client will only attempt to connect to the winbindd daemon if both the
<i>$LOCKDIR/winbindd_privileged</i>
directory and
<i>$LOCKDIR/winbindd_privileged/pipe</i>
file are owned by root&#46;
<p>
/lib/libnss_winbind&#46;so&#46;X
Implementation of name service switch library&#46;
<p>
$LOCKDIR/winbindd_idmap&#46;tdb
Storage for the Windows NT rid to UNIX user/group id mapping&#46; The lock directory is specified when Samba is initially compiled using the
<i>--with-lockdir</i>
option&#46; This directory is by default
<i>/usr/local/samba/var/locks </i>&#46;
<p>
$LOCKDIR/winbindd_cache&#46;tdb
Storage for cached user and group information&#46;
<h1 class="manpages">VERSION</h1>
<p>
This man page is correct for version 3 of the Samba suite&#46;
<h1 class="manpages">SEE ALSO</h1>
<ul>
</ul>
<i>nsswitch&#46;conf(5)</i>,
<b>samba</b>(7),
<b>wbinfo</b>(1),
<b>ntlm_auth</b>(8),
<b>smb.conf</b>(5),
<b>pam_winbind</b>(8)
<h1 class="manpages">AUTHOR</h1>
<p>
The original Samba software and related utilities were created by Andrew Tridgell&#46; Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed&#46;
<p>
wbinfo
and
winbindd
were written by Tim Potter&#46;
<p>
The conversion to DocBook for Samba 2&#46;2 was done by Gerald Carter&#46; The conversion to DocBook XML 4&#46;2 for Samba 3&#46;0 was done by Alexander Bokovoy&#46;
<br />
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion639d.html?tutorial=unix_commands&amp;file=winbindd.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/unix_commands/winbindd.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
