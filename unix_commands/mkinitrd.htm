<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from www.tutorialspoint.com/unix_commands/mkinitrd.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>mkinitrd - Unix, Linux Command</title>
<meta name="Description" Content="mkinitrd - Unix, Linux Command Manual Pages (Manpages) ,  Learning fundamentals of UNIX and Linux in simple and easy steps : A beginner's tutorial containing complete knowledge of Unix Korn  and Bourne Shell and Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta name="Keywords" content="Unix, Tutorials, Learning, Operating, System, OS, Beginners, Basics, System Calls, Korn, Bourne, Shell,Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>Unix for Beginners</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/index.html">Unix - Home</a></li>
<li><a class="left" target="_top" href="../unix/unix-getting-started.html">Unix - Getting Started</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-management.html">Unix - File Management</a></li>
<li><a class="left" target="_top" href="../unix/unix-directories.html">Unix - Directories</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-permission.html">Unix - File Permission</a></li>
<li><a class="left" target="_top" href="../unix/unix-environment.html">Unix - Environment</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-utilities.html">Unix - Basic Utilities</a></li>
<li><a class="left" target="_top" href="../unix/unix-pipes-filters.html">Unix - Pipes &amp; Filters</a></li>
<li><a class="left" target="_top" href="../unix/unix-processes.html">Unix - Processes</a></li>
<li><a class="left" target="_top" href="../unix/unix-communication.html">Unix - Communication</a></li>
<li><a class="left" target="_top" href="../unix/unix-vi-editor.html">Unix - The vi Editor</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Shell Programming</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-shell.html">Unix - What is Shell?</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-variables.html">Unix - Using Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-special-variables.html">Unix - Special Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-arrays.html">Unix - Using Arrays</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-operators.html">Unix - Basic Operators</a></li>
<li><a class="left" target="_top" href="../unix/unix-decision-making.html">Unix - Decision Making</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-loops.html">Unix - Shell Loops</a></li>
<li><a class="left" target="_top" href="../unix/unix-loop-control.html">Unix - Loop Control</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-substitutions.html">Unix - Shell Substitutions</a></li>
<li><a class="left" target="_top" href="../unix/unix-quoting-mechanisms.html">Unix - Quoting Mechanisms</a></li>
<li><a class="left" target="_top" href="../unix/unix-io-redirections.html">Unix - IO Redirections</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-functions.html">Unix - Shell Functions</a></li>
<li><a class="left" target="_top" href="../unix/unix-manpage-help.html">Unix - Manpage Help</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Advanced Unix</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-regular-expressions.html">Unix - Regular Expressions</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-system.html">Unix - File System Basics</a></li>
<li><a class="left" target="_top" href="../unix/unix-user-administration.html">Unix - User Administration</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-performance.html">Unix - System Performance</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-logging.html">Unix - System Logging</a></li>
<li><a class="left" target="_top" href="../unix/unix-signals-traps.html">Unix - Signals and Traps</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful References</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-commands.html">Unix - Useful Commands</a></li>
<li><a class="left" target="_top" href="../unix/unix-quick-guide.html">Unix - Quick Guide</a></li>
<li><a class="left" target="_top" href="../unix/unix-builtin-functions.html">Unix - Builtin Functions</a></li>
<li><a class="left" target="_top" href="../unix_system_calls/index.html">Unix - System Calls</a></li>
<li><a class="left" target="_top" href="index.html"><b>Unix - Commands List</b></a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-resources.html">Unix Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>mkinitrd - Unix, Linux Command</h1>
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>  
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<h1 class="manpages">NAME</h1>
mkinitrd - creates initial ramdisk images for preloading modules
<h1 class="manpages">SYNOPSIS</h1>
<b>mkinitrd</b> [--version] [-v] [-f]
<br />
         [--preload=<i>module</i>] [--omit-scsi-modules]
<br />
         [--omit-raid-modules] [--omit-lvm-modules]
<br />
         [--with=<i>module</i>] [--image-version]
<br />
         [--fstab=<i>fstab</i>] [--nocompress]
<br />
         [--builtin=<i>module</i>] [--nopivot]
<br />
         [--with-fips]
<br />
         <i>image</i> <i>kernel-version</i>
<p>
<h1 class="manpages">DESCRIPTION</h1>
<b>mkinitrd</b> creates an initial image used by the kernel for
preloading the block device modules (such as IDE, SCSI or RAID)
which are needed to access the root filesystem. <b>mkinitrd</b>
automatically loads filesystem modules (such as ext3 and jbd), IDE modules, all
<i>scsi_hostadapter</i> entries in <i>/etc/modprobe.conf</i>, and raid
modules if the system&#146;s root partition is on raid, which makes it simple
to build and use kernels using modular device drivers.
<p>
Any module options specified in <i>/etc/modprobe.conf</i> are passed
to the modules as they are loaded by the initial ramdisk.
<p>
The root filesystem used by the kernel is specified in the boot configuration
file, as always. The traditional <b>root=/dev/hda1</b> style device
specification is allowed. If a label is used, as in <b>root=LABEL=rootPart</b>
the initrd will search all available devices for an ext2 or ext3 filesystem
with the appropriate label, and mount that device as the root filesystem.
<p>
<h1 class="manpages">FIPS</h1>
<b>mkinitrd</b> will add a number of checks to the created initrd if the system
is running in fips mode. First the kernel gets integrity checked by running
"sha512hmac -c /boot/.vmlinuz-<i>kernel-version</i>.hmac" from the initrd. Then
all the crypto algorithm modules get loaded using the embedded signature to
integrity check them, and last the tcrypt module gets loaded which runs self
tests on all approved crypto algorithms. You can force mkinitrd to add these
checks to a created initrd with the <b>--with-fips</b> commandline option.
<p>
There are a number of limitations to <b>mkinitrd</b>&#146;s fips support:
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td>
<b>/boot</b>
</td><td valign="bottom">
Must be on a separate partition
</td></tr>
<tr valign="top"><td>
<b>/boot</b>
</td><td valign="bottom">
Must <b>not</b> be on <i>nfs</i>, <i>dmraid</i> or <i>mdraid</i>
<p>
</td></tr>
</table>
<h1 class="manpages">OPTIONS</h1>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td colspan="2">
<b>--builtin=</b><i>module</i>
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Act as if <i>module</i> is built into the kernel being used. <b>mkinitrd</b>
will not look for this module, and will not emit an error if it does not
exist. This option may be used multiple times.
<p>
</td></tr>
<tr valign="top"><td>
<b>-f</b>
</td><td valign="bottom">
Allows <b>mkinitrd</b> to overwrite an existing image file.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>--fstab=</b><i>fstab</i>
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Use <i>fstab</i> to automatically determine what type of filesystem the
root device is on. Normally, <b>/etc/fstab</b> is used.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>--image-version
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
The kernel version number is appended to the initrd image path before the image
is created.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
</b><b>--nocompress
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Normally the created initrd image is compressed with </b><b>gzip</b>. If this
option is specified, the compression is skipped.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>--nopivot
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Do not use the </b><b>pivot_root</b> system call as part of the initrd. This
lets <b>mkinitrd</b> build proper images for Linux 2.2 kernels at the expense
of some features. In particular, some filesystems (such as ext3) will not
work properly and filesystem options will not be used to mount root. This
option is not recommended, and will be removed in future versions.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>--omit-lvm-modules
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Do not load any lvm modules, even if /etc/fstab expects them.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
</b><b>--omit-raid-modules
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Do not load any raid modules, even if /etc/fstab and /etc/raidtab expect them.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
</b><b>--omit-scsi-modules
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Do not load any scsi modules, including &#146;scsi_mod&#146; and &#146;sd_mod&#146;
modules, even if they are present.  If the root partition is on a
scsi device, mkinitrd will still include the necessary scsi modules to support
that device.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
</b><b>--preload=</b><i>module</i>
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Load the module <i>module</i> in the initial ramdisk image. The module gets
loaded before any SCSI modules which are specified in <i>/etc/modprobe.conf</i>.
This option may be used as many times as necessary.
<p>
</td></tr>
<tr valign="top"><td>
<b>-v</b>
</td><td valign="bottom">
Prints out verbose information while creating the image (normally
the <b>mkinitrd</b> runs silently).
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>--version</b>
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Prints the version of <b>mkinitrd</b> that&#146;s being used and then exits.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>--with=</b><i>module</i>
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Load the modules <i>module</i> in the initial ramdisk image. The module
gets loaded after any SCSI modules which are specified in
<i>/etc/modprobe.conf</i>. This option may be used as many times as
necessary.
<p>
</td></tr>
<tr valign="top"><td colspan="2">
<b>---with-fips</b>
</td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Force adding kernel integrity checking to the created initrd.
<p>
</td></tr>
</table>
<h1 class="manpages">FILES</h1>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td>
<i>/dev/loop*</i>
</td><td valign="bottom">
A block loopback device is used to create the image, which makes this
script useless on systems without block loopback support available
<i>(only used on kernels &lt; 2.6)</i>
<p>
</td></tr>
<tr valign="top"><td>
<i>/etc/modprobe.conf</i>
</td><td valign="bottom">
Specifies SCSI modules to be loaded and module options to be used.
<p>
</td></tr>
<tr valign="top"><td>
<i>/etc/modules.conf</i>
</td><td valign="bottom">
Specifies SCSI modules to be loaded and module options to be used.
<i>(only used on kernels &lt; 2.6)</i>
<p>
</td></tr>
</table>
<h1 class="manpages">SEE ALSO</h1>
<ul>
<li><p><a href="insmod.htm">insmod (1)</a></p></li>
</ul>
<br />
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversiond739.html?tutorial=unix_commands&amp;file=mkinitrd.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/unix_commands/mkinitrd.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
