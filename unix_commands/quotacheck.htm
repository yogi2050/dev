<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from www.tutorialspoint.com/unix_commands/quotacheck.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>quotacheck - Unix, Linux Command</title>
<meta name="Description" Content="quotacheck - Unix, Linux Command Manual Pages (Manpages) ,  Learning fundamentals of UNIX and Linux in simple and easy steps : A beginner's tutorial containing complete knowledge of Unix Korn  and Bourne Shell and Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta name="Keywords" content="Unix, Tutorials, Learning, Operating, System, OS, Beginners, Basics, System Calls, Korn, Bourne, Shell,Programming, Utilities, File System, Directories, Memory Management, Special Variables, vi editor, Processes" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<base  />
<link rel="stylesheet" type="text/css" href="../tp.css" />
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body>
<center>
<a name="top"></a>
<table border="0" class="main" cellpadding="2" cellspacing="0">
<tr>
<td class="content" valign="top" align="left">
<a href="../index-2.html"><img src="../images/tp-logo.gif" border="0"  alt="Tutorials Point" /></a>
<br />
<br />
<div  class="search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="google_window">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="center" height="32">
<a href="http://www.google.com/">
<img src="../../www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
</tr>
<tr>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="www.tutorialspoint.com"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" style="width:20px;font-weight:bold" value="..."></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="www.tutorialspoint.com"></input>
<font size="-1" color="#000000">This Site</font>
</td>
</tr>
</table>
<input type="hidden" name="client" value="pub-7133395778201029"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div>
<br />
&nbsp;&nbsp;<b>Unix for Beginners</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/index.html">Unix - Home</a></li>
<li><a class="left" target="_top" href="../unix/unix-getting-started.html">Unix - Getting Started</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-management.html">Unix - File Management</a></li>
<li><a class="left" target="_top" href="../unix/unix-directories.html">Unix - Directories</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-permission.html">Unix - File Permission</a></li>
<li><a class="left" target="_top" href="../unix/unix-environment.html">Unix - Environment</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-utilities.html">Unix - Basic Utilities</a></li>
<li><a class="left" target="_top" href="../unix/unix-pipes-filters.html">Unix - Pipes &amp; Filters</a></li>
<li><a class="left" target="_top" href="../unix/unix-processes.html">Unix - Processes</a></li>
<li><a class="left" target="_top" href="../unix/unix-communication.html">Unix - Communication</a></li>
<li><a class="left" target="_top" href="../unix/unix-vi-editor.html">Unix - The vi Editor</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Shell Programming</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-shell.html">Unix - What is Shell?</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-variables.html">Unix - Using Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-special-variables.html">Unix - Special Variables</a></li>
<li><a class="left" target="_top" href="../unix/unix-using-arrays.html">Unix - Using Arrays</a></li>
<li><a class="left" target="_top" href="../unix/unix-basic-operators.html">Unix - Basic Operators</a></li>
<li><a class="left" target="_top" href="../unix/unix-decision-making.html">Unix - Decision Making</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-loops.html">Unix - Shell Loops</a></li>
<li><a class="left" target="_top" href="../unix/unix-loop-control.html">Unix - Loop Control</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-substitutions.html">Unix - Shell Substitutions</a></li>
<li><a class="left" target="_top" href="../unix/unix-quoting-mechanisms.html">Unix - Quoting Mechanisms</a></li>
<li><a class="left" target="_top" href="../unix/unix-io-redirections.html">Unix - IO Redirections</a></li>
<li><a class="left" target="_top" href="../unix/unix-shell-functions.html">Unix - Shell Functions</a></li>
<li><a class="left" target="_top" href="../unix/unix-manpage-help.html">Unix - Manpage Help</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Advanced Unix</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-regular-expressions.html">Unix - Regular Expressions</a></li>
<li><a class="left" target="_top" href="../unix/unix-file-system.html">Unix - File System Basics</a></li>
<li><a class="left" target="_top" href="../unix/unix-user-administration.html">Unix - User Administration</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-performance.html">Unix - System Performance</a></li>
<li><a class="left" target="_top" href="../unix/unix-system-logging.html">Unix - System Logging</a></li>
<li><a class="left" target="_top" href="../unix/unix-signals-traps.html">Unix - Signals and Traps</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful References</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-commands.html">Unix - Useful Commands</a></li>
<li><a class="left" target="_top" href="../unix/unix-quick-guide.html">Unix - Quick Guide</a></li>
<li><a class="left" target="_top" href="../unix/unix-builtin-functions.html">Unix - Builtin Functions</a></li>
<li><a class="left" target="_top" href="../unix_system_calls/index.html">Unix - System Calls</a></li>
<li><a class="left" target="_top" href="index.html"><b>Unix - Commands List</b></a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Unix Useful Resources</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../unix/unix-useful-resources.html">Unix Useful Resources</a></li>
</ul>
</div>
<br />
&nbsp;&nbsp;<b>Selected Reading</b>
<div  class="left">
<ul class="menu">
<li><a class="left" target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a class="left" target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div>
<br /><br />
<small>&copy; 2013 TutorialsPoint.COM </small>
</td>
<td valign="top">
<br /><br />
<table cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../index-2.html">Home</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../references.html">References</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../forums/index.html">Discussion Forums</a>&nbsp;&nbsp;
</td>
<td  style="width:20px;"></td>
<td  class="top">
&nbsp;&nbsp;<a class="top" href="../about/index.html">About TP</a>&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="middle" cellpadding="5" cellspacing="0">
<tr>
<td>
<!-- PRINTING STARTS HERE -->
<h1>quotacheck - Unix, Linux Command</h1>
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<!-- AddThis Bookmark Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" rel="nofollow" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="../images/add-this.gif" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>
<script type="text/javascript">var addthis_pub = 'tutorialspoint';</script><script type="text/javascript" src="http://s9.addthis.com/js/widget.php?v=10"></script>  
<!-- AddThis Bookmark Button END -->
<br />
<br />
<hr/><div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
<hr />
<h1 class="manpages">NAME</h1>
quotacheck - scan a filesystem for disk usage, create, check and repair quota files
<h1 class="manpages">SYNOPSIS</h1>
<b>quotacheck</b> [
<b>-gubcfinvdMmR</b> ] [
<b>-F</b> <i>quota-format</i> ]
<b>-a</b> |
<i>filesystem</i> <h1 class="manpages">DESCRIPTION</h1>
<b>quotacheck</b> examines each filesystem, builds a table of current disk usage, and
compares this table against that recorded in the disk quota file for the
filesystem (this step is ommitted if option
<b>-c</b> is specified). If any inconsistencies are detected, both the quota file
and the current system copy of the incorrect quotas are updated (the
latter only occurs if an active filesystem is checked which is not advised).
By default, only user quotas are checked.
<b>quotacheck</b> expects each filesystem to be checked to have quota files named
<i>[a]quota.user</i> and
<i>[a]quota.group</i> located at the root of the associated filesystem.  If a file is not
present,
<b>quotacheck</b> will create it.
<p>
If the quota file is corrupted,
<b>quotacheck</b> tries to save as much data as possible.  Rescuing data may need user
intervention. With no additional options
<b>quotacheck</b> will simply exit in such a situation. When in interactive mode (option
<b>-i</b>) , the user is asked for advice. Advice can also be provided from command
line (see option
<b>-n</b>) , which is useful when
<b>quotacheck</b> is run automatically (ie. from script) and failure is unacceptable.
<p>
<b>quotacheck</b> should be run each time the system boots and mounts non-valid filesystems.
This is most likely to happen after a system crash.
<p>
It is strongly recommended to run
<b>quotacheck</b> with quotas turned off for the filesystem. Otherwise, possible damage
or loss to data in the quota files can result.  It is also unwise to
run
<b>quotacheck</b> on a live filesystem as actual usage may change during the scan.  To
prevent this,
<b>quotacheck</b> tries to remount the filesystem read-only before starting the scan. 
After the scan is done it remounts the filesystem read-write. You can
disable this with option
<b>-m</b>. You can also make
<b>quotacheck</b> ignore the failure to remount the filesystem read-only with option
<b>-M</b>. <h1 class="manpages">OPTIONS</h1>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td>
<b>-b</b> </td><td valign="bottom">
Forces
<b>quotacheck</b> to make backups of the quota file before writing the new data.
</td></tr>
<tr valign="top"><td>
<b>-v</b> </td><td valign="bottom">
<b>quotacheck</b> reports its operation as it progresses.  Normally it operates silently.
If the option is specified twice, also the current directory is printed (note
that printing can slow down the scan measurably).
</td></tr>
<tr valign="top"><td>
<b>-d</b> </td><td valign="bottom">
Enable debugging mode.  It will result in a lot of information which can
be used in debugging the program. The output is very verbose and the
scan will be slow.
</td></tr>
<tr valign="top"><td>
<b>-u</b> </td><td valign="bottom">
Only user quotas listed in
<i>/etc/mtab</i> or on the filesystems specified are to be checked.  This is the default action.
</td></tr>
<tr valign="top"><td>
<b>-g</b> </td><td valign="bottom">
Only group quotas listed in
<i>/etc/mtab</i> or on the filesystems specified are to be checked.
</td></tr>
<tr valign="top"><td>
<b>-c</b> </td><td valign="bottom">
Don&#146;t read existing quota files. Just perform a new scan and save it to disk.
<b>quotacheck</b> also skips scanning of old quota files when they are not found.
</td></tr>
<tr valign="top"><td>
<b>-f</b> </td><td valign="bottom">
Forces checking and writing of new quota files on filesystems with quotas
enabled. This is not recommended as the created quota files may be out of sync.
</td></tr>
<tr valign="top"><td>
<b>-M</b> </td><td valign="bottom">
This flag forces checking of filesystem in read-write mode if a remount
fails. Do this only when you are sure no process will write to a
filesystem while scanning.
</td></tr>
<tr valign="top"><td>
<b>-m</b> </td><td valign="bottom">
Don&#146;t try to remount filesystem read-only. See comment with option
<b>-M</b>. </td></tr>
<tr valign="top"><td>
<b>-i</b> </td><td valign="bottom">
Interactive mode. By default
<b>quotacheck</b> exits when it finds an error. In interactive mode user is asked for
input instead.  See option
<b>-n</b>. </td></tr>
<tr valign="top"><td>
<b>-n</b> </td><td valign="bottom">
If the quota files become corrupted, it is possible for duplicate
entries for a single user or group ID to exist.  Normally in this case,
<b>quotacheck</b> exits or asks user for input. When this option is set, the first entry found
is always used (this option works in interactive mode too).
</td></tr>
<tr valign="top"><td colspan="2">
<b>-F </b><i>format-name</i> </td></tr><tr valign="top"><td width=6%>&nbsp;</td><td>
Check and fix quota files of specified format (ie. don&#146;t perform format
auto-detection). This is recommended as detection might not work well on
corrupted quota files.  Possible format names are:
<b>vfsold</b> (version 1 quota),
<b>vfsv0</b> (version 2 quota),
<b>rpc</b> (quota over NFS),
<b>xfs</b> (quota on XFS filesystem)
</td></tr>
<tr valign="top"><td>
<b>-a</b> </td><td valign="bottom">
Check all mounted non-NFS filesystems in
<b>/etc/mtab</b> </td></tr>
<tr valign="top"><td>
<b>-R</b> </td><td valign="bottom">
When used together with the
<b>-a</b> option, all filesystems except for the root filesystem are checked for
quotas.
<p>
</td></tr>
</table>
<h1 class="manpages">NOTE</h1>
<b>quotacheck</b> should only be run by super-user. Non-privileged users are presumably
not allowed to read all the directories on the given filesystem.
<p>
<h1 class="manpages">SEE ALSO</h1>
<ul>
<li><p><a href="quota.htm">quota (1)</a></p></li>
<li><p><a href="../unix_system_calls/quotactl.htm">quotactl (2)</a></p></li>
<li><p><a href="quotaon.htm">quotaon (8)</a></p></li>
<li><p><a href="repquota.htm">repquota (8)</a></p></li>
<li><p><a href="convertquota.htm">convertquota (8)</a></p></li>
<li><p><a href="setquota.htm">setquota (8)</a></p></li>
<li><p><a href="edquota.htm">edquota (8)</a></p></li>
<li><p><a href="fsck.htm">fsck (8)</a></p></li>
<li><p><a href="efsck.html">efsck (8)</a></p></li>
<li><p><a href="e2fsck.html">e2fsck (8)</a></p></li>
<li><p><a href="xfsck.html">xfsck (8)</a></p></li>
</ul>
<h1 class="manpages">FILES</h1>
<table class="src" cellpadding="5" cellspacing="0" border="1">
<tr><th width="25%">Tag</th><th>Description</th></tr>
<tr valign="top"><td colspan="2">
<b>aquota.user or aquota.group</b> </td></tr><tr valign="top"><td width=15%>&nbsp;</td><td>
located at filesystem root with quotas (version 2 quota, non-XFS
filesystems)
</td></tr>
<tr valign="top"><td colspan="2">
<b>quota.user or quota.group</b> </td></tr><tr valign="top"><td width=15%>&nbsp;</td><td>
located at filesystem root with quotas (version 1 quota, non-XFS
filesystems)
</td></tr>
<tr valign="top"><td>
<b>/etc/mtab</b> </td><td valign="bottom">
names and locations of mounted filesystems
</td></tr>
</table>
<h1 class="manpages">AUTHOR</h1>
Jan Kara lt;<a href="mailto:jack@suse.cz">jack@suse.cz</a>gt;
<!-- Need break --><br />
Based on old
<b>quotacheck</b> by:
<!-- Need break --><br />
Edvard Tuinder lt;<a href="mailto:ed@elm.net">ed@elm.net</a>gt;
<!-- Need break --><br />
Marco van Wieringen lt;<a href="mailto:mvw@planets.elm.net">mvw@planets.elm.net</a>gt;
<br />
<hr />
<a href="index.html"><img alt="previous" border="0" src="../images/previous.gif" /></a>
<a href="index.html"><img alt="next" border="0" src="../images/next.gif" /></a>
<a href='../cgi-bin/printversion83ae.html?tutorial=unix_commands&amp;file=quotacheck.htm' target="_blank">
<img src="../images/print.gif" alt="Printer Friendly" border="0" /></a>
<br />
<hr />
<!-- PRINTING ENDS HERE -->
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</td></tr>
</table>
</td>
<td class="right" align="center" valign="top">
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0">
<tr valign="middle">
<td  class="top" style="border:0px;">
&nbsp;&nbsp;
</td>
</tr>
</table>
<table class="right"  cellpadding="0" cellspacing="0">
<tr>
<td align="center" class="right">
<p>
<u>Advertisements</u>
</p>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br /></td></tr></table>
</td></tr></table>
</center>
</body>

<!-- Mirrored from www.tutorialspoint.com/unix_commands/quotacheck.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:05:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
