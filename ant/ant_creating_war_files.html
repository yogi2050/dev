<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/ant/ant_creating_war_files.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:37:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Ant - Creating WAR files</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Free, Apache, Ant, Tutorials, Reference, Manual, Guide, Beginners, JAR, WAR, Data Types, Quick, Guide" />
<meta name="keywords" content="Ant Creating WAR files - Learn Apache ANT in simple steps starting with project build, creating JAR and WAR files, Data types, create documentation, quick guide." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#a34a66 !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#a34a66  !important;
}
#topmenu
{
background-color:#1c1b1c !important;
}
#leftcol ul.menu li.heading 
{
background:#a34a66 !important;
border:1px solid #1c1b1c  !important;
}
#leftcol, #middlecol, #rightcol {min-height:900px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/ant-mini-logo.png" alt="ANT Tutorial" />
</div>
<ul class="menu">
<li class="heading">ANT Tutorial</li>
<li><a target="_top" href="index.html">Home</a></li>
<li><a target="_top" href="ant_introduction.html">Introduction</a></li>
<li><a target="_top" href="ant_environment.html">Environment Setup</a></li>
<li><a target="_top" href="ant_build_files.html">Build Files</a></li>
<li><a target="_top" href="ant_property_task.html">Property Task</a></li>
<li><a target="_top" href="ant_property_files.html">Property Files</a></li>
<li><a target="_top" href="ant_data_types.html">Data Types</a></li>
<li><a target="_top" href="ant_build_project.html">Building Projects</a></li>
<li><a target="_top" href="ant_build_documentation.html">Build Documentation</a></li>
<li><a target="_top" href="ant_creating_jar_files.html">Creating JAR files</a></li>
<li><a target="_top" href="ant_creating_war_files.html"><b>Creating WAR files</b></a></li>
<li><a target="_top" href="ant_packaging_applications.html">Packaging Applications</a></li>
<li><a target="_top" href="ant_deploying_applications.html">Deploying Applications</a></li>
<li><a target="_top" href="ant_executing_java_code.html">Executing Java code</a></li>
<li><a target="_top" href="ant_eclipse_integration.html">Eclipse Integration</a></li>
<li><a target="_top" href="ant_junit_integration.html">Junit Integration</a></li>
<li><a target="_top" href="ant_extending_ant.html">Extending Ant</a></li>
</ul>
<ul class="menu">
<li class="heading">ANT Useful Resources</li>
<li><a target="_top" href="ant_quick_guide.html">Ant Quick Guide</a></li>
<li><a target="_top" href="ant_useful_resources.html">Ant Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Ant - Creating WAR files</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="ant_creating_jar_files.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="ant_packaging_applications.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>Creating WAR files with Ant is extremely simple, and very similar to the creating JAR files task. After all WAR file, like  JAR file is just another ZIP file, isn't it?</p>
<p>The WAR task is an extension to the JAR task, but it has some nice additions to manipulate what goes into the WEB-INF/classes folder, and generating the web.xml file. The WAR task is useful to specify a particular layout of the WAR file.</p>
<p>Since the WAR task is an extension of the JAR task, all attributes of the JAR task apply to the WAR task. Below are the extension attributes that are specify to the WAR task:</p>
<table class="src">
<tr><th style="width:20%">Attributes</th><th>Description</th></tr>
<tr><td>webxml</td><td>Path to the web.xml file</td></tr>
<tr><td>lib</td><td> A grouping to specify what goes into the WEB-INF\lib folder.</td></tr>
<tr><td>classes</td><td> A grouping to specify what goes into the WEB-INF\classes folder.</td></tr>
<tr><td>metainf</td><td>Specifies the instructions for generating the MANIFEST.MF file.</td></tr>
</table>
<p>Continuing our <b>Hello World</b> Fax Application project, let us add a new target to produce the jar files. But before that let us consider the war task. Consider the following example:</p>
<pre class="prettyprint">
&lt;war destfile="fax.war" webxml="${web.dir}/web.xml"&gt;
   &lt;fileset dir="${web.dir}/WebContent"&gt;
      &lt;include name="**/*.*"/&gt;
   &lt;/fileset&gt;
   &lt;lib dir="thirdpartyjars"&gt;
      &lt;exclude name="portlet.jar"/&gt;
   &lt;/lib&gt;
   &lt;classes dir="${build.dir}/web"/&gt;
&lt;/war&gt;
</pre>
<p>As per the previous examples, the <b>web.dir</b> variable refers to the source web folder, i.e, the folder that contains the JSP, css,javascript files etc.</p>
<p>The <b>build.dir</b> variable refers to the output folder - This is where the classes for the WAR package can be found. Typically, the classes will be bundled into the WEB-INF/classes folder of the WAR file.</p>
<p>In this example, we are creating a war file called fax.war. The WEB.XML file is obtained from the web source folder. All files from the 'WebContent' folder under web are copied into the WAR file.</p>
<p>The WEB-INF/lib folder is populated with the jar files from the thirdpartyjars folder. However, we are excluding  the portlet.jar as this is already present in the application server's lib folder. Finally, we are copying all classes from the build directory's web folder and putting into the WEB-INF/classes folder.</p>
<p>Wrap the war task inside an Ant target (usually package) and run it. This will create the WAR file in the specified location.</p>
<p>It is entirely possible to nest the classes, lib, metainf and webinf directors so that they live in scattered folders anywhere in the project structure. But best practices suggest that your Web project should have the Web Content structure that is similar to the structure of the WAR file. The Fax Application project has its structure outlined using this basic principle.</p>
<p>To execute the war task, wrap it inside a target (most commonly, the build or package target, and run them.</p>
<pre class="prettyprint">
&lt;target name="build-war"&gt;
   &lt;war destfile="fax.war" webxml="${web.dir}/web.xml"&gt;
   &lt;fileset dir="${web.dir}/WebContent"&gt;
      &lt;include name="**/*.*"/&gt;
   &lt;/fileset&gt;
   &lt;lib dir="thirdpartyjars"&gt;
      &lt;exclude name="portlet.jar"/&gt;
   &lt;/lib&gt;
   &lt;classes dir="${build.dir}/web"/&gt;
&lt;/war&gt;
&lt;/target&gt;
</pre>
<p>Running ant on this file will create the <b>fax.war</b> file for us..</p>
<p>The following outcome is the result of running the ant file: </p>
<pre class="prettyprint">
C:\&gt;ant build-war
Buildfile: C:\build.xml

BUILD SUCCESSFUL
Total time: 12.3 seconds
</pre>
<p>The fax.war file is now placed in the output folder. The contents of the war file will be:</p>
<pre class="prettyprint">
fax.war:
  +---jsp             <i>This folder contains the jsp files</i>
  +---css             <i>This folder contains the stylesheet files</i>
  +---js              <i>This folder contains the javascript files</i>
  +---images          <i>This folder contains the image files</i>
  +---META-INF        <i>This folder contains the Manifest.Mf</i>
  +---WEB-INF
        +---classes   <i>This folder contains the compiled classes</i>
        +---lib       <i>Third party libraries and the utility jar files</i>
        WEB.xml       <i>Configuration file that defines the WAR package</i>
</pre>
<hr />
<div class="pre-btn">
<a href="ant_creating_jar_files.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/ant_creating_war_files.pdf" alt="Ant - Creating WAR files" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="ant_packaging_applications.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2012 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/ant/ant_creating_war_files.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:37:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>