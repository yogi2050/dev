<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/ant/ant_deploying_applications.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:37:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Ant - Deploying Applications</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Free, Apache, Ant, Tutorials, Reference, Manual, Guide, Beginners, JAR, WAR, Data Types, Quick, Guide" />
<meta name="keywords" content="Ant Deploying Applications - Learn Apache ANT in simple steps starting with project build, creating JAR and WAR files, Data types, create documentation, quick guide." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#a34a66 !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#a34a66  !important;
}
#topmenu
{
background-color:#1c1b1c !important;
}
#leftcol ul.menu li.heading 
{
background:#a34a66 !important;
border:1px solid #1c1b1c  !important;
}
#leftcol, #middlecol, #rightcol {min-height:900px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/ant-mini-logo.png" alt="ANT Tutorial" />
</div>
<ul class="menu">
<li class="heading">ANT Tutorial</li>
<li><a target="_top" href="index.html">Home</a></li>
<li><a target="_top" href="ant_introduction.html">Introduction</a></li>
<li><a target="_top" href="ant_environment.html">Environment Setup</a></li>
<li><a target="_top" href="ant_build_files.html">Build Files</a></li>
<li><a target="_top" href="ant_property_task.html">Property Task</a></li>
<li><a target="_top" href="ant_property_files.html">Property Files</a></li>
<li><a target="_top" href="ant_data_types.html">Data Types</a></li>
<li><a target="_top" href="ant_build_project.html">Building Projects</a></li>
<li><a target="_top" href="ant_build_documentation.html">Build Documentation</a></li>
<li><a target="_top" href="ant_creating_jar_files.html">Creating JAR files</a></li>
<li><a target="_top" href="ant_creating_war_files.html">Creating WAR files</a></li>
<li><a target="_top" href="ant_packaging_applications.html">Packaging Applications</a></li>
<li><a target="_top" href="ant_deploying_applications.html"><b>Deploying Applications</b></a></li>
<li><a target="_top" href="ant_executing_java_code.html">Executing Java code</a></li>
<li><a target="_top" href="ant_eclipse_integration.html">Eclipse Integration</a></li>
<li><a target="_top" href="ant_junit_integration.html">Junit Integration</a></li>
<li><a target="_top" href="ant_extending_ant.html">Extending Ant</a></li>
</ul>
<ul class="menu">
<li class="heading">ANT Useful Resources</li>
<li><a target="_top" href="ant_quick_guide.html">Ant Quick Guide</a></li>
<li><a target="_top" href="ant_useful_resources.html">Ant Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Ant - Deploying Applications</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="ant_packaging_applications.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="ant_executing_java_code.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>In the previous chapter, we have learnt how to package an application and deploy it to a folder. In this example, we are going to take it even further.</p>
<p>We are going to deploy the web application directly to the application's server deploy folder, then we are going to add few Ant targets to start and stop the services. Let us contnue with the <b>Hello World</b> fax web application. This is a continuation of the previous chapter, the new components are highlighted in <font style="color:red;">red</font></p>
<h2>build.properties</h2>
<pre style="color:red;" class="prettyprint">
# Ant properties for building the springapp

appserver.home=c:\\install\\apache-tomcat-7.0.19
# for Tomcat 5 use $appserver.home}/server/lib
# for Tomcat 6 use $appserver.home}/lib
appserver.lib=${appserver.home}/lib

deploy.path=${appserver.home}/webapps

tomcat.manager.url=http://www.tutorialspoint.com:8080/manager
tomcat.manager.username=tutorialspoint
tomcat.manager.password=secret
</pre>
<h2>build.xml</h2>
<pre class="prettyprint">
&lt;?xml version="1.0"?&gt;

&lt;project name="fax" basedir="." default="usage"&gt;
    &lt;property file="build.properties"/&gt;
    &lt;property name="src.dir" value="src"/&gt;
    &lt;property name="web.dir" value="war"/&gt;
    &lt;property name="javadoc.dir" value="doc"/&gt;
    &lt;property name="build.dir" value="${web.dir}/WEB-INF/classes"/&gt;
    &lt;property name="name" value="fax"/&gt;

    &lt;path id="master-classpath"&gt;
        &lt;fileset dir="${web.dir}/WEB-INF/lib"&gt;
            &lt;include name="*.jar"/&gt;
        &lt;/fileset&gt;
        &lt;pathelement path="${build.dir}"/&gt;
    &lt;/path&gt;
    
    &lt;target name="javadoc"&gt;
      &lt;javadoc packagenames="faxapp.*" sourcepath="${src.dir}" 
      destdir="doc" version="true" windowtitle="Fax Application"&gt;
        &lt;doctitle&gt;&lt;![CDATA[&lt;h1&gt;= Fax Application 
          =&lt;/h1&gt;]]&gt;&lt;/doctitle&gt;
        &lt;bottom&gt;&lt;![CDATA[Copyright &#169; 2011. All 
          Rights Reserved.]]&gt;&lt;/bottom&gt;
        &lt;group title="util packages" packages="faxapp.util.*"/&gt;
        &lt;group title="web packages" packages="faxapp.web.*"/&gt;
        &lt;group title="data packages" 
          packages="faxapp.entity.*:faxapp.dao.*"/&gt;
      &lt;/javadoc&gt;
    &lt;/target&gt;

    &lt;target name="usage"&gt;
        &lt;echo message=""/&gt;
        &lt;echo message="${name} build file"/&gt;
        &lt;echo message="-----------------------------------"/&gt;
        &lt;echo message=""/&gt;
        &lt;echo message="Available targets are:"/&gt;
        &lt;echo message=""/&gt;
        &lt;echo message="deploy    --&gt; Deploy application 
          as directory"/&gt;
        &lt;echo message="deploywar --&gt; Deploy application 
          as a WAR file"/&gt;
        &lt;echo message=""/&gt;
    &lt;/target&gt;

    &lt;target name="build" description="Compile main 
      source tree java files"&gt;
        &lt;mkdir dir="${build.dir}"/&gt;
        &lt;javac destdir="${build.dir}" source="1.5" 
          target="1.5" debug="true"
          deprecation="false" optimize="false" failonerror="true"&gt;
            &lt;src path="${src.dir}"/&gt;
            &lt;classpath refid="master-classpath"/&gt;
        &lt;/javac&gt;
    &lt;/target&gt;

    &lt;target name="deploy" depends="build" 
      description="Deploy application"&gt;
        &lt;copy todir="${deploy.path}/${name}" 
          preservelastmodified="true"&gt;
            &lt;fileset dir="${web.dir}"&gt;
                &lt;include name="**/*.*"/&gt;
            &lt;/fileset&gt;
        &lt;/copy&gt;
    &lt;/target&gt;

    &lt;target name="deploywar" depends="build" 
      description="Deploy application as a WAR file"&gt;
        &lt;war destfile="${name}.war"
             webxml="${web.dir}/WEB-INF/web.xml"&gt;
            &lt;fileset dir="${web.dir}"&gt;
                &lt;include name="**/*.*"/&gt;
            &lt;/fileset&gt;
        &lt;/war&gt;
        &lt;copy todir="${deploy.path}" preservelastmodified="true"&gt;
            &lt;fileset dir="."&gt;
                &lt;include name="*.war"/&gt;
            &lt;/fileset&gt;
        &lt;/copy&gt;
    &lt;/target&gt;
    

    &lt;target name="clean" description="Clean output directories"&gt;
        &lt;delete&gt;
            &lt;fileset dir="${build.dir}"&gt;
                &lt;include name="**/*.class"/&gt;
            &lt;/fileset&gt;
        &lt;/delete&gt;
    &lt;/target&gt;

</pre>
<pre style="color:red;" class="prettyprint">
    &lt;!-- ============================================================ --&gt;
    &lt;!-- Tomcat tasks --&gt;
    &lt;!-- ============================================================ --&gt;

    &lt;path id="catalina-ant-classpath"&gt;
        &lt;!-- We need the Catalina jars for Tomcat --&gt;
        &lt;!--  * for other app servers - check the docs --&gt;
        &lt;fileset dir="${appserver.lib}"&gt;
            &lt;include name="catalina-ant.jar"/&gt;
        &lt;/fileset&gt;
    &lt;/path&gt;

    &lt;taskdef name="install" 
        classname="org.apache.catalina.ant.InstallTask"&gt;
        &lt;classpath refid="catalina-ant-classpath"/&gt;
    &lt;/taskdef&gt;
    &lt;taskdef name="reload" 
        classname="org.apache.catalina.ant.ReloadTask"&gt;
        &lt;classpath refid="catalina-ant-classpath"/&gt;
    &lt;/taskdef&gt;
    &lt;taskdef name="list" 
        classname="org.apache.catalina.ant.ListTask"&gt;
        &lt;classpath refid="catalina-ant-classpath"/&gt;
    &lt;/taskdef&gt;
    &lt;taskdef name="start" 
        classname="org.apache.catalina.ant.StartTask"&gt;
        &lt;classpath refid="catalina-ant-classpath"/&gt;
    &lt;/taskdef&gt;
    &lt;taskdef name="stop" 
         classname="org.apache.catalina.ant.StopTask"&gt;
        &lt;classpath refid="catalina-ant-classpath"/&gt;
    &lt;/taskdef&gt;

    &lt;target name="reload" description="Reload application in Tomcat"&gt;
        &lt;reload url="${tomcat.manager.url}"
                 username="${tomcat.manager.username}"
                 password="${tomcat.manager.password}"
                 path="/${name}"/&gt;
    &lt;/target&gt;
&lt;/project&gt;
</pre>
<p>In this exercise, we have used Tomcat as our application server. First, in the build properties file, we have defined some additional properties.</p>
<ul class="list">
<li><p>The <b>appserver.home</b> points to the installation path to the Tomcat application server.</p></li>
<li><p>The <b>appserver.lib</b> points to the library files in the Tomcat installation folder.</p></li>
<li><p>The <b>deploy.path</b> variable now points to the webapp folder in Tomcat.</p></li>
</ul>
<p>Applications in Tomcat can be stopped and startedusing the Tomcat manager application. The URL for the manager application, username and password are also specified in the build.properties file. Next we declare a new CLASSPATH that contains the <b>catalina-ant.jar</b>. This jar file is required to execute Tomcat tasks through Apache Ant.</p>
<p>The catalina-ant.jar provides the following tasks:</p>
<table class="src">
<tr><th style="width:20%">Properties</th><th>Description</th></tr>
<tr><td>InstallTask</td><td>Installs a web application. Class Name: org.apache.catalina.ant.InstallTask</td></tr>
<tr><td>ReloadTask</td><td>Reload a web application. Class Name: org.apache.catalina.ant.ReloadTask</td></tr>
<tr><td>ListTask</td><td>Lists all web applications. Class Name: org.apache.catalina.ant.ListTask</td></tr>
<tr><td>StartTask</td><td>Starts a web application. Class Name: org.apache.catalina.ant.StartTask</td></tr>
<tr><td>StopTask</td><td>Stops a web application. Class Name: org.apache.catalina.ant.StopTask</td></tr>
<tr><td>ReloadTask</td><td> Reloads a web application without stopping. Class Name: org.apache.catalina.ant.ReloadTask</td></tr>
</table>
<p>The reload task requires the following additional parameters. - 1) URL to the manager application 2)Username to restart the web application 3) Password to restart the web application 4)Name of the web application to be restarted</p>
<p>Let us issue the <b>deploy-war</b> command to copy the webapp to the Tomcat webapps folder and then let us reload the Fax Web application. The following outcome is the result of running the ant file: </p>
<pre class="prettyprint">
C:\&gt;ant deploy-war
Buildfile: C:\build.xml

BUILD SUCCESSFUL
Total time: 6.3 seconds

C:\&gt;ant reload
Buildfile: C:\build.xml

BUILD SUCCESSFUL
Total time: 3.1 seconds
</pre>
<p>Once the above task is run, the web application is deployed and the web application is reloaded.</p>
<hr />
<div class="pre-btn">
<a href="ant_packaging_applications.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/ant_deploying_applications.pdf" alt="Ant - Deploying Applications" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="ant_executing_java_code.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2012 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/ant/ant_deploying_applications.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:37:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>