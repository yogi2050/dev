<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/ant/ant_build_project.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:37:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Ant - Building Projects</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Free, Apache, Ant, Tutorials, Reference, Manual, Guide, Beginners, JAR, WAR, Data Types, Quick, Guide" />
<meta name="keywords" content="Ant Building Projects - Learn Apache ANT in simple steps starting with project build, creating JAR and WAR files, Data types, create documentation, quick guide." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#a34a66 !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#a34a66  !important;
}
#topmenu
{
background-color:#1c1b1c !important;
}
#leftcol ul.menu li.heading 
{
background:#a34a66 !important;
border:1px solid #1c1b1c  !important;
}
#leftcol, #middlecol, #rightcol {min-height:900px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/ant-mini-logo.png" alt="ANT Tutorial" />
</div>
<ul class="menu">
<li class="heading">ANT Tutorial</li>
<li><a target="_top" href="index.html">Home</a></li>
<li><a target="_top" href="ant_introduction.html">Introduction</a></li>
<li><a target="_top" href="ant_environment.html">Environment Setup</a></li>
<li><a target="_top" href="ant_build_files.html">Build Files</a></li>
<li><a target="_top" href="ant_property_task.html">Property Task</a></li>
<li><a target="_top" href="ant_property_files.html">Property Files</a></li>
<li><a target="_top" href="ant_data_types.html">Data Types</a></li>
<li><a target="_top" href="ant_build_project.html"><b>Building Projects</b></a></li>
<li><a target="_top" href="ant_build_documentation.html">Build Documentation</a></li>
<li><a target="_top" href="ant_creating_jar_files.html">Creating JAR files</a></li>
<li><a target="_top" href="ant_creating_war_files.html">Creating WAR files</a></li>
<li><a target="_top" href="ant_packaging_applications.html">Packaging Applications</a></li>
<li><a target="_top" href="ant_deploying_applications.html">Deploying Applications</a></li>
<li><a target="_top" href="ant_executing_java_code.html">Executing Java code</a></li>
<li><a target="_top" href="ant_eclipse_integration.html">Eclipse Integration</a></li>
<li><a target="_top" href="ant_junit_integration.html">Junit Integration</a></li>
<li><a target="_top" href="ant_extending_ant.html">Extending Ant</a></li>
</ul>
<ul class="menu">
<li class="heading">ANT Useful Resources</li>
<li><a target="_top" href="ant_quick_guide.html">Ant Quick Guide</a></li>
<li><a target="_top" href="ant_useful_resources.html">Ant Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Ant - Building Projects</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="ant_data_types.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="ant_build_documentation.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>Now that we have learnt about the data types in Ant, it is time to put that into action. Consider the following project structure</p>
<p>This project will form the <b>Hello World</b> Fax Application project for the rest of this tutorial.</p>
<pre class="prettyprint">
C:\work\FaxWebApplication&gt;tree
Folder PATH listing
Volume serial number is 00740061 EC1C:ADB1
C:.
+---db
+---src
.   +---faxapp
.       +---dao
.       +---entity
.       +---util
.       +---web
+---war
    +---images
    +---js
    +---META-INF
    +---styles
    +---WEB-INF
        +---classes
        +---jsp
        +---lib
</pre>
<p>Let me explain the project structure.</p>
<ul class="list">
<li>The database scripts are stored in the <b>db</b> folder.</li>
<li>The java source code is stored in the <b>src</b> folder.</li>
<li>The images, js, META-INF, styles (css) are stored in the <b>war</b> folder.</li>
<li>The JSPs are stored in the <b>jsp</b> folder.</li>
<li>The third party jar files are stored in the <b>lib</b> folder.</li>
<li>The java class files will be stored in the <b>WEB-INF\classes</b> folder.</li>
</ul>
<p>The aim of this exercise is to build an ant file that compiles the java classes and places them in the WEB-INF\classes folder.</p>
<p>Here is the build.xml required for this project. Let us consider it piece by piece</p>
<pre class="prettyprint">
&lt;?xml version="1.0"?&gt;
&lt;project name="fax" basedir="." default="build"&gt;
    &lt;property name="src.dir" value="src"/&gt;
    &lt;property name="web.dir" value="war"/&gt;
    &lt;property name="build.dir" value="${web.dir}/WEB-INF/classes"/&gt;
    &lt;property name="name" value="fax"/&gt;

    &lt;path id="master-classpath"&gt;
        &lt;fileset dir="${web.dir}/WEB-INF/lib"&gt;
            &lt;include name="*.jar"/&gt;
        &lt;/fileset&gt;
        &lt;pathelement path="${build.dir}"/&gt;
    &lt;/path&gt;

    &lt;target name="build" description="Compile source tree java files"&gt;
        &lt;mkdir dir="${build.dir}"/&gt;
        &lt;javac destdir="${build.dir}" source="1.5" target="1.5"&gt;
            &lt;src path="${src.dir}"/&gt;
            &lt;classpath refid="master-classpath"/&gt;
        &lt;/javac&gt;
    &lt;/target&gt;
 
    &lt;target name="clean" description="Clean output directories"&gt;
        &lt;delete&gt;
            &lt;fileset dir="${build.dir}"&gt;
                &lt;include name="**/*.class"/&gt;
            &lt;/fileset&gt;
        &lt;/delete&gt;
    &lt;/target&gt;
&lt;/project&gt;
</pre>
<p>First, let us declare some properties for the source, web and build folders.</p>
<pre class="prettyprint">
&lt;property name="src.dir" value="src"/&gt;
&lt;property name="web.dir" value="war"/&gt;
&lt;property name="build.dir" value="${web.dir}/WEB-INF/classes"/&gt;
</pre>
<p>In this example, the <b>src.dir</b> refers to the source folder of the project (i.e, where the java source files can be found).</p>
<p>The <b>web.dir</b> refers to the web source folder of the project. This is where you can find the JSPs, web.xml, css, javascript and other web related files</p>
<p>Finally, the <b>build.dir</b> refers to the output folder of the project compilation.</p>
<p>Properties can refer to other properties. As shown in the above example, the <b>build.dir</b> property makes a reference to the <b>web.dir</b> property.</p>
<p>In this example, the <b>src.dir</b> refers to the source folder of the project.</p>
<p>The default target of our project is the <b>compile</b> target. But first let us look at the <b>clean</b> target.</p>
<p>The clean target, as the name suggests deletes the files in the build folder.</p>
<pre class="prettyprint">
&lt;target name="clean" description="Clean output directories"&gt;
   &lt;delete&gt;
      &lt;fileset dir="${build.dir}"&gt;
         &lt;include name="**/*.class"/&gt;
      &lt;/fileset&gt;
   &lt;/delete&gt;
&lt;/target&gt;
</pre>
<p>The master-classpath holds the classpath information. In this case, it includes the classes in the build folder and the jar files in the lib folder.</p>
<pre class="prettyprint">
&lt;path id="master-classpath"&gt;
   &lt;fileset dir="${web.dir}/WEB-INF/lib"&gt;
      &lt;include name="*.jar"/&gt;
   &lt;/fileset&gt;
   &lt;pathelement path="${build.dir}"/&gt;
&lt;/path&gt;
</pre>
<p>Finally, the build target to build the files. First of all, we create the build directory if it doesn't exist. Then we execute the javac command (specifying jdk1.5 as our target compilation). We supply the source folder and the classpath to the javac task and ask it to drop the class files in the build folder.</p>
<pre class="prettyprint">
&lt;target name="build" description="Compile main source tree java files"&gt;
   &lt;mkdir dir="${build.dir}"/&gt;
   &lt;javac destdir="${build.dir}" source="1.5" target="1.5" debug="true"
             deprecation="false" optimize="false" failonerror="true"&gt;
      &lt;src path="${src.dir}"/&gt;
      &lt;classpath refid="master-classpath"/&gt;
   &lt;/javac&gt;
&lt;/target&gt;
</pre>
<p>Running ant on this file will compile the java source files and place the classes in the build folder.</p>
<p>The following outcome is the result of running the ant file: </p>
<pre class="prettyprint">
C:\&gt;ant
Buildfile: C:\build.xml

BUILD SUCCESSFUL
Total time: 6.3 seconds
</pre>
<p>The files are compiled and are placed in the <b>build.dir</b> folder.</p>
<hr />
<div class="pre-btn">
<a href="ant_data_types.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/ant_build_project.pdf" alt="Ant - Building Projects" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="ant_build_documentation.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2012 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/ant/ant_build_project.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:37:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>