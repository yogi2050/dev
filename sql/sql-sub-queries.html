<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/sql/sql-sub-queries.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>SQL - Sub Queries</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="Keywords" content="Learning, SQL, Structured, Programming, Language, Syntax, Database, Clauses, database concepts, SQL Syntax, SELECT, INSERT, DELETE, UPDATE, DROP, TRUNCATE, DISTINCT, ORDER BY, GROUP BY, WHERE" />
<meta name="description" content="SQL Sub Queries - Learn SQL (Structured Programming Language) in simple and easy steps starting from basics to advanced concepts. This tutorial would give you complete understanding on database concepts, SQL Syntax, SELECT, INSERT, DELETE, UPDATE, DROP, TRUNCATE, DISTINCT, ORDER BY, GROUP BY, WHERE clauses." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
/* SQL Scheme */
#topmenu a:link {text-decoration:none;color:#fff !important;background-color:transparent;font-weight:bold;}
#topmenu a:visited {text-decoration:none;color:#fff !important;background-color:transparent;font-weight:bold;}
#topmenu a:hover {text-decoration:none;color:#36B8D7 !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#36B8D7 !important;
}
#topmenu
{
background-color:#005C71 !important;
}
#leftcol ul.menu li.heading 
{
background:#36B8D7 !important;
border:1px solid #005C71 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1650px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/sql-mini-logo.png" alt="SQL Tutorial" />
</div>
<ul class="menu">
<li class="heading">Basic SQL</li>
<li><a target="_top" href="index.html">SQL - Home</a></li>
<li><a target="_top" href="sql-overview.html" >SQL - Overview</a></li>
<li><a target="_top" href="sql-rdbms-concepts.html">SQL -  RDBMS Concepts</a></li>
<li><a target="_top" href="sql-databases.html" >SQL - Databases</a></li>
<li><a target="_top" href="sql-syntax.html" >SQL - Syntax</a></li>
<li><a target="_top" href="sql-data-types.html" >SQL - Data Types</a></li>
<li><a target="_top" href="sql-operators.html" >SQL - Operators</a></li>
<li><a target="_top" href="sql-expressions.html" >SQL - Expressions</a></li>
<li><a target="_top" href="sql-create-database.html" >SQL - Create Database</a></li>
<li><a target="_top" href="sql-drop-database.html" >SQL - Drop Database</a></li>
<li><a target="_top" href="sql-select-database.html" >SQL - Select Database</a></li>
<li><a target="_top" href="sql-create-table.html" >SQL - Create Table</a></li>
<li><a target="_top" href="sql-drop-table.html" >SQL - Drop Table</a></li>
<li><a target="_top" href="sql-insert-query.html" >SQL - Insert Query</a></li>
<li><a target="_top" href="sql-select-query.html" >SQL - Select Query</a></li>
<li><a target="_top" href="sql-where-clause.html" >SQL - Where Clause</a></li>
<li><a target="_top" href="sql-and-or-clauses.html" >SQL - AND &amp; OR Clauses</a></li>
<li><a target="_top" href="sql-update-query.html" >SQL - Update Query</a></li>
<li><a target="_top" href="sql-delete-query.html" >SQL - Delete Query</a></li>
<li><a target="_top" href="sql-like-clause.html" >SQL - Like Clause</a></li>
<li><a target="_top" href="sql-top-clause.html" >SQL - Top Clause</a></li>
<li><a target="_top" href="sql-order-by.html" >SQL - Order By</a></li>
<li><a target="_top" href="sql-group-by.html" >SQL - Group By</a></li>
<li><a target="_top" href="sql-distinct-keyword.html" >SQL - Distinct Keyword</a></li>
<li><a target="_top" href="sql-sorting-results.html" >SQL - Sorting Results</a></li>
</ul>
<ul class="menu">
<li class="heading">Advanced SQL</li>
<li><a target="_top" href="sql-constraints.html" >SQL - Constraints</a></li>
<li><a target="_top" href="sql-using-joins.html" >SQL - Using Joins</a></li>
<li><a target="_top" href="sql-unions-clause.html" >SQL - Unions Clause</a></li>
<li><a target="_top" href="sql-null-values.html" >SQL - NULL Values</a></li>
<li><a target="_top" href="sql-alias-syntax.html" >SQL - Alias Syntax</a></li>
<li><a target="_top" href="sql-indexes.html" >SQL - Indexes</a></li>
<li><a target="_top" href="sql-alter-command.html" >SQL - Alter Command</a></li>
<li><a target="_top" href="sql-truncate-table.html" >SQL - Truncate Table</a></li>
<li><a target="_top" href="sql-using-views.html" >SQL - Using Views</a></li>
<li><a target="_top" href="sql-having-clause.html" >SQL - Having Clause</a></li>
<li><a target="_top" href="sql-transactions.html" >SQL - Transactions</a></li>
<li><a target="_top" href="sql-wildcards.html" >SQL - Wildcards</a></li>
<li><a target="_top" href="sql-date-functions.html" >SQL - Date Functions</a></li>
<li><a target="_top" href="sql-temporary-tables.html" >SQL - Temporary Tables</a></li>
<li><a target="_top" href="sql-clone-tables.html" >SQL - Clone Tables</a></li>
<li><a target="_top" href="sql-sub-queries.html" ><b>SQL - Sub Queries</b></a></li>
<li><a target="_top" href="sql-using-sequences.html" >SQL - Using Sequences</a></li>
<li><a target="_top" href="sql-handling-duplicates.html" >SQL - Handling Duplicates</a></li>
<li><a target="_top" href="sql-injection.html" >SQL - Injection</a></li>
</ul>
<ul class="menu">
<li class="heading">SQL Useful Resources</li>
<li><a target="_top" href="sql-quick-guide.html" >SQL - Quick Guide</a></li>
<li><a target="_top" href="sql-useful-functions.html" >SQL - Useful Functions</a></li>
<li><a target="_top" href="sql-useful-resources.html" >SQL - Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>SQL - Sub Queries</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="sql-clone-tables.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="sql-using-sequences.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>A Subquery or Inner query or Nested query is a query within another SQL query, and embedded within the WHERE clause.</p>
<p>A subquery is used to return data that will be used in the main query as a condition to further restrict the data to be retrieved.</p>
<p>Subqueries can be used with the SELECT, INSERT, UPDATE, and DELETE statements along with the operators like =, &lt;, &gt;, &gt;=, &lt;=, IN, BETWEEN etc.</p>
<p>There are a few rules that subqueries must follow:</p>
<ul class="list">
<li><p>Subqueries must be enclosed within parentheses.</p></li>
<li><p>A subquery can have only one column in the SELECT clause, unless multiple columns are in the main query for the subquery to compare its selected columns.</p></li>
<li><p>An ORDER BY cannot be used in a subquery, although the main query can use an ORDER BY. The GROUP BY can be used to perform the same function as the ORDER BY in a subquery.</p></li>
<li><p>Subqueries that return more than one row can only be used with multiple value operators, such as the IN operator.</p></li>
<li><p>The SELECT list cannot include any references to values that evaluate to a BLOB, ARRAY, CLOB, or NCLOB.</p></li>
<li><p>A subquery cannot be immediately enclosed in a set function.</p></li>
<li><p>The BETWEEN operator cannot be used with a subquery; however, the BETWEEN can be used within the subquery.</p></li>
</ul>
<h2>Subqueries with the SELECT Statement:</h2>
<p>Subqueries are most frequently used with the SELECT statement. The basic syntax is as follows:</p>
<pre class="prettyprint">
SELECT column_name [, column_name ]
FROM   table1 [, table2 ]
WHERE  column_name OPERATOR
      (SELECT column_name [, column_name ]
      FROM table1 [, table2 ]
      [WHERE])
</pre>
<h2>Example:</h2>
<p>Consider CUSTOMERS table is having following records:</p>
<pre class="prettyprint">
+----+----------+-----+-----------+----------+
| ID | NAME     | AGE | ADDRESS   | SALARY   |
+----+----------+-----+-----------+----------+
|  1 | Ramesh   |  35 | Ahmedabad |  2000.00 |
|  2 | Khilan   |  25 | Delhi     |  1500.00 |
|  3 | kaushik  |  23 | Kota      |  2000.00 |
|  4 | Chaitali |  25 | Mumbai    |  6500.00 |
|  5 | Hardik   |  27 | Bhopal    |  8500.00 |
|  6 | Komal    |  22 | MP        |  4500.00 |
|  7 | Muffy    |  24 | Indore    | 10000.00 |
+----+----------+-----+-----------+----------+
</pre>
<p>Now let us check following sub-query with SELECT statement:</p>
<pre class="prettyprint">
SQL&gt; SELECT * 
     FROM CUSTOMERS 
     WHERE ID IN (SELECT ID 
                  FROM CUSTOMERS 
                  WHERE SALARY &gt; 4500) ;
</pre>
<p>This would produce following result:</p>
<pre class="prettyprint">
+----+----------+-----+---------+----------+
| ID | NAME     | AGE | ADDRESS | SALARY   |
+----+----------+-----+---------+----------+
|  4 | Chaitali |  25 | Mumbai  |  6500.00 |
|  5 | Hardik   |  27 | Bhopal  |  8500.00 |
|  7 | Muffy    |  24 | Indore  | 10000.00 |
+----+----------+-----+---------+----------+
</pre>
<h2>Subqueries with the INSERT Statement:</h2>
<p>Subqueries also can be used  with INSERT statements. The INSERT statement uses the data returned from the subquery to insert into another table. The selected data in the subquery can be modified with any of the character, date, or number functions.</p>
<p>The basic syntax is as follows:</p>
<pre class="prettyprint">
INSERT INTO table_name [ (column1 [, column2 ]) ]
           SELECT [ *|column1 [, column2 ]
           FROM table1 [, table2 ]
           [ WHERE VALUE OPERATOR ]
</pre>
<h2>Example:</h2>
<p>Consider a table CUSTOMERS_BKP with similar structure as  CUSTOMERS table. Now to copy complete CUSTOMERS table into CUSTOMERS_BKP, following is the syntax:</p>
<pre class="prettyprint">
SQL&gt; INSERT INTO CUSTOMERS_BKP
     SELECT * FROM CUSTOMERS 
     WHERE ID IN (SELECT ID 
                  FROM CUSTOMERS) ;
</pre>
<h2>Subqueries with the UPDATE Statement:</h2>
<p>The subquery can be used in conjunction with the UPDATE statement. Either single or multiple columns in a table can be updated when using a subquery with the UPDATE statement.</p>
<p>The basic syntax is as follows:</p>
<pre class="prettyprint">
UPDATE table
SET column_name = new_value
[ WHERE OPERATOR [ VALUE ]
   (SELECT COLUMN_NAME
   FROM TABLE_NAME)
   [ WHERE) ]
</pre>
<h2>Example:</h2>
<p>Assuming, we have CUSTOMERS_BKP table available which is backup of CUSTOMERS table.</p>
<p>Following example updates SALARY by 0.25 times in CUSTOMERS table for all the customers whose AGE is greater than or equal to 27:</p>
<pre class="prettyprint">
SQL&gt; UPDATE CUSTOMERS
     SET SALARY = SALARY * 0.25
     WHERE AGE IN (SELECT AGE FROM CUSTOMERS_BKP
                   WHERE AGE &gt;= 27 );
</pre>
<p>This would impact two rows and finally CUSTOMERS table would have following records:</p>
<pre class="prettyprint">
+----+----------+-----+-----------+----------+
| ID | NAME     | AGE | ADDRESS   | SALARY   |
+----+----------+-----+-----------+----------+
|  1 | Ramesh   |  35 | Ahmedabad |   125.00 |
|  2 | Khilan   |  25 | Delhi     |  1500.00 |
|  3 | kaushik  |  23 | Kota      |  2000.00 |
|  4 | Chaitali |  25 | Mumbai    |  6500.00 |
|  5 | Hardik   |  27 | Bhopal    |  2125.00 |
|  6 | Komal    |  22 | MP        |  4500.00 |
|  7 | Muffy    |  24 | Indore    | 10000.00 |
+----+----------+-----+-----------+----------+
</pre>
<h2>Subqueries with the DELETE Statement:</h2>
<p>The subquery can be used in conjunction with the DELETE statement like with any other statements mentioned above.</p>
<p>The basic syntax is as follows:</p>
<pre class="prettyprint">
DELETE FROM TABLE_NAME
[ WHERE OPERATOR [ VALUE ]
   (SELECT COLUMN_NAME
   FROM TABLE_NAME)
   [ WHERE) ]
</pre>
<h2>Example:</h2>
<p>Assuming, we have CUSTOMERS_BKP table available which is backup of CUSTOMERS table.</p>
<p>Following example deletes records from CUSTOMERS table for all the customers whose AGE is greater than or equal to 27:</p>
<pre class="prettyprint">
SQL&gt; DELETE FROM CUSTOMERS
     WHERE AGE IN (SELECT AGE FROM CUSTOMERS_BKP
                   WHERE AGE > 27 );
</pre>
<p>This would impact two rows and finally CUSTOMERS table would have following records:</p>
<pre class="prettyprint">
+----+----------+-----+---------+----------+
| ID | NAME     | AGE | ADDRESS | SALARY   |
+----+----------+-----+---------+----------+
|  2 | Khilan   |  25 | Delhi   |  1500.00 |
|  3 | kaushik  |  23 | Kota    |  2000.00 |
|  4 | Chaitali |  25 | Mumbai  |  6500.00 |
|  6 | Komal    |  22 | MP      |  4500.00 |
|  7 | Muffy    |  24 | Indore  | 10000.00 |
+----+----------+-----+---------+----------+
</pre>
<hr />
<div class="pre-btn">
<a href="sql-clone-tables.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/sql-sub-queries.html" alt="SQL - Sub Queries" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="sql-using-sequences.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/sql/sql-sub-queries.htm by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 15 Apr 2013 05:01:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>