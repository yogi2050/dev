<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/jdbc/jdbc-exceptions.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 21:09:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>JDBC - Exceptions Handling (SQLException Methods)</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="JDBC Exceptions Handling (SQLException Methods) - Learning JDBC in simple and easy steps using this beginner's tutorial containing basic to advanced knowledge of JDBC including Drivers, Environment Setup, SQL Statement, Insert, Update, Select, Delete, Group By, Where Clause, Pagination, Result Sets, Database, Exception, Handling etc." />
<meta name="Keywords" content="Java, JDBC, Tutorials, Learning, Beginners, Basics, Drivers, Environment, Setup, SQL, Statement, Insert, Update, Select, Delete, Group By, Where Clause, Pagination, Result Sets, Database, Exception, Handling" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#DA406A !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#DA406A !important;
}
#topmenu
{
background-color:#760422 !important;
}
#leftcol ul.menu li.heading 
{
background:#DA406A !important;
border:1px solid #760422 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1020px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index.htm">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index.htm" target="_top">HOME </a>
<a href="../java/index.htm" target="_top">JAVA </a>
<a href="../php/index.htm" target="_top">PHP </a>
<a href="../python/index.htm" target="_top">Python </a>
<a href="../ruby/index.htm" target="_top">Ruby </a>
<a href="../perl/index.htm" target="_top">Perl </a>
<a href="../html/index.htm" target="_top">HTML </a>
<a href="../css/index.htm" target="_top">CSS </a>
<a href="../javascript/index.htm" target="_top">Javascript </a>
<a href="../mysql/index.htm" target="_top">MySQL </a>
<a href="../cplusplus/index.htm" target="_top">C++ </a>
<a href="../unix/index.htm" target="_top">UNIX </a>
<a href="../more.htm" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.htm" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.htm" target="_top">ABOUT</a> |
<a href="../about/contact_us.htm" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/jdbc-mini-logo.png" alt="JDBC Tutorial" />
</div>
<ul class="menu">
<li class="heading">JDBC Tutorial</li>
<li><a target="_top" href="index.htm">JDBC - Home</a></li>
<li><a target="_top" href="jdbc-introduction.htm">JDBC - Introduction</a></li>
<li><a target="_top" href="jdbc-sql-syntax.htm">JDBC - SQL Syntax</a></li>
<li><a target="_top" href="jdbc-environment-setup.htm">JDBC - Environment</a></li>
<li><a target="_top" href="jdbc-sample-code.htm">JDBC - Sample Code</a></li>
<li><a target="_top" href="jdbc-driver-types.htm">JDBC - Driver Types</a></li>
<li><a target="_top" href="jdbc-db-connections.htm">JDBC - Connections</a></li>
<li><a target="_top" href="jdbc-statements.htm">JDBC - Statements</a></li>
<li><a target="_top" href="jdbc-result-sets.htm">JDBC - Result Sets</a></li>
<li><a target="_top" href="jdbc-data-types.htm">JDBC - Data Types</a></li>
<li><a target="_top" href="jdbc-transactions.htm">JDBC - Transactions</a></li>
<li><a target="_top" href="jdbc-exceptions.htm"><b>JDBC - Exceptions</b></a></li>
<li><a target="_top" href="jdbc-batch-processing.htm">JDBC - Batch Processing</a></li>
<li><a target="_top" href="jdbc-stored-procedure.htm">JDBC - Stored Procedure</a></li>
<li><a target="_top" href="jdbc-streaming-data.htm">JDBC - Streaming Data</a></li>
</ul>
<ul class="menu">
<li class="heading">JDBC Examples</li>
<li><a target="_top" href="jdbc-create-database.htm">JDBC - Create Database</a></li>
<li><a target="_top" href="jdbc-select-database.htm">JDBC - Select Database</a></li>
<li><a target="_top" href="jdbc-drop-database.htm">JDBC - Drop Database</a></li>
<li><a target="_top" href="jdbc-create-tables.htm">JDBC - Create Tables</a></li>
<li><a target="_top" href="jdbc-drop-tables.htm">JDBC - Drop Tables</a></li>
<li><a target="_top" href="jdbc-insert-records.htm">JDBC - Insert Records</a></li>
<li><a target="_top" href="jdbc-select-records.htm">JDBC - Select Records</a></li>
<li><a target="_top" href="jdbc-update-records.htm">JDBC - Update Records</a></li>
<li><a target="_top" href="jdbc-delete-records.htm">JDBC - Delete Records</a></li>
<li><a target="_top" href="jdbc-where-clause.htm">JDBC - WHERE Clause</a></li>
<li><a target="_top" href="jdbc-like-clause.htm">JDBC - Like Clause</a></li>
<li><a target="_top" href="jdbc-sorting-data.htm">JDBC - Sorting Data</a></li>
</ul>
<ul class="menu">
<li class="heading">JDBC Useful Resources</li>
<li><a target="_top" href="jdbc-quick-guide.htm">JDBC - Quick Guide</a></li>
<li><a target="_top" href="jdbc-useful-resources.htm">JDBC Useful Resources</a></li>
<li><a target="_top" href="../java/index.htm">Useful Java Tutorials</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>JDBC - Exceptions Handling</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="jdbc-transactions.htm">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="jdbc-batch-processing.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>Exception handling allows you to handle exceptional conditions such as program-defined errors in a controlled fashion.</p>
<p>When an exception condition occurs, an exception is thrown. The term thrown means that current program execution stops, and control is redirected to the nearest
applicable catch clause. If no applicable catch clause exists, then the program's execution ends.</p>
<p>JDBC Exception handling is very similar to Java Excpetion handling but for JDBC, the most common exception you'll deal with is <b>java.sql.SQLException.</b></p>
<h2>SQLException Methods:</h2>
<p>A SQLException can occur both in the driver and the database. When such an exception occurs, an object of type SQLException will be passed to the catch clause.</p>
<p>The passed SQLException object has the following methods available for retrieving additional information about the exception:</p>
<table class="src">
<tr>
<th style="width:42%">Method</th><th style="width:58%">Description</th>
</tr>
<tr><td>getErrorCode( )</td><td>Gets the error number associated with the exception.</td></tr>
<tr><td>getMessage( )</td><td>Gets the JDBC driver's error message for an error handled by the driver or gets the Oracle error number and message for a database error.</td></tr>
<tr><td>getSQLState( )</td><td>Gets the XOPEN SQLstate string. For a JDBC driver error, no useful information is returned from this method. For a database error, the five-digit XOPEN SQLstate code is returned. This method can return null.</td></tr>
<tr><td>getNextException( )</td><td>Gets the next Exception object in the exception chain.</td></tr>
<tr><td>printStackTrace( )</td><td>Prints the current exception, or throwable, and its backtrace to a standard error stream.</td></tr>
<tr><td>printStackTrace(PrintStream s)</td><td>Prints this throwable and its backtrace to the print stream you specify.</td></tr>
<tr><td>printStackTrace(PrintWriter w)</td><td>Prints this throwable and its backtrace to the print writer you specify.</td></tr>
</table>
<p>By utilizing the information available from the Exception object, you can catch an exception and continue your program appropriately. Here is the general form of a try block:</p>
<pre class="prettyprint">
try {
   // Your risky code goes between these curly braces!!!
}
catch(Exception ex) {
   // Your exception handling code goes between these 
   // curly braces, similar to the exception clause 
   // in a PL/SQL block.
}
finally {
   // Your must-always-be-executed code goes between these 
   // curly braces. Like closing database connection.
}
</pre>
<h2>Example:</h2>
<p>Study the following example code to understand the usage of <b>try....catch...finally</b> blocks.</p>
<pre class="prettyprint">
//STEP 1. Import required packages
import java.sql.*;

public class JDBCExample {
   // JDBC driver name and database URL
   static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";  
   static final String DB_URL = "jdbc:mysql://localhost/EMP";

   //  Database credentials
   static final String USER = "username";
   static final String PASS = "password";
   
   public static void main(String[] args) {
   Connection conn = null;
   try{
      //STEP 2: Register JDBC driver
      Class.forName("com.mysql.jdbc.Driver");

      //STEP 3: Open a connection
      System.out.println("Connecting to database...");
      conn = DriverManager.getConnection(DB_URL,USER,PASS);

      //STEP 4: Execute a query
      System.out.println("Creating statement...");
      Statement stmt = conn.createStatement();
      String sql;
      sql = "SELECT id, first, last, age FROM Employees";
      ResultSet rs = stmt.executeQuery(sql);

      //STEP 5: Extract data from result set
      while(rs.next()){
         //Retrieve by column name
         int id  = rs.getInt("id");
         int age = rs.getInt("age");
         String first = rs.getString("first");
         String last = rs.getString("last");

         //Display values
         System.out.print("ID: " + id);
         System.out.print(", Age: " + age);
         System.out.print(", First: " + first);
         System.out.println(", Last: " + last);
      }
      //STEP 6: Clean-up environment
      rs.close();
      stmt.close();
      conn.close();
   }catch(SQLException se){
      //Handle errors for JDBC
      se.printStackTrace();
   }catch(Exception e){
      //Handle errors for Class.forName
      e.printStackTrace();
   }finally{
      //finally block used to close resources
      try{
         if(conn!=null)
            conn.close();
      }catch(SQLException se){
         se.printStackTrace();
      }//end finally try
   }//end try
   System.out.println("Goodbye!");
}//end main
}//end JDBCExample
</pre>
<p>Now let us compile above example as follows:</p>
<pre class="prettyprint">
C:\&gt;javac JDBCExample.java
C:\&gt;
</pre>
<p>When you run <b>JDBCExample</b>, it produces following result if there is no problem, otherwise corresponding error would be caught and error message would be displayed:</p>
<pre class="prettyprint">
C:\&gt;java JDBCExample
Connecting to database...
Creating statement...
ID: 100, Age: 18, First: Zara, Last: Ali
ID: 101, Age: 25, First: Mahnaz, Last: Fatma
ID: 102, Age: 30, First: Zaid, Last: Khan
ID: 103, Age: 28, First: Sumit, Last: Mittal
C:\&gt;
</pre>
<p>Try above example by passing wrong database name or wrong username or password and check the result.</p>
<hr />
<div class="pre-btn">
<a href="jdbc-transactions.htm">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/jdbc-exceptions.pdf" alt="JDBC - Exceptions Handling (SQLException Methods)" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="jdbc-batch-processing.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.htm" target="_top">ASP.NET </a> |
<a href="../jquery/index.htm" target="_top">jQuery </a> |
<a href="../ajax/index.htm" target="_top">AJAX </a> |
<a href="../ant/index.htm" target="_top">ANT</a> |
<a href="../jsp/index.htm" target="_top">JSP </a> |
<a href="../servlets/index.htm" target="_top">Servlets </a> |
<a href="../log4j/index.htm" target="_top">log4j </a> |
<a href="../ibatis/index.htm" target="_top">iBATIS </a> |
<a href="../hibernate/index.htm" target="_top">Hibernate </a> |
<a href="index.htm" target="_top">JDBC </a> |
<a href="../struts_2/index.htm" target="_top">Struts </a> |
<a href="../html5/index.htm" target="_top">HTML5 </a> |
<a href="../sql/index.htm" target="_top">SQL </a> |
<a href="../mysql/index.htm" target="_top">MySQL </a> |
<a href="../cplusplus/index.htm" target="_top">C++ </a> |
<a href="../unix/index.htm" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/jdbc/jdbc-exceptions.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 21:09:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>