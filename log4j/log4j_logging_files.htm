<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/log4j/log4j_logging_files.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 21:04:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>log4j| log4j Logging in Files| Handling Logging in Java using log4j| Rolling in Multiple Files| File Based Logging Examples</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="log4j| log4j Logging in Files| Handling Logging in Java using log4j| Rolling in Multiple Files| File Based Logging Examples. Learn how log4j framework works starting from environment setup, logging levels, methods, formatting, methods, file logging and database logging." />
<meta name="Keywords" content="Free, log4j, Tutorials, Reference, Manual, Guide, Beginners" />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#afd5a6 !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#afd5a6 !important;
}
#topmenu
{
background-color:#488A36 !important;
}
#leftcol ul.menu li.heading 
{
background:#afd5a6 !important;
border:1px solid #488A36 !important;
}
#leftcol, #middlecol, #rightcol {min-height:1020px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index.htm">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index.htm" target="_top">HOME </a>
<a href="../java/index.htm" target="_top">JAVA </a>
<a href="../php/index.htm" target="_top">PHP </a>
<a href="../python/index.htm" target="_top">Python </a>
<a href="../ruby/index.htm" target="_top">Ruby </a>
<a href="../perl/index.htm" target="_top">Perl </a>
<a href="../html/index.htm" target="_top">HTML </a>
<a href="../css/index.htm" target="_top">CSS </a>
<a href="../javascript/index.htm" target="_top">Javascript </a>
<a href="../mysql/index.htm" target="_top">MySQL </a>
<a href="../cplusplus/index.htm" target="_top">C++ </a>
<a href="../unix/index.htm" target="_top">UNIX </a>
<a href="../more.htm" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.htm" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.htm" target="_top">ABOUT</a> |
<a href="../about/contact_us.htm" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/log4j-mini-logo.png" alt="log4j Tutorial" />
</div>
<ul class="menu">
<li class="heading">log4j Tutorial</li>
<li><a target="_top" href="index.htm">log4j - Home</a></li>
<li><a target="_top" href="log4j_overview.htm">log4j - Overview</a></li>
<li><a target="_top" href="log4j_installation.htm">log4j - Installation</a></li>
<li><a target="_top" href="log4j_architecture.htm">log4j - Architecture</a></li>
<li><a target="_top" href="log4j_configuration.htm">log4j - Configuration</a></li>
<li><a target="_top" href="log4j_sample_program.htm">log4j - Sample Program</a></li>
<li><a target="_top" href="log4j_logging_methods.htm">log4j - Logging Methods</a></li>
<li><a target="_top" href="log4j_logging_levels.htm">log4j - Logging Levels</a></li>
<li><a target="_top" href="log4j_log_formatting.htm">log4j - Log Formatting</a></li>
<li><a target="_top" href="log4j_logging_files.htm"><b>log4j - Logging in Files</b></a></li>
<li><a target="_top" href="log4j_logging_database.htm">log4j - Logging in Database</a></li>
</ul>
<ul class="menu">
<li class="heading">log4j Useful Resources</li>
<li><a target="_top" href="log4j_quick_guide.htm">log4j - Quick Guide</a></li>
<li><a target="_top" href="log4j_useful_resources.htm">log4j - Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>log4j - Logging in Files</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="log4j_log_formatting.htm">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="log4j_logging_database.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>To write your logging information into a file you would have to use <i>org.apache.log4j.FileAppender</i>. There are following configurable parameters of FileAppender:</p>
<h2>FileAppender Configuration:</h2>
<table class="src">
<tr><th style="width:25%">Property</th><th>Description</th></tr>
<tr><td>immediateFlush</td><td>This flag is by default set to true, which means the output stream to the file being flushed with each append operation.</td></tr>
<tr><td>encoding</td><td>It is possible to use any character-encoding. By default is the platform-specific encoding scheme.</td></tr>
<tr><td>threshold </td><td>The threshold level for this appender.</td></tr>
<tr><td>Filename</td><td>The name of the log file.</td></tr>
<tr><td>fileAppend</td><td>This is by default set to true, which mean the logging information being appended to the end of the same file.</td></tr>
<tr><td>bufferedIO</td><td>This flag indicates whether we need buffered writing enabled.  By default is set to false.</td></tr>
<tr><td>bufferSize</td><td>If bufferedI/O is enabled, this indicates the buffer size. By default is set to 8kb.</td></tr>
</table>
<p>Following is a sample configuration file <i>log4j.properties</i> for FileAppender.</p>
<pre class="prettyprint">
# Define the root logger with appender file
log4j.rootLogger = DEBUG, FILE

# Define the file appender
log4j.appender.FILE=org.apache.log4j.FileAppender
# Set the name of the file
log4j.appender.FILE.File=${log}/log.out

# Set the immediate flush to true (default)
log4j.appender.FILE.ImmediateFlush=true

# Set the threshold to debug mode
log4j.appender.FILE.Threshold=debug

# Set the append to false, overwrite
log4j.appender.FILE.Append=false

# Define the layout for file appender
log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.FILE.layout.conversionPattern=%m%n
</pre>
<p>If you love to have an XML configuration file equivalent to above <i>log4j.properties</i> file then here is the content:</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;
&lt;log4j:configuration&gt;

&lt;appender name="FILE" class="org.apache.log4j.FileAppender"&gt;
   &lt;param name="file" value="${log}/log.out"/&gt;
   &lt;param name="immediateFlush" value="true"/&gt;
   &lt;param name="threshold" value="debug"/&gt;
   &lt;param name="append" value="false"/&gt;
   &lt;layout class="org.apache.log4j.PatternLayout"&gt;
      &lt;param name="conversionPattern" value="%m%n"/&gt;
   &lt;/layout&gt;
&lt;/appender&gt;

&lt;logger name="log4j.rootLogger" additivity="false"&gt;
   &lt;level value="DEBUG"/&gt;
   &lt;appender-ref ref="FILE"/&gt;
&lt;/logger&gt;

&lt;/log4j:configuration&gt;
</pre>
<p>You can try <a href="log4j_sample_program.htm" title="log4j - Sample Program">log4j - Sample Program</a> with the above configuration .</p>
<h2>Logging in Multiple Files:</h2>
<p>There may be a requirement when you want to write your log message into multiple files for certain reasons like for example if file size reaches to a certain threshold etc.</p>
<p>To write your logging information into multiple files you would have to use <i>org.apache.log4j.RollingFileAppender</i> class which extends the <i>FileAppender</i> class and inherits all its properties.</p>
<p>There are following configurable parameters in addition to what have been mentioned above for FileAppender:</p>
<table class="src">
<tr><th style="width:25%">Property</th><th>Description</th></tr>
<tr><td>maxFileSize</td><td>This is the critical size of the file above which the file will be rolled. Default value is 10MB</td></tr>
<tr><td>maxBackupIndex</td><td>This property denotes the number of backup files to be created. Default value is 1.</td></tr>
</table>
<p>Following is a sample configuration file <i>log4j.properties</i> for RollingFileAppender.</p>
<pre class="prettyprint">
# Define the root logger with appender file
log4j.rootLogger = DEBUG, FILE

# Define the file appender
log4j.appender.FILE=org.apache.log4j.RollingFileAppender
# Set the name of the file
log4j.appender.FILE.File=${log}/log.out

# Set the immediate flush to true (default)
log4j.appender.FILE.ImmediateFlush=true

# Set the threshold to debug mode
log4j.appender.FILE.Threshold=debug

# Set the append to false, should not overwrite
log4j.appender.FILE.Append=true

# Set the maximum file size before rollover
log4j.appender.FILE.MaxFileSize=5KB

# Set the the backup index
log4j.appender.FILE..MaxBackupIndex=2

# Define the layout for file appender
log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.FILE.layout.conversionPattern=%m%n
</pre>
<p>If you like to have an XML configuration file, you can generate as mentioned in initial section and add only additional paramters related to <i>RollingFileAppender</i>.</p>
<p>This example configuration demonstrates that maximum permissible size of each log file is 5MB. Upon exceeding the maximum size, a new log file will be created and because <i>maxBackupIndex</i> is defined as 2, once the second log file reaches the maximum size, the first log file will be erased and thereafter all the logging information will be rolled back to the first log file.</p>
<p>You can try <a href="log4j_sample_program.htm" title="log4j - Sample Program">log4j - Sample Program</a> with the above configuration .</p>
<h2>Daily Log File Generation:</h2>
<p>There may be a requirement when you want to generate your log files on per day basis to keep a clean record of your logging information.</p>
<p>To write your logging information into files on daily basis you would have to use <i>org.apache.log4j.DailyRollingFileAppender</i> class which extends the <i>FileAppender</i> class and inherits all its properties.</p>
<p>There is only one important following configurable parameter in addition to what have been mentioned above for FileAppender:</p>
<table class="src">
<tr><th style="width:25%">Property</th><th>Description</th></tr>
<tr><td>DatePattern</td><td>This indicates when to roll over the file, and the naming convention to be followed. By default roll over at midnight each day.</td></tr>
</table>
<p>DatePattern controls the rollover schedule using one of the following patterns:</p>
<table class="src">
<tr><th style="width:35%">DatePattern</th><th>Description</th></tr>
<tr><td>'.' yyyy-MM</td><td>Roll over at the end of each month and the beginning of the next month.</td></tr>
<tr><td>'.' yyyy-MM-dd</td><td>This is the default value and roll over at midnight each day.</td></tr>
<tr><td>'.' yyyy-MM-dd-a</td><td>Roll over at midday and midnight of each day.</td></tr>
<tr><td>'.' yyyy-MM-dd-HH</td><td>Roll over at the top of every hour.</td></tr>
<tr><td>'.' yyyy-MM-dd-HH-mm</td><td>Roll over every minute.</td></tr>
<tr><td>'.' yyyy-ww</td><td>Roll over on the first day of each week depending upon the locale.</td></tr>
</table>
<p>Following is a sample configuration file <i>log4j.properties</i> to generate log files rolling over at midday and midnight of each day.</p>
<pre class="prettyprint">
# Define the root logger with appender file
log4j.rootLogger = DEBUG, FILE

# Define the file appender
log4j.appender.FILE=org.apache.log4j.DailyRollingFileAppender
# Set the name of the file
log4j.appender.FILE.File=${log}/log.out

# Set the immediate flush to true (default)
log4j.appender.FILE.ImmediateFlush=true

# Set the threshold to debug mode
log4j.appender.FILE.Threshold=debug

# Set the append to false, should not overwrite
log4j.appender.FILE.Append=true

# Set the DatePattern
log4j.appender.FILE.DatePattern='.' yyyy-MM-dd-a

# Define the layout for file appender
log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.FILE.layout.conversionPattern=%m%n
</pre>
<p>If you like to have an XML configuration file, you can generate as mentioned in initial section and add only additional paramters related to <i>DailyRollingFileAppender</i>.</p>
<p>You can try <a href="log4j_sample_program.htm" title="log4j - Sample Program">log4j - Sample Program</a> with the above configuration .</p>
<hr />
<div class="pre-btn">
<a href="log4j_log_formatting.htm">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/log4j_logging_files.pdf" alt="log4j| log4j Logging in Files| Handling Logging in Java using log4j| Rolling in Multiple Files| File Based Logging Examples" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="log4j_logging_database.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.htm" target="_top">ASP.NET </a> |
<a href="../jquery/index.htm" target="_top">jQuery </a> |
<a href="../ajax/index.htm" target="_top">AJAX </a> |
<a href="../ant/index.htm" target="_top">ANT</a> |
<a href="../jsp/index.htm" target="_top">JSP </a> |
<a href="../servlets/index.htm" target="_top">Servlets </a> |
<a href="index.htm" target="_top">log4j </a> |
<a href="../ibatis/index.htm" target="_top">iBATIS </a> |
<a href="../hibernate/index.htm" target="_top">Hibernate </a> |
<a href="../jdbc/index.htm" target="_top">JDBC </a> |
<a href="../struts_2/index.htm" target="_top">Struts </a> |
<a href="../html5/index.htm" target="_top">HTML5 </a> |
<a href="../sql/index.htm" target="_top">SQL </a> |
<a href="../mysql/index.htm" target="_top">MySQL </a> |
<a href="../cplusplus/index.htm" target="_top">C++ </a> |
<a href="../unix/index.htm" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2013 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/log4j/log4j_logging_files.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 21:04:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>