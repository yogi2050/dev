<!doctype html> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/hibernate/hibernate_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:46:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>Hibernate Quick Guide</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="Hibernate, Tutorials, Learning, Beginners, Basics, Environment, Object Relational Mapping (ORM), Query Language, Native SQL, Caching, Interceptors, Persistent Classes, Persistent Objects, Collections, Associations and components, and Hibernate tools." />
<meta name="keywords" content="Hibernate Quick Guide - Learn Hibernate 3.x starting from environment setup, Object Relational Mapping (ORM), Query Language, Native SQL, Caching, Interceptors, Persistent Classes, Persistent Objects, Collections, Associations and components, and Hibernate tools." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#bcae79  !important;background-color:transparent;font-weight:bold;}
#header{ 
background:#bcae79  !important;
}
#topmenu
{
background-color:#59666c !important;
}
#leftcol ul.menu li.heading 
{
background:#bcae79 !important;
border:1px solid #59666c  !important;
}
#leftcol, #middlecol, #rightcol {min-height:1200px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/hibernate-mini-logo.png" alt="Hibernate Tutorial" />
</div>
<ul class="menu">
<li class="heading">Hibernate Tutorial</li>
<li><a target="_top" href="index.html">Hibernate Home</a></li>
<li><a target="_top" href="orm_overview.html">ORM Overview</a></li>
<li><a target="_top" href="hibernate_overview.html">Hibernate Overview</a></li>
<li><a target="_top" href="hibernate_architecture.html">Hibernate Architecture</a></li>
<li><a target="_top" href="hibernate_environment.html">Hibernate Environment</a></li>
<li><a target="_top" href="hibernate_configuration.html">Hibernate Configuration</a></li>
<li><a target="_top" href="hibernate_sessions.html">Hibernate Sessions</a></li>
<li><a target="_top" href="hibernate_persistent_classes.html">Hibernate Persistent Class</a></li>
<li><a target="_top" href="hibernate_mapping_files.html">Hibernate Mapping Files</a></li>
<li><a target="_top" href="hibernate_mapping_types.html">Hibernate Mapping Types</a></li>
<li><a target="_top" href="hibernate_examples.html">Hibernate Examples</a></li>
<li><a target="_top" href="hibernate_or_mappings.html">Hibernate O/R Mappings</a></li>
<li><a target="_top" href="hibernate_annotations.html">Hibernate Annotations</a></li>
<li><a target="_top" href="hibernate_query_language.html">Hibernate Query Language</a></li>
<li><a target="_top" href="hibernate_criteria_queries.html">Hibernate Criteria Queries</a></li>
<li><a target="_top" href="hibernate_native_sql.html">Hibernate Native SQL</a></li>
<li><a target="_top" href="hibernate_caching.html">Hibernate Caching</a></li>
<li><a target="_top" href="hibernate_batch_processing.html">Hibernate Batch Processing</a></li>
<li><a target="_top" href="hibernate_interceptors.html">Hibernate Interceptors</a></li>
</ul>
<ul class="menu">
<li class="heading">Hibernate Useful Resources</li>
<li><a target="_top" href="hibernate_quick_guide.html"><b>Hibernate Quick Guide</b></a></li>
<li><a target="_top" href="hibernate_useful_resources.html">Hibernate Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>Hibernate Quick Guide</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="hibernate_interceptors.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="hibernate_useful_resources.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>Hibernate is an Object-Relational Mapping(ORM) solution for JAVA and it raised as an open source persistent framework created by Gavin King in 2001. It is a powerful, high performance Object-Relational Persistence and Query service for any Java Application.</p>
<p>Hibernate maps Java classes to database tables and from Java data types to SQL data types and relieve the developer from 95% of common data persistence related programming tasks.</p>
<p>Hibernate sits between traditional Java objects and database server to handle all the work in persisting those objects based on the appropriate O/R mechanisms and patterns.</p>
<center>
<img src="../images/hibernate_position.jpg" alt="Hibernate Position" />
</center>
<h2>Hibernate Advantages:</h2>
<ul class="list">
<li><p>Hibernate takes care of mapping Java classes to database tables using XML files and without writing any line of code.</p></li>
<li><p>Provides simple APIs for storing and retrieving Java objects directly to and from the database.</p></li>
<li><p>If there is change in Database or in any table then the only need to change XML file properties.</p></li>
<li><p>Abstract away the unfamiliar SQL types and provide us to work around familiar Java Objects.</p></li>
<li><p>Hibernate does not require an application server to operate.</p></li>
<li><p>Manipulates Complex associations of objects of your database.</p></li>
<li><p>Minimize database access with smart fetching strategies.</p></li>
<li><p>Provides Simple querying of data.</p></li>
</ul>
<h2>Supported Databases:</h2>
<p>Hibernate supports almost all the major RDBMS. Following is list of few of the database engines supported by Hibernate.</p>
<ul class="list">
<li><p>HSQL Database Engine</p></li>
<li><p>DB2/NT</p></li>
<li><p>MySQL</p></li>
<li><p>PostgreSQL</p></li>
<li><p>FrontBase</p></li>
<li><p>Oracle</p></li>
<li><p>Microsoft SQL Server Database</p></li>
<li><p>Sybase SQL Server</p></li>
<li><p>Informix Dynamic Server</p></li>
</ul>
<h2>Hibernate Architecture:</h2>
<p>The Hibernate architecture  is layered to keep you isolated from having to know the underlying APIs. Hibernate makes use of  the database and configuration data to provide persistence services (and persistent objects) to the application.</p>
<p>Following is a very high level view of the Hibernate Application Architecture.</p>
<center>
<img src="../images/hibernate_high_level.jpg" alt="Hibernate High Level View" />
</center>
<p>Following is a detailed view of the Hibernate Application Architecture with few important core classes.</p>
<center>
<img src="../images/hibernate_architecture.jpg" alt="Hibernate Architecture" />
</center>
<p>Hibernate uses various existing Java APIs, like JDBC, Java Transaction API(JTA), and Java Naming and Directory Interface (JNDI). JDBC provides a rudimentary level of abstraction of functionality common to relational databases, allowing
almost any database with a JDBC driver to be supported by Hibernate. JNDI and JTA allow Hibernate to be integrated with J2EE application servers.</p>
<p>Following section gives brief description of each of the class objects involved in Hibernate Application Architecture.</p>
<h2>Configuration Object:</h2>
<p>The Configuration object is the first Hibernate object you create in any Hibernate application and usually created only once during  application initialization.  It represents a  configuration or properties file required by the Hibernate. The Configuration object provides two keys components: </p>
<ul class="list">
<li><p><b>Database Connection:</b> This is handled through one or more configuration files supported by Hibernate. These files are <b>hibernate.properties</b> and <b>hibernate.cfg.xml</b>.</p></li>
<li><p><b>Class Mapping Setup</b><br />This component creates the connection between the Java classes and database tables..</p></li>
</ul>
<h2>SessionFactory Object:</h2>
<p>Configuration object is used to create a SessionFactory object which inturn configures Hibernate for the application using the supplied configuration file and allows for a Session object to be instantiated. The SessionFactory is a thread safe object  and  used by all the threads of an application.</p>
<p>The SessionFactory is heavyweight object so usually it is created during application start up and kept for later use. You would need one  SessionFactory object per database using a separate configuration file.  So if you are using multiple databases then you would have to create multiple SessionFactory objects.</p>
<h2>Session Object:</h2>
<p>A Session is used to get a physical connection with a database.  The Session object is lightweight and designed to be instantiated each time an interaction is needed with the database. Persistent objects are saved  and retrieved through a Session object.</p>
<p>The session objects should not be kept open for a long time because they are not usually thread safe and they should be created and destroyed them as needed.</p>
<h2>Transaction Object:</h2>
<p>A Transaction represents a unit of work with the database and most of the RDBMS supports transaction functionality.  Transactions in Hibernate are handled by an underlying transaction manager and transaction (from JDBC or JTA).</p>
<p>This is an optional object and Hibernate applications may choose not to use this interface, instead managing transactions in their own application code.</p>
<h2>Query  Object:</h2>
<p>Query objects use SQL or Hibernate Query Language (HQL) string to retrieve data from the database and create objects. A Query instance is used to bind query parameters, limit the number of results returned by the query, and finally to execute the query.</p>
<h2>Criteria  Object:</h2>
<p>Criteria object are used to create and execute object oriented criteria queries to retrieve objects.</p>
<h2>Hibernate Environment Setup</h2>
<p>This chapter will explain how to install Hibernate and other associated packages to prepare a develop environment for the Hibernate applications. We will work with MySQL database  to experiment with Hibernate examples, so make sure you already have setup for MySQL database. For a more detail on MySQL you can check our <a target="_blank" href="../mysql/index.html">MySQL Tutorial</a>.</p>
<h2>Downloading Hibernate:</h2>
<p>It is assumed that you already have latest version of Java is installed on your machine. Following are the simple steps to download and install Hibernate on your machine.</p>
<ul class="list">
<li><p>Make a choice whether you want to install Hibernate on Windows, or Unix and then proceed to the next step to download .zip file for windows and .tz file for Unix.</p></li>
<li><p>Download the latest version of Hibernate from <a target="_blank" rel="nofollow" href="http://www.hibernate.org/downloads">http://www.hibernate.org/downloads</a>.</p></li>
<li><p>At the time of writing this tutorial I downloaded <b>hibernate-distribution-3.6.4.Final</b> and when you unzip the downloaded file it will give you directory structure as follows.</p></li>
</ul>
<center>
<img src="../images/hibernate_directories.jpg" alt="Hibernate Directories" />
</center>
<h2>Installing Hibernate:</h2>
<p>Once you downloaded and unzipped the latest version of the Hibernate Installation file, you need to perform following two simple steps. Make sure you are setting your CLASSPATH variable properly otherwise you will face problem while compiling your application.</p>
<ul class="list">
<li><p>Now copy all the library files from <b>/lib</b> into your CLASSPATH, and change your classpath variable to include all the JARs:</p></li>
<li><p>Finally copy <b>hibernate3.jar</b> file into your CLASSPATH. This file lies in the root directory of the installation and is the primary JAR that Hibernate needs to do its work.</p></li>
</ul>
<h2>Hibernate Prerequisites:</h2>
<p>Following is the list of the packages/libraries required by Hibernate and you should install them before starting with Hibernate. To install these packages you would have to copy library files from <b>/lib</b> into your CLASSPATH, and change your CLASSPATH variable accordingly.</p>
<table class="src">
<tr><th style="width:5%">S.N.</th><th>Packages/Libraries</th></tr>
<tr><td>1</td><td><b>dom4j</b> - XML parsing <a target="_blank" rel="nofollow" href="http://www.dom4j.org/">www.dom4j.org/</a></td></tr>
<tr><td>2</td><td><b>Xalan</b> - XSLT Processor  <a target="_blank" rel="nofollow" href="http://xml.apache.org/xalan-j/">http://xml.apache.org/xalan-j/</a></td></tr>
<tr><td>3</td><td><b>Xerces</b> - The Xerces Java Parser <a target="_blank" rel="nofollow" href="http://xml.apache.org/xerces-j/">http://xml.apache.org/xerces-j/</a></td></tr>
<tr><td>4</td><td><b>cglib</b> - Appropriate changes to Java classes at runtime <a target="_blank" rel="nofollow" href="http://cglib.sourceforge.net/">http://cglib.sourceforge.net/</a></td></tr>
<tr><td>5</td><td><b>log4j</b> - Logging Faremwork <a target="_blank" rel="nofollow" href="http://logging.apache.org/log4j">http://logging.apache.org/log4j</a></td></tr>
<tr><td>6</td><td><b>Commons</b> - Logging, Email etc. <a target="_blank" rel="nofollow" href="http://jakarta.apache.org/commons">http://jakarta.apache.org/commons</a></td></tr>
<tr><td>7</td><td><b>SLF4J</b> - Logging Facade for Java <a target="_blank" rel="nofollow" href="http://www.slf4j.org/download.html">http://www.slf4j.org</a></td></tr>
</table>
<h2>Hibernate Configuration</h2>
<p>Hibernate requires to know in advance where to find the mapping information that defines how your Java classes relate to the database tables. Hibernate also requires a set of configuration settings related to database and other related parameters. All such information is usually supplied as a standard Java properties file called <b>hibernate.properties</b>, or as an XML file named <b>hibernate.cfg.xml</b>.</p>
<p>I will consider XML formatted file <b>hibernate.cfg.xml</b> to specify required Hibernate properties in my examples. Most of the properties take their default values and it is not required to specify them in the property file unless it is really required. This file is kept in the root directory of your application's classpath.</p>
<h2>Hibernate Properties:</h2>
<p>Following is the list of important properties you would require to configure for a databases in a standalone situation:</p>
<table class="src">
<tr><th style="width:5%">S.N.</th><th>Properties and Description</th></tr>
<tr><td>1</td><td><b>hibernate.dialect</b> <br /> This property makes Hibernate generate the appropriate SQL for the chosen database.</td></tr>
<tr><td>2</td><td><b>hibernate.connection.driver_class</b> <br/> The JDBC driver class.</td></tr>
<tr><td>3</td><td><b>hibernate.connection.url</b> <br/> The JDBC URL to the database instance.</td></tr>
<tr><td>4</td><td><b>hibernate.connection.username</b> <br/> The database username.</td></tr>
<tr><td>5</td><td><b>hibernate.connection.password</b> <br/>The database password.</td></tr>
<tr><td>6</td><td><b>hibernate.connection.pool_size</b> <br/> Limits the number of connections waiting in the Hibernate database connection pool.</td></tr>
<tr><td>7</td><td><b>hibernate.connection.autocommit</b> <br/>Allows autocommit mode to be used for the JDBC connection.</td></tr>
</table>
<p>If you are using a database along with an application server and JNDI then you would have to configure the following properties:</p>
<table class="src">
<tr><th style="width:5%">S.N.</th><th>Properties and Description</th></tr>
<tr><td>1</td><td><b>hibernate.connection.datasource</b> <br /> The JNDI name defined in the application server context you’re using for the application.</td></tr>
<tr><td>2</td><td><b>hibernate.jndi.class</b> <br/> The InitialContext class for JNDI.</td></tr>
<tr><td>3</td><td><b>hibernate.jndi.&lt;JNDIpropertyname&gt;</b> <br/> Passes any JNDI property you like to the JNDI <i>InitialContext</i>.</td></tr>
<tr><td>4</td><td><b>hibernate.jndi.url</b> <br/> Provides the URL for JNDI.</td></tr>
<tr><td>5</td><td><b>hibernate.connection.username</b> <br/> The database username.</td></tr>
<tr><td>6</td><td><b>hibernate.connection.password</b> <br/>The database password.</td></tr>
</table>
<h2>Hibernate with MySQL Database:</h2>
<p>MySQL is one of the most popular open-source database systems available today. Let us create <b>hibernate.cfg.xml</b> configuration file and place it in the root of your application's classpath. You would have to make sure that you have <b>testdb</b> database available in your MySQL database and you have a user <b>test</b> available to access the database.</p>
<p>The XML configuration file must conform to the Hibernate 3 Configuration DTD, which is available from http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd.</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE hibernate-configuration SYSTEM 
"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd"&gt;

&lt;hibernate-configuration&gt;
   &lt;session-factory&gt;
   &lt;property name="hibernate.dialect"&gt;
      org.hibernate.dialect.MySQLDialect
   &lt;/property&gt;
   &lt;property name="hibernate.connection.driver_class"&gt;
      com.mysql.jdbc.Driver
   &lt;/property&gt;

   &lt;!-- Assume test is the database name --&gt;
   &lt;property name="hibernate.connection.url"&gt;
      jdbc:mysql://localhost/test
   &lt;/property&gt;
   &lt;property name="hibernate.connection.username"&gt;
      root
   &lt;/property&gt;
   &lt;property name="hibernate.connection.password"&gt;
      root123
   &lt;/property&gt;

   &lt;!-- List of XML mapping files --&gt;
   &lt;mapping resource="Employee.hbm.xml"/&gt;

&lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;
</pre>
<p>The above configuration file includes  <b>&lt;mapping&gt;</b> tags which are related to hibernate-mapping file and we will see in next chapter what exactly is a hibernate mapping file and how and why do we use it. Following is the list of various important databases dialect property type:</p>
<table class="src">
<tr>
<th style="width:30%">Database</th><th>Dialect Property</th>
</tr>
<tr><td>DB2 </td><td>org.hibernate.dialect.DB2Dialect</td></tr>
<tr><td>HSQLDB  </td><td>org.hibernate.dialect.HSQLDialect</td></tr>
<tr><td>HypersonicSQL</td><td>org.hibernate.dialect.HSQLDialect</td></tr>
<tr><td>Informix </td><td>org.hibernate.dialect.InformixDialect</td></tr>
<tr><td>Ingres </td><td>org.hibernate.dialect.IngresDialect</td></tr>
<tr><td>Interbase </td><td>org.hibernate.dialect.InterbaseDialect</td></tr>
<tr><td>Microsoft SQL Server 2000 </td><td>org.hibernate.dialect.SQLServerDialect</td></tr>
<tr><td>Microsoft SQL Server 2005</td><td>org.hibernate.dialect.SQLServer2005Dialect</td></tr>
<tr><td>Microsoft SQL Server 2008</td><td>org.hibernate.dialect.SQLServer2008Dialect</td></tr>
<tr><td>MySQL </td><td>org.hibernate.dialect.MySQLDialect</td></tr>
<tr><td>Oracle (any version)</td><td>org.hibernate.dialect.OracleDialect</td></tr>
<tr><td>Oracle 11g</td><td>org.hibernate.dialect.Oracle10gDialect</td></tr>
<tr><td>Oracle 10g</td><td>org.hibernate.dialect.Oracle10gDialect</td></tr>
<tr><td>Oracle 9i</td><td>org.hibernate.dialect.Oracle9iDialect</td></tr>
<tr><td>PostgreSQL </td><td>org.hibernate.dialect.PostgreSQLDialect</td></tr>
<tr><td>Progress </td><td>org.hibernate.dialect.ProgressDialect</td></tr>
<tr><td>SAP DB </td><td>org.hibernate.dialect.SAPDBDialect</td></tr>
<tr><td>Sybase </td><td>org.hibernate.dialect.SybaseDialect</td></tr>
<tr><td>Sybase Anywhere </td><td>org.hibernate.dialect.SybaseAnywhereDialect</td></tr>
</table>
<h2>Hibernate Examples</h2>
<p>Let us try an example of using Hibernate to provide Java persistence in a standalone application. We will go through different steps involved in creating Java Application using Hibernate technology.</p>
<h2>Create POJO Classes:</h1>
<p>The first step in creating an application is to build the Java POJO class or classes, depending on the application that will be persisted to the database. Let us consider our <b>Employee</b> class with <b>getXXX</b> and <b>setXXX</b> methods to make it JavaBeans compliant class. </p>
<p>A POJO (Plain Old Java Object) is a Java object that doesn't extend or implement some specialized classes and interfaces respectively required by the EJB framework. All normal Java objects are POJO.</p>
<p>When you design a classs to be persisted by Hibernate, it's important to provide JavaBeans compliant code as well as one attribute which would work as index like <b>id</b> attribute in the Employee class.</p>
<pre class="prettyprint">
public class Employee {
   private int id;
   private String firstName; 
   private String lastName;   
   private int salary;  

   public Employee() {}
   public Employee(String fname, String lname, int salary) {
      this.firstName = fname;
      this.lastName = lname;
      this.salary = salary;
   }
   public int getId() {
      return id;
   }
   public void setId( int id ) {
      this.id = id;
   }
   public String getFirstName() {
      return firstName;
   }
   public void setFirstName( String first_name ) {
      this.firstName = first_name;
   }
   public String getLastName() {
      return lastName;
   }
   public void setLastName( String last_name ) {
      this.lastName = last_name;
   }
   public int getSalary() {
      return salary;
   }
   public void setSalary( int salary ) {
      this.salary = salary;
   }
}
</pre>
<h2>Create Database Tables:</h2>
<p>Second step would be creating tables in your database. There would be one table corresponding to each object you are willing to provide persistence. Consider above objects need to be stored and retrieved into the following RDBMS table:</p>
<pre class="prettyprint">
create table EMPLOYEE (
   id INT NOT NULL auto_increment,
   first_name VARCHAR(20) default NULL,
   last_name  VARCHAR(20) default NULL,
   salary     INT  default NULL,
   PRIMARY KEY (id)
);
</pre>
<h2>Create Mapping Configuration File:</h2>
<p>This step is to create a mapping file that instructs Hibernate how to map the defined class or classes to the database tables.</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC 
 "-//Hibernate/Hibernate Mapping DTD//EN"
 "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd"&gt; 

&lt;hibernate-mapping&gt;
   &lt;class name="Employee" table="EMPLOYEE"&gt;
      &lt;meta attribute="class-description"&gt;
         This class contains the employee detail. 
      &lt;/meta&gt;
      &lt;id name="id" type="int" column="id"&gt;
         &lt;generator class="native"/&gt;
      &lt;/id&gt;
      &lt;property name="firstName" column="first_name" type="string"/&gt;
      &lt;property name="lastName" column="last_name" type="string"/&gt;
      &lt;property name="salary" column="salary" type="int"/&gt;
   &lt;/class&gt;
&lt;/hibernate-mapping&gt;
</pre>
<p>You should save the mapping document in a file with the format &lt;classname&gt;.hbm.xml. We saved our mapping document in the file Employee.hbm.xml. Let us see little detail about the mapping document:</p>
<ul class="list">
<li><p>The mapping document is an XML document having &lt;hibernate-mapping&gt; as the root element which contains all the &lt;class&gt; elements.</p></li>
<li><p>The <b>&lt;class&gt;</b> elements are used to define specific mappings from a Java classes to the database tables. The Java class name is specified using the <b>name</b> attribute of the class element and the database table name is specified using the <b>table</b> attribute.</p></li>
<li><p>The <b>&lt;meta&gt;</b> element is optional element and can be used to create the class description.</p></li>
<li><p>The <b>&lt;id&gt;</b> element maps the unique ID attribute in class to the primary key of the database table. The <b>name</b> attribute of the id element refers to the property in the class and the <b>column</b> attribute refers to the column in the database table. The <b>type</b> attribute holds the hibernate mapping type, this mapping types will convert from Java to SQL data type.</p></li>
<li><p>The <b>&lt;generator&gt;</b> element within the id element is used to automatically generate the primary key values. Set the <b>class</b> attribute of the generator element is set to <b>native</b> to let hibernate pick up either <b>identity, sequence</b> or <b>hilo</b> algorithm to create primary key depending upon the capabilities of the underlying database.</p></li>
<li><p>The <b>&lt;property&gt;</b> element is used to map a Java class property to a column in the database table. The <b>name</b> attribute of the element refers to the property in the class and the <b>column</b> attribute refers to the column in the database table. The <b>type</b> attribute holds the hibernate mapping type, this mapping types will convert from Java to SQL data type.</p></li>
</ul>
<p>There are other attributes and elements available which will be used in a mapping document and I would try to cover as many as possible while discussing other Hibernate related topics.</p>
<h2>Create Application Class:</h2>
<p>Finally, we will create our application class with the main() method to run the application. We will use this application to save few Employee's records and then we will apply CRUD operations on those records.</p>
<pre class="prettyprint">
import java.util.List; 
import java.util.Date;
import java.util.Iterator; 
 
import org.hibernate.HibernateException; 
import org.hibernate.Session; 
import org.hibernate.Transaction;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class ManageEmployee {
   private static SessionFactory factory; 
   public static void main(String[] args) {
      try{
         factory = new Configuration().configure().buildSessionFactory();
      }catch (Throwable ex) { 
         System.err.println("Failed to create sessionFactory object." + ex);
         throw new ExceptionInInitializerError(ex); 
      }
      ManageEmployee ME = new ManageEmployee();

      /* Add few employee records in database */
      Integer empID1 = ME.addEmployee("Zara", "Ali", 1000);
      Integer empID2 = ME.addEmployee("Daisy", "Das", 5000);
      Integer empID3 = ME.addEmployee("John", "Paul", 10000);

      /* List down all the employees */
      ME.listEmployees();

      /* Update employee's records */
      ME.updateEmployee(empID1, 5000);

      /* Delete an employee from the database */
      ME.deleteEmployee(empID2);

      /* List down new list of the employees */
      ME.listEmployees();
   }
   /* Method to CREATE an employee in the database */
   public Integer addEmployee(String fname, String lname, int salary){
      Session session = factory.openSession();
      Transaction tx = null;
      Integer employeeID = null;
      try{
         tx = session.beginTransaction();
         Employee employee = new Employee(fname, lname, salary);
         employeeID = (Integer) session.save(employee); 
         tx.commit();
      }catch (HibernateException e) {
         if (tx!=null) tx.rollback();
         e.printStackTrace(); 
      }finally {
         session.close(); 
      }
      return employeeID;
   }
   /* Method to  READ all the employees */
   public void listEmployees( ){
      Session session = factory.openSession();
      Transaction tx = null;
      try{
         tx = session.beginTransaction();
         List employees = session.createQuery("FROM Employee").list(); 
         for (Iterator iterator = 
                           employees.iterator(); iterator.hasNext();){
            Employee employee = (Employee) iterator.next(); 
            System.out.print("First Name: " + employee.getFirstName()); 
            System.out.print("  Last Name: " + employee.getLastName()); 
            System.out.println("  Salary: " + employee.getSalary()); 
         }
         tx.commit();
      }catch (HibernateException e) {
         if (tx!=null) tx.rollback();
         e.printStackTrace(); 
      }finally {
         session.close(); 
      }
   }
   /* Method to UPDATE salary for an employee */
   public void updateEmployee(Integer EmployeeID, int salary ){
      Session session = factory.openSession();
      Transaction tx = null;
      try{
         tx = session.beginTransaction();
         Employee employee = 
                    (Employee)session.get(Employee.class, EmployeeID); 
         employee.setSalary( salary );
		 session.update(employee); 
         tx.commit();
      }catch (HibernateException e) {
         if (tx!=null) tx.rollback();
         e.printStackTrace(); 
      }finally {
         session.close(); 
      }
   }
   /* Method to DELETE an employee from the records */
   public void deleteEmployee(Integer EmployeeID){
      Session session = factory.openSession();
      Transaction tx = null;
      try{
         tx = session.beginTransaction();
         Employee employee = 
                   (Employee)session.get(Employee.class, EmployeeID); 
         session.delete(employee); 
         tx.commit();
      }catch (HibernateException e) {
         if (tx!=null) tx.rollback();
         e.printStackTrace(); 
      }finally {
         session.close(); 
      }
   }
}
</pre>
<h2>Compilation and Execution:</h2>
<p>Here are the steps to compile and run the above mentioned application. Make sure you have set PATH and CLASSPATH appropriately before proceeding for the compilation and execution.</p>
<ul class="list">
<li><p>Create hibernate.cfg.xml configuration file as explained in configuration chapter.</p></li>
<li><p>Create Employee.hbm.xml mapping file as shown above.</p></li>
<li><p>Create Employee.java source file as shown above and compile it.</p></li>
<li><p>Create ManageEmployee.java source file as shown above and compile it.</p></li>
<li><p>Execute ManageEmployee binary to run the program.</p></li>
</ul>
<p>You would get following result, and records would be created in EMPLOYEE table.</p>
<pre class="prettyprint">
$java ManageEmployee
.......VARIOUS LOG MESSAGES WILL DISPLAY HERE........

First Name: Zara  Last Name: Ali  Salary: 1000
First Name: Daisy  Last Name: Das  Salary: 5000
First Name: John  Last Name: Paul  Salary: 10000
First Name: Zara  Last Name: Ali  Salary: 5000
First Name: John  Last Name: Paul  Salary: 10000
</pre>
<p>If you check your EMPLOYEE table, it should have following records:</p>
<pre class="prettyprint">
mysql&gt; select * from EMPLOYEE;
+----+------------+-----------+--------+
| id | first_name | last_name | salary |
+----+------------+-----------+--------+
| 29 | Zara       | Ali       |   5000 |
| 31 | John       | Paul      |  10000 |
+----+------------+-----------+--------+
2 rows in set (0.00 sec

mysql&gt;
</pre>
<hr />
<div class="pre-btn">
<a href="hibernate_interceptors.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/hibernate_quick_guide.pdf" alt="Hibernate Quick Guide" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="hibernate_useful_resources.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="../jsp/index.html" target="_top">JSP </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2012 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/hibernate/hibernate_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:46:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
