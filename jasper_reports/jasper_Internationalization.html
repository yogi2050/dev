<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/jasper_reports/jasper_Internationalization.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:56:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>JasperReports - Internationalization</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="JasperReports, Tutorials, Learning, Beginners, Basics, Environment, Environment setup, Report Designs, Compiling Report Design, Filling Reports, View and Print Reports, Exporting, Parameters, Data Sources, Fields, Expression, Variables, Sections, Groups, Styles, Scriplets, Subreports, Charts, Corsstabs and Internationalization." />
<meta name="keywords" content="JasperReports Internationalization -  Learning designing and creating JasperReports in simple and easy steps using this beginner's tutorial containing basic to advanced knowledge starting from Environment Setup, Report Designs, Compiling Report Design, Filling Reports, View and Print Reports, Exporting, Parameters, Data Sources, Fields, Expression, Variables, Sections, Groups, Styles, Scriplets, Subreports, Charts, Corsstabs and Internationalization." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#bfc82f  !important;background-color:transparent;font-weight:bold;}
#header{
background:#bfc82f  !important;
}
#topmenu
{
background-color:#298f79 !important;
}
#leftcol ul.menu li.heading
{
background:#bfc82f !important;
border:1px solid #298f79  !important;
}
#leftcol, #middlecol, #rightcol {min-height:1200px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index-2.html">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index-2.html" target="_top">HOME </a>
<a href="../java/index.html" target="_top">JAVA </a>
<a href="../php/index.html" target="_top">PHP </a>
<a href="../python/index.html" target="_top">Python </a>
<a href="../ruby/index.html" target="_top">Ruby </a>
<a href="../perl/index.html" target="_top">Perl </a>
<a href="../html/index.html" target="_top">HTML </a>
<a href="../css/index.html" target="_top">CSS </a>
<a href="../javascript/index.html" target="_top">Javascript </a>
<a href="../mysql/index.html" target="_top">MySQL </a>
<a href="../cplusplus/index.html" target="_top">C++ </a>
<a href="../unix/index.html" target="_top">UNIX </a>
<a href="../more.html" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.html" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.html" target="_top">ABOUT</a> |
<a href="../about/contact_us.html" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/jasper-mini-logo.png" alt="JasperReports Tutorial" />
</div>
<ul class="menu">
<li class="heading">JasperReports Tutorial</li>
<li><a target="_top" href="index.html">Home</a></li>
<li><a target="_top" href="jasper_getting_started.html">Getting Started</a></li>
<li><a target="_top" href="jasper_environment_setup.html">Environment Setup</a></li>
<li><a target="_top" href="jasper_report_life_cycle.html">Report Life Cycle</a></li>
<li><a target="_top" href="jasper_report_designs.html">Report Designs</a></li>
<li><a target="_top" href="jasper_compiling_report_design.html">Compiling Report Design</a></li>
<li><a target="_top" href="jasper_filling_reports.html">Filling Reports</a></li>
<li><a target="_top" href="jasper_view_and_print_reports.html">View and Print Reports</a></li>
<li><a target="_top" href="jasper_exporting_reports.html">Exporting Reports</a></li>
<li><a target="_top" href="jasper_report_parameters.html">Report Parameters</a></li>
<li><a target="_top" href="jasper_report_data_sources.html">Report Data Sources</a></li>
<li><a target="_top" href="jasper_report_fields.html">Report Fields</a></li>
<li><a target="_top" href="jasper_report_expression.html">Report Expression</a></li>
<li><a target="_top" href="jasper_report_variables.html">Report Variables</a></li>
<li><a target="_top" href="jasper_report_sections.html">Report Sections</a></li>
<li><a target="_top" href="jasper_report_groups.html">Report Groups</a></li>
<li><a target="_top" href="jasper_report_fonts.html">Report Fonts</a></li>
<li><a target="_top" href="jasper_unicode_support.html">Unicode Support</a></li>
<li><a target="_top" href="jasper_report_styles.html">Report Styles</a></li>
<li><a target="_top" href="jasper_report_scriptlets.html">Report Scriptlets</a></li>
<li><a target="_top" href="jasper_create_subreports.html">Create Subreports</a></li>
<li><a target="_top" href="jasper_creating_charts.html">Creating Charts</a></li>
<li><a target="_top" href="jasper_crosstabs.html">Crosstabs</a></li>
<li><a target="_top" href="jasper_Internationalization.html"><b>Internationalization</b></a></li>
</ul>
<ul class="menu">
<li class="heading">JasperReports Resources</li>
<li><a target="_top" href="jasper_quick_guide.html">Quick Guide</a></li>
<li><a target="_top" href="jasper_useful_resources.html">Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>JasperReports - Internationalization</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<hr />
<div class="pre-btn">
<a href="jasper_crosstabs.html">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="index.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>At times we need reports in different languages. Writing the same report for each different language implies a lot of redundant work.  Only pieces of text differing from language to language should be written separately, and loaded into text elements at runtime, depending on locale settings. This is the purpose of the report internationalization. Internationalized reports once written can run everywhere.</p>

<p>In the following steps, we have listed how to generate a report in different languages and also some other features of report internationalization:</p>
<ul class="list">
<li><p>Associate a resource bundle <i>java.util.ResourceBundle</i> with the report template. There are two ways to associate the java.util.ResourceBundle object with the
report template.</p>
<ul class="list">
<li><p>At design time, by setting the <i>resourceBundle</i> attribute of the report template object to the base name of the target resource bundle.</p></li>
<li><p>A dynamic/runtime association can be made by supplying a <i>java.util.ResourceBundle</i> object as the value for the REPORT_RESOURCE_BUNDLE parameter at report-filling time.</p></li>
<li><p> If the report needs to be generated in a locale that is different from the current one, the built-in REPORT_LOCALE parameter can be used to specify the runtime locale when filling the report. </p></li>
</ul>
</li>
<li><p>To facilitate report internationalization, a special syntax <b>$R{}</b> is available inside report expressions to reference <i>java.lang.String</i> resources placed inside a <i>java.util.ResourceBundle</i> object associated with the report. The <b>$R{}</b> character syntax extracts the locale-specific resource from the resource bundle based on the key that must be put between the brackets:
<pre class="prettyprint">
&lt;textFieldExpression&gt;
$R{report.title}
&lt;/textFieldExpression&gt;
</pre>
The above text field displays the title of the report by extracting the String value from the resource bundle associated with the report template based on the runtimesupplied locale and the <i>report.title</i> key</p></li>
<li><p>Formatting messages in different languages based on the report locale, there's a built-in method inside the report's <i>net.sf.jasperreports.engine.fill.JRCalculator</i>. This method offers functionality similar to the <i>java.text.MessageFormat</i> class. This method, msg(), has three convenient signatures that allow you to use up to three message parameters in the messages.</p></li>
<li><p>A built-in <i>str()</i> method (the equivalent of the $R{} syntax inside the report expressions), which gives access to the resource bundle content based on the report locale.</p></li>
<li><p>For date and time formatting, the built-in REPORT_TIME_ZONE parameter can be used to ensure proper time transformations.</p></li>
<li><p>In the generated output, the library keeps information about the text run direction so that documents generated in languages that have right-to-left writing (like Arabic and Hebrew) can be rendered properly.</p></li>
<li><p>If an application relies on the built-in Swing viewer to display generated reports, then it needs to be internationalized by adapting the button ToolTips or other texts displayed. This is very easy to do since the viewer relies on a predefined resource bundle to extract locale-specific information. The base name for this resource bundle is <i>net.sf.jasperreports.view.viewer</i></p></li>
</ul>

<h2>Example</h2>
<p>To demonstrate  internationalization, let's write new report template (jasper_report_template.jrxml). The contents of the JRXML are as below. Save it to C:\tools\jasperreports-5.0.1\test directory. </p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN"
"http://jasperreports.sourceforge.net/dtds/jasperreport.dtd"&gt;
&lt;jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
name="jasper_report_template" language="groovy" pageWidth="595"
pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20"
topMargin="20" bottomMargin="20" resourceBundle="localizationdemo"&gt;
   &lt;title&gt;
      &lt;band height="552"&gt;
         &lt;textField&gt;
            &lt;reportElement positionType="Float"
            x="150" y="20"
            width="400" height="50"/&gt;
            &lt;textElement&gt;
               &lt;font size="24"/&gt;
            &lt;/textElement&gt;
            &lt;textFieldExpression
            class="java.lang.String"&gt;
            &lt;![CDATA[$P{REPORT_LOCALE}.getDisplayName
            ($P{REPORT_LOCALE})]]&gt;
            &lt;/textFieldExpression&gt;
         &lt;/textField&gt;

         &lt;textField isStretchWithOverflow="true"
         isBlankWhenNull="true"&gt;
            &lt;reportElement positionType="Float" x="20" y="125"
            width="530" height="20"/&gt;
            &lt;textElement textAlignment="Justified"&gt;
               &lt;font size="14"/&gt;
            &lt;/textElement&gt;
            &lt;textFieldExpression class="java.lang.String"&gt;
            &lt;![CDATA[$R{localization.text1}]]&gt;
            &lt;/textFieldExpression&gt;
         &lt;/textField&gt;
      &lt;/band&gt;
   &lt;/title&gt;
&lt;/jasperReport&gt;
</pre>
<p>In the above file, the <i>resourceBundle</i> attribute of the &lt;jasperReport&gt; element tells JasperReports where to get the localized strings to use for the report. We need to write a property file with a root name matching the value of the attribute must exist anywhere in the CLASSPATH when filling the report. In this example the property file <b>localizationdemo.properties</b> is saved under the directory <b>C:\tools\jasperreports-5.0.1\test</b>. The contents of this file are as below</p>
<pre class="prettyprint">
localization.text1=This is English text.
</pre>
<p>To use a different locale, the name of the file must be localizationdemo_[locale].properties. Here we will write a file for spanish locale. Save this file as : <b>C:\tools\jasperreports-5.0.1\test\localizationdemo_es.properties.</b>. The contents of this file are as below:</p>
<pre class="prettyprint">
localization.text1=Este texto es en Español.
</pre>
<p>The syntax to obtain the value for resourceBundle properties is $R{key}.</p>
<p>To let JasperReports know what locale we wish to use, we need to assign a value to a built-in parameter. This parameter's name is defined as a constant called REPORT_LOCALE, and this constant is defined in the <i>net.sf.jasperreports.engine.JRParameter</i> class. The constant's value must be an instance of <i>java.util.Locale</i>. This logic is incorporated in java code to fill and generate the report. Let's save this file <b>JasperReportFillI18.java</b> to C:\tools\jasperreports-5.0.1\test\src\com\tutorialspoint directory. The contents of the file are as below:</p>
<pre class="prettyprint">
package com.tutorialspoint;

import java.util.HashMap;
import java.util.Locale;

import net.sf.jasperreports.engine.JREmptyDataSource;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JRParameter;
import net.sf.jasperreports.engine.JasperFillManager;

public class JasperReportFillI18 {

   public static void main(String[] args) {
      String sourceFileName = "C://tools/jasperreports-5.0.1/test/"
            + "jasper_report_template.jasper";
      HashMap parameterMap = new HashMap();
      if (args.length > 0) {
         parameterMap.put(JRParameter.REPORT_LOCALE, new Locale(args[0]));
      }
      try {
         JasperFillManager.fillReportToFile(sourceFileName, null,
               new JREmptyDataSource());
      } catch (JRException e) {
         // TODO Auto-generated catch block
         e.printStackTrace();
      }

   }
}
</pre>

<h3>Report generation</h3>
<p>We will compile and execute the above file using our regular ANT build process. The contents of the file build.xml (saved under directory C:\tools\jasperreports-5.0.1\test) are as below.</p>
<blockquote>The import file - baseBuild.xml is picked from chapter <a href="jasper_environment_setup.html">Environment Setup</a> and should be placed in the same directory as the build.xml.</blockquote>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project name="JasperReportTest" default="viewFillReport" basedir="."&gt;
   &lt;import file="baseBuild.xml" /&gt;
   &lt;target name="viewFillReport"
      depends="compile,compilereportdesing,run"
      description="Launches the report viewer to preview
      the report stored in the .JRprint file."&gt;
      &lt;java classname="net.sf.jasperreports.view.JasperViewer"
      fork="true"&gt;
         &lt;arg value="-F${file.name}.JRprint" /&gt;
         &lt;classpath refid="classpath" /&gt;
      &lt;/java&gt;
   &lt;/target&gt;
   &lt;target name="compilereportdesing"
      description="Compiles the JXML file and
      produces the .jasper file."&gt;
      &lt;taskdef name="jrc"
      classname="net.sf.jasperreports.ant.JRAntCompileTask"&gt;
         &lt;classpath refid="classpath" /&gt;
      &lt;/taskdef&gt;
      &lt;jrc destdir="."&gt;
         &lt;src&gt;
         &lt;fileset dir="."&gt;
            &lt;include name="*.jrxml" /&gt;
         &lt;/fileset&gt;
         &lt;/src&gt;
         &lt;classpath refid="classpath" /&gt;
      &lt;/jrc&gt;
   &lt;/target&gt;
&lt;/project&gt;
</pre>
<p>Next, let's open command line window and go to the directory where build.xml is placed. Finally execute the command <b>ant -Dmain-class=com.tutorialspoint.JasperReportFillI18</b> (viewFullReport is the default target) as follows:</p>
<pre class="result">
C:\tools\jasperreports-5.0.1\test>ant  -Dmain-class=com.tutorialspoint.JasperReportFillI18
Buildfile: C:\tools\jasperreports-5.0.1\test\build.xml

clean-sample:
   [delete] Deleting directory C:\tools\jasperreports-5.0.1\test\classes
   [delete] Deleting: C:\tools\jasperreports-5.0.1\test\jasper_report_template.jasper
   [delete] Deleting: C:\tools\jasperreports-5.0.1\test\jasper_report_template.jrprint

compile:
    [mkdir] Created dir: C:\tools\jasperreports-5.0.1\test\classes
    [javac] C:\tools\jasperreports-5.0.1\test\baseBuild.xml:28:
    warning: 'includeantruntime' was not set, defaulting to
    [javac] Compiling 1 source file to C:\tools\jasperreports-5.0.1\test\classes
    [javac] Note: C:\tools\jasperreports-5.0.1\test\src\com\tutorialspoint\JasperReportFillI18.java
    uses unchecked or u
    [javac] Note: Recompile with -Xlint:unchecked for details.

compilereportdesing:
      [jrc] Compiling 1 report design files.
      [jrc] log4j:WARN No appenders could be found for logger
      (net.sf.jasperreports.engine.xml.JRXmlDigesterFactory).
      [jrc] log4j:WARN Please initialize the log4j system properly.
      [jrc] log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
      [jrc] File : C:\tools\jasperreports-5.0.1\test\jasper_report_template.jrxml ... OK.

run:
     [echo] Runnin class : com.tutorialspoint.JasperReportFillI18
     [java] log4j:WARN No appenders could be found for logger
     (net.sf.jasperreports.extensions.ExtensionsEnvironment).
     [java] log4j:WARN Please initialize the log4j system properly.

viewFillReport:
     [java] log4j:WARN No appenders could be found for logger
     (net.sf.jasperreports.extensions.ExtensionsEnvironment).
     [java] log4j:WARN Please initialize the log4j system properly.

BUILD SUCCESSFUL
Total time: 3 minutes 28 seconds
</pre>
<p>As a result of above compilation, a JasperViewer window opens up as in the screen below:</p>
<img src="images/report_i18_example.jpg" alt="Jasper Report Viewer" />
<hr />
<div class="pre-btn">
<a href="jasper_crosstabs.html">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/jasper_Internationalization.pdf" alt="JasperReports - Internationalization" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="index.html">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.html" target="_top">ASP.NET </a> |
<a href="../jquery/index.html" target="_top">jQuery </a> |
<a href="../ajax/index.html" target="_top">AJAX </a> |
<a href="../ant/index.html" target="_top">ANT</a> |
<a href="index.html" target="_top">iOS </a> |
<a href="../servlets/index.html" target="_top">Servlets </a> |
<a href="../log4j/index.html" target="_top">log4j </a> |
<a href="../ibatis/index.html" target="_top">iBATIS </a> |
<a href="../hibernate/index.html" target="_top">Hibernate </a> |
<a href="../jdbc/index.html" target="_top">JDBC </a> |
<a href="../struts_2/index.html" target="_top">Struts </a> |
<a href="../html5/index.html" target="_top">HTML5 </a> |
<a href="../sql/index.html" target="_top">SQL </a> |
<a href="../mysql/index.html" target="_top">MySQL </a> |
<a href="../cplusplus/index.html" target="_top">C++ </a> |
<a href="../unix/index.html" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2012 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/jasper_reports/jasper_Internationalization.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sun, 14 Apr 2013 19:56:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>