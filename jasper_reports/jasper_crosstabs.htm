<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/jasper_reports/jasper_crosstabs.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 21:18:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>JasperReports - Crosstabs</title>
<link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
<meta name="description" content="JasperReports, Tutorials, Learning, Beginners, Basics, Environment, Environment setup, Report Designs, Compiling Report Design, Filling Reports, View and Print Reports, Exporting, Parameters, Data Sources, Fields, Expression, Variables, Sections, Groups, Styles, Scriplets, Subreports, Charts, Corsstabs and Internationalization." />
<meta name="keywords" content="JasperReports Crosstabs -  Learning designing and creating JasperReports in simple and easy steps using this beginner's tutorial containing basic to advanced knowledge starting from Environment Setup, Report Designs, Compiling Report Design, Filling Reports, View and Print Reports, Exporting, Parameters, Data Sources, Fields, Expression, Variables, Sections, Groups, Styles, Scriplets, Subreports, Charts, Corsstabs and Internationalization." />
<base  />
<link rel="stylesheet" type="text/css" href="../scripts/style.css" />
<link rel="stylesheet" type="text/css" href="../scripts/prettify.css" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
<style media="screen" type="text/css">
#topmenu a:hover {text-decoration:none;color:#bfc82f  !important;background-color:transparent;font-weight:bold;}
#header{
background:#bfc82f  !important;
}
#topmenu
{
background-color:#298f79 !important;
}
#leftcol ul.menu li.heading
{
background:#bfc82f !important;
border:1px solid #298f79  !important;
}
#leftcol, #middlecol, #rightcol {min-height:1200px; padding:0px;}
</style>
<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";urchinTracker();
</script>
</head>
<body onload="prettyPrint()">
<div id="header">
<div class="wrapper">
<h1 class="logo"><a href="../index.htm">Tutorials Point - Simply Easy Learning</a></h1>
<div id="search">
<form method="get" id="searchform" name="searchform" action="http://www.google.com/search" target="_blank">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com"/>
<input type="text" name="as_q" id="s" value="Search this site..." onfocus="if (this.value == 'Search this site...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this site...';}"/>
<input value="FORID:11" name="cof" type="hidden"/>
<input type="hidden" name="ie" value="ISO-8859-1" />
<input class="submit btn" type="image" src="../images/icon-search.png" alt="Go"/>
</form>
</div>
</div>
</div>
<div id="topmenu">
<div class="wrapper">
<div id="left">
<a href="../index.htm" target="_top">HOME </a>
<a href="../java/index.htm" target="_top">JAVA </a>
<a href="../php/index.htm" target="_top">PHP </a>
<a href="../python/index.htm" target="_top">Python </a>
<a href="../ruby/index.htm" target="_top">Ruby </a>
<a href="../perl/index.htm" target="_top">Perl </a>
<a href="../html/index.htm" target="_top">HTML </a>
<a href="../css/index.htm" target="_top">CSS </a>
<a href="../javascript/index.htm" target="_top">Javascript </a>
<a href="../mysql/index.htm" target="_top">MySQL </a>
<a href="../cplusplus/index.htm" target="_top">C++ </a>
<a href="../unix/index.htm" target="_top">UNIX </a>
<a href="../more.htm" target="_top">MORE...</a>
</div>
<div id="right">
<a href="../references.htm" target="_top">REFERENCES</a> |
<a href="../forums/index.html" target="_top">FORUM</a> |
<a href="../about/index.htm" target="_top">ABOUT</a> |
<a href="../about/contact_us.htm" target="_top">CONTACT</a>
</div>
</div>
</div>
<div class="wrapper">
<div id="leftcol">
<div class="mini-logo">
<img src="../images/jasper-mini-logo.png" alt="JasperReports Tutorial" />
</div>
<ul class="menu">
<li class="heading">JasperReports Tutorial</li>
<li><a target="_top" href="index.htm">Home</a></li>
<li><a target="_top" href="jasper_getting_started.htm">Getting Started</a></li>
<li><a target="_top" href="jasper_environment_setup.htm">Environment Setup</a></li>
<li><a target="_top" href="jasper_report_life_cycle.htm">Report Life Cycle</a></li>
<li><a target="_top" href="jasper_report_designs.htm">Report Designs</a></li>
<li><a target="_top" href="jasper_compiling_report_design.htm">Compiling Report Design</a></li>
<li><a target="_top" href="jasper_filling_reports.htm">Filling Reports</a></li>
<li><a target="_top" href="jasper_view_and_print_reports.htm">View and Print Reports</a></li>
<li><a target="_top" href="jasper_exporting_reports.htm">Exporting Reports</a></li>
<li><a target="_top" href="jasper_report_parameters.htm">Report Parameters</a></li>
<li><a target="_top" href="jasper_report_data_sources.htm">Report Data Sources</a></li>
<li><a target="_top" href="jasper_report_fields.htm">Report Fields</a></li>
<li><a target="_top" href="jasper_report_expression.htm">Report Expression</a></li>
<li><a target="_top" href="jasper_report_variables.htm">Report Variables</a></li>
<li><a target="_top" href="jasper_report_sections.htm">Report Sections</a></li>
<li><a target="_top" href="jasper_report_groups.htm">Report Groups</a></li>
<li><a target="_top" href="jasper_report_fonts.htm">Report Fonts</a></li>
<li><a target="_top" href="jasper_unicode_support.htm">Unicode Support</a></li>
<li><a target="_top" href="jasper_report_styles.htm">Report Styles</a></li>
<li><a target="_top" href="jasper_report_scriptlets.htm">Report Scriptlets</a></li>
<li><a target="_top" href="jasper_create_subreports.htm">Create Subreports</a></li>
<li><a target="_top" href="jasper_creating_charts.htm">Creating Charts</a></li>
<li><a target="_top" href="jasper_crosstabs.htm"><b>Crosstabs</b></a></li>
<li><a target="_top" href="jasper_Internationalization.htm">Internationalization</a></li>
</ul>
<ul class="menu">
<li class="heading">JasperReports Resources</li>
<li><a target="_top" href="jasper_quick_guide.htm">Quick Guide</a></li>
<li><a target="_top" href="jasper_useful_resources.htm">Useful Resources</a></li>
</ul>
<ul class="menu">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="../computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div><!-- leftcol -->
<div id="middlecol">
<!-- PRINTING STARTS HERE -->
<div class="content">
<h1>JasperReports - Crosstabs</h1>
<div class="topgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<hr />
<div class="pre-btn">
<a href="jasper_creating_charts.htm">Previous Page</a>
</div>
<div class="nxt-btn">
<a href="jasper_Internationalization.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
<p>
Crosstab (cross-tabulation) reports are reports containing tables that arrange  data across rows and columns in a tabular form. Crosstab object is used for inserting a crosstab report within the main report. Crosstabs can be used with any level of data (nominal, ordinal, interval, or ratio), and usually display the summarized data, contained in report variables, in the form of a dynamic table. Variables are used to display aggregate data such as sums, counts, average values.</p>

<h2>Crosstab Properties</h2>
<p>JRXML element <b>&lt;crosstab&gt;</b> is used to insert a crosstab into a report.
<h3>Attribute</h3>
<p>Following is a list of attribute of a <b>&lt;crosstab&gt;</b> element:</p>
<ul class="list">
<li><p><b>isRepeatColumnHeaders</b>: Indicates whether the column headers should be reprinted after a page break. The default value is <i>true</i>.</p></li>
<li><p><b>isRepeatRowHeaders</b>:Indicates whether the row headers should be reprinted after a crosstab column break. The default value is <i>true</i>.</p></li>
<li><p><b>columnBreakOffset</b>: When a column break occurs, indicates the amount of vertical space, measured in pixels, before the subsequent crosstab piece to be placed below the previous one on the same page. The default value is 10.</p></li>
<li><p><b>runDirection</b>: Indicates whether the crosstab data should be filled from left to right (LTR) or from right to left (RTL). The default value is LTR.</p></li>
<li><p><b>ignoreWidth</b>:  Indicates whether the crosstab will stretch beyond the initial crosstab width limit and don't generate column breaks. Else it will stop rendering columns within the crosstab width limit and continue with the remaining columns only after all rows have started rendering. The default value is <i>false</i>.</p></li>
</ul>

<h3>Sub Elements</h3>
<p>A &lt;crosstab&gt; element has following sub elements :</p>
<ul class="list">
<li><p><b>&lt;reportElement&gt;</b>: This element defines the position, width, and height of the crosstab within its enclosing <band>. Attributes for this element include all standard &lt;reportElement&gt; attributes.</p></li>
<li><p><b>&lt;crosstabParameter&gt;</b>: This element is used to access report variables and parameters from within the crosstab. Attributes for this element include:</p>
<ul class="list">
<li><p><i>name</i>: This defines the parameter name.</p></li>
<li><p><i>class</i>: This indicates the parameter class.</p></li>
</ul></li>
<li><p><b>&lt;parametersMapExpression&gt;</b>: This element is used to pass a report variable or parameter containing an instance of <i>java.util.Map</i>, as a set of parameters for the crosstab. This element contains
no attributes.</p></li>
<li><p><b>&lt;crosstabDataset&gt;</b>: This element defines the dataset to use to populate the crosstab (see next section for a detailed explanation). Attributes for this element include:</p>
<ul class="list">
<li><p><i>isDataPreSorted</i>: This indicates whether the data in the dataset is pre-sorted. Default value is <i>false</i>.</p></li>
</ul></li>
<li><p><b>&lt;crosstabHeaderCell&gt;</b>This element defines the content of the region found at the upper-left corner of the crosstab where column headers and row headers meet. The size of this cell is calculated automatically based on the defined row and column widths and heights.</p></li>

<li><p><b>&lt;rowGroup&gt;</b>: This element defines a group used to split the data into rows. Attributes for this element include:</p>
<ul class="list">
<li><p><i>name</i>: This defines the name of the row group.</p></li>
<li><p><i>width</i>: This defines the width of the row group.</p></li>
<li><p><i>headerPosition</i>: This defines the position of the header contents (Top, Middle, Bottom, Stretch).</p></li>
<li><p><i>totalPosition</i>: This defines the position of the entire column (Start, End, None).</p></li>
</ul>
<p> This element contains the following sub elements:</p>
<ul class="list">
<li><p><i>&lt;bucket&gt;</i></p></li>
<li><p><i>&lt;crosstabRowHeader&gt;</i></p></li>
<li><p><i>&lt;crosstabTotalRowHeader&gt;</i></p></li>
</ul>
</li>
<li><p><b>&lt;columnGroup&gt;</b>: This element defines a group used to split the data into columns. Attributes for this element include:</p>
<ul class="list">
<li><p><i>name</i>: This defines the column group name.</p></li>
<li><p><i>height</i>: This defines the height of the column group header.</p></li>
<li><p><i>headerPosition</i>: This defines the position of the header contents (<i>Right, Left, Center, Stretch</i>).</p></li>
<li><p><i>totalPosition</i>: This defines the position of the entire column (<i>Start, End, None</i>).</p></li>
</ul>
<p> This element contains the following sub elements:</p>
<ul class="list">
<li><p><i>&lt;bucket&gt;</i></p></li>
<li><p><i>&lt;crosstabColumnHeader&gt;</i></p></li>
<li><p><i>&lt;crosstabTotalColumnHeader&gt;</i></p></li>
</ul>
</li>
<li><p><b>&lt;measure&gt;</b>: This element defines the calculation to be performed across rows and columns. Attributes for this element include:</p>
<ul class="list">
<li><p><i>name</i>: This defines the measure name.</p></li>
<li><p><i>class</i>: This indicates the measure class.</p></li>
<li><p><i>calculation</i>: This indicates the calculation to be performed between crosstab cell values. Its values could be any of these - <i>Nothing, Count, DistinctCount, Sum,  Average, Lowest, Highest, StandardDeviation, Variance, First</i>. Default value is <b>Nothing</b>.</p></li>
</ul></li>
<li><p><b>&lt;crosstabCell&gt;</b>: This element defines how data in non-header cells will be laid out. Attributes for this element include:</p>
<ul class="list">
<li><p><i>columnTotalGroup</i>: This indicates the group to use to calculate the column total.</p></li>
<li><p><i>height</i>: This defines the height of the cell.</p></li>
<li><p><i>rowTotalGroup</i>: This indicates the group to use to calculate the row total.</p></li>
<li><p><i>width</i>: This defines the width of the cell.</p></li>
</ul>
</li>
<li><p><b>&lt;whenNoDataCell&gt;</b>: This element defines what to display on an empty crosstab cell. This element contains no attributes.</p></li>
</ul>

<h3>Data Grouping in Crosstab</h3>
<p>The crosstab calculation engine aggregates data by iterating through the associated dataset records. In order to aggregate data, one need to group them first. In a crosstab, rows and columns are based on specific group items, called <b>buckets</b>. A bucket definition should contain:</p>
<ul class="list">
<li><p><i>bucketExpression</i>: The expression to be evaluated in order to obtain data group items.</p></li>
<li><p><i>comparatorExpression</i>: Needed in the case the natural ordering of the values is not the best choice.</p></li>
<li><p><i>orderByExpression</i>: Indicates the value used to sort data.</p></li>
</ul>
<p>Row and column groups (defined above) in a crosstab rely on <b>buckets</b>.</p>
<h3>Built-In Crosstab Total Variables</h3>
<p>Below is a list of current value of measure and totals of different levels corresponding to the cell can be accessed through variables named according to the following scheme:</p>
<ul class="list">
<li><p>The current value of a measure calculation is stored in a variable having the same name as the measure.</p></li>
<li><p><i>&lt;Measure&gt;_&lt;Column Group&gt;_ALL</i>: This yields the total for all the entries in the column group from the same row..</p></li>
<li><p><i>&lt;Measure&gt;_&lt;Row Group&gt;_ALL</i>: This yields the total for all the entries in the row group from the same column.</p></li>
<li><p><i>&lt;Measure&gt;_&lt;Row Group&gt;_&lt;Column Group&gt;_ALL</i>: This yields the combined total corresponding to all the entries in both row and column groups.</p></li>
</ul>

<h2>Example</h2>
<p>To demonstrate the crosstabs, let's write a new report template (jasper_report_template.jrxml). Here we will add the crosstab to summary section. Save it to the directory <b>C:\tools\jasperreports-5.0.1\test</b> directory. The contents of the file are as below:</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN"
"http://jasperreports.sourceforge.net/dtds/jasperreport.dtd"&gt;
&lt;jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
name="jasper_report_template" language="groovy" pageWidth="595"
pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20"
topMargin="20" bottomMargin="20"&gt;
&lt;parameter name="ReportTitle" class="java.lang.String"/&gt;
&lt;parameter name="Author" class="java.lang.String"/&gt;
   &lt;field name="name" class="java.lang.String"/&gt;
   &lt;field name="country" class="java.lang.String"/&gt;
   &lt;title&gt;
       &lt;band height="70"&gt;
          &lt;line&gt;
             &lt;reportElement x="0" y="0" width="515"
             height="1"/&gt;
          &lt;/line&gt;
          &lt;textField isBlankWhenNull="true" bookmarkLevel="1"&gt;
             &lt;reportElement x="0" y="10" width="515"
             height="30"/&gt;
             &lt;textElement textAlignment="Center"&gt;
                &lt;font size="22"/&gt;
             &lt;/textElement&gt;
             &lt;textFieldExpression class="java.lang.String"&gt;
                &lt;![CDATA[$P{ReportTitle}]]&gt;
             &lt;/textFieldExpression&gt;
             &lt;anchorNameExpression&gt;
                &lt;![CDATA["Title"]]&gt;
             &lt;/anchorNameExpression&gt;
          &lt;/textField&gt;
          &lt;textField isBlankWhenNull="true"&gt;
             &lt;reportElement  x="0" y="40" width="515" height="20"/&gt;
             &lt;textElement textAlignment="Center"&gt;
                  &lt;font size="10"/&gt;
             &lt;/textElement&gt;
             &lt;textFieldExpression class="java.lang.String"&gt;
                &lt;![CDATA[$P{Author}]]&gt;
             &lt;/textFieldExpression&gt;
          &lt;/textField&gt;
       &lt;/band&gt;
   &lt;/title&gt;
   &lt;summary&gt;
      &lt;band height="60"&gt;
      &lt;crosstab&gt;
         &lt;reportElement width="782" y="0" x="0" height="60"/&gt;
          &lt;rowGroup name="nameGroup" width="100"&gt;
         &lt;bucket&gt;
             &lt;bucketExpression class="java.lang.String"&gt;
                &lt;![CDATA[$F{name}]]&gt;
             &lt;/bucketExpression&gt;
          &lt;/bucket&gt;
          &lt;crosstabRowHeader&gt;
             &lt;cellContents&gt;
                &lt;box border="Thin" borderColor="black"/&gt;
                &lt;textField&gt;
                   &lt;reportElement width="100" y="0" x="0" height="20"/&gt;
                   &lt;textElement textAlignment="Right"
                   verticalAlignment="Middle"/&gt;
                   &lt;textFieldExpression&gt;
                      &lt;![CDATA[$V{nameGroup}]]&gt;
                   &lt;/textFieldExpression&gt;
                &lt;/textField&gt;
             &lt;/cellContents&gt;
             &lt;/crosstabRowHeader&gt;

          &lt;/rowGroup&gt;
          &lt;columnGroup name="countryGroup" height="20"&gt;
            &lt;bucket&gt;
            &lt;bucketExpression class="java.lang.String"&gt;
             $F{country}
             &lt;/bucketExpression&gt;
             &lt;/bucket&gt;
             &lt;crosstabColumnHeader&gt;
               &lt;cellContents&gt;
                &lt;box border="Thin" borderColor="black"/&gt;
                &lt;textField isStretchWithOverflow="true"&gt;
                   &lt;reportElement width="60" y="0" x="0" height="20"/&gt;
                   &lt;textElement verticalAlignment="Bottom"/&gt;
                   &lt;textFieldExpression&gt;
                      &lt;![CDATA[$V{countryGroup}]]&gt;
                   &lt;/textFieldExpression&gt;
                &lt;/textField&gt;
               &lt;/cellContents&gt;
             &lt;/crosstabColumnHeader&gt;

          &lt;/columnGroup&gt;
          &lt;measure name="tailNumCount" class="java.lang.Integer"
          calculation="Count"&gt;
             &lt;measureExpression&gt;$F{country}&lt;/measureExpression&gt;
          &lt;/measure&gt;
          &lt;crosstabCell height="20" width="60"&gt;
             &lt;cellContents backcolor="#FFFFFF"&gt;
                &lt;box borderColor="black" border="Thin"/&gt;
                &lt;textField&gt;
                   &lt;reportElement x="5" y="0" width="55" height="20"/&gt;
                   &lt;textElement textAlignment="Left"
                   verticalAlignment="Bottom"/&gt;
                   &lt;textFieldExpression
                      class="java.lang.Integer"&gt;
                      $V{tailNumCount}
                   &lt;/textFieldExpression&gt;
                &lt;/textField&gt;
             &lt;/cellContents&gt;
          &lt;/crosstabCell&gt;
       &lt;/crosstab&gt;
       &lt;/band&gt;
&lt;/summary&gt;
&lt;/jasperReport&gt;
</pre>
<p>The details of the above file are as below:</p>
<ul class="list">
<li><p>Crosstab is defined by the &lt;crosstab&gt; element.</p></li>
<li><p>&lt;rowGroup&gt; element defines a group to split the data into rows. Here each row will display data for a different name.</p></li>
<li><p>The &lt;bucket&gt; and &lt;bucketExpression&gt; elements define what report expression to use as a group delimiter for &lt;rowGroup&gt;. Here, we used the name field as a delimiter, in order to split the rows by name.</p></li>
<li><p>The &lt;crosstabRowHeader&gt; element defines the expression to be used as a row header. It contains a single sub-element, namely &lt;cellContents&gt;, which acts like an inner band inside crosstab. Instead of defining variable name for the text field inside &lt;crosstabRowHeader&gt;, we have assigned the name to &lt;rowGroup&gt; (via its name attribute), hence it creates an implicit variable. The &lt;crosstabRowHeader&gt; element defines the contents of the header cell for the entire row. It takes a single &lt;cellContents&gt; element as its only sub-element.</p></li>
<li><p>The &lt;columnGroup&gt; element as well as its sub-elements is analogous to the &lt;rowGroup&gt;  element, except that it influences columns instead of rows.</p></li>
<li><p>The &lt;measure&gt; element defines the calculation to be performed across rows and columns. The <i>calculation</i> attribute is set to <i>Count</i>.</p></li>
<li><p>The &lt;crosstabCell&gt; element defines how data in non-header cells will be laid out. This element also contains a single &lt;crosstabCell&gt; element as its only sub-element.</p></li>
</ul>
<p>The java codes for report filling remains unchanged. The contents of the file <b>C:\tools\jasperreports-5.0.1\test\src\com\tutorialspoint\JasperReportFill.java</b> are as below.</p>
<pre class="prettyprint">
package com.tutorialspoint;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;

public class JasperReportFill {
   @SuppressWarnings("unchecked")
   public static void main(String[] args) {
      String sourceFileName =
      "C://tools/jasperreports-5.0.1/test/jasper_report_template.jasper";

      DataBeanList DataBeanList = new DataBeanList();
      ArrayList&lt;DataBean&gt; dataList = DataBeanList.getDataBeanList();

      JRBeanCollectionDataSource beanColDataSource =
      new JRBeanCollectionDataSource(dataList);

      Map parameters = new HashMap();
      /**
       * Passing ReportTitle and Author as parameters
       */
      parameters.put("ReportTitle", "List of Contacts");
      parameters.put("Author", "Prepared By Manisha");

      try {
         JasperFillManager.fillReportToFile(
         sourceFileName, parameters, beanColDataSource);
      } catch (JRException e) {
         e.printStackTrace();
      }
   }
}
</pre>
<p>The contents of the POJO file <b>C:\tools\jasperreports-5.0.1\test\src\com\tutorialspoint\DataBean.java</b> are as below:</p>
<pre class="prettyprint">
package com.tutorialspoint;

public class DataBean {
   private String name;
   private String country;

   public String getName() {
      return name;
   }

   public void setName(String name) {
      this.name = name;
   }

   public String getCountry() {
      return country;
   }

   public void setCountry(String country) {
      this.country = country;
   }
}
</pre>
<p>The contents of the file <b>C:\tools\jasperreports-5.0.1\test\src\com\tutorialspoint\DataBeanList.java</b> are as below:</p>
<pre class="prettyprint">
package com.tutorialspoint;

import java.util.ArrayList;

public class DataBeanList {
   public ArrayList&lt;DataBean&gt; getDataBeanList() {
      ArrayList&lt;DataBean&gt; dataBeanList = new ArrayList&lt;DataBean&gt;();

      dataBeanList.add(produce("Manisha", "India"));
      dataBeanList.add(produce("Dennis Ritchie", "USA"));
      dataBeanList.add(produce("V.Anand", "India"));
      dataBeanList.add(produce("Shrinath", "California"));

      return dataBeanList;
   }

   /**
    * This method returns a DataBean object,
    * with name and country set in it.
    */
   private DataBean produce(String name, String country) {
      DataBean dataBean = new DataBean();
      dataBean.setName(name);
      dataBean.setCountry(country);
      return dataBean;
   }
}
</pre>
<h2>Report Generation</h2>
<p>Next, let's compile and execute the above files using our regular ANT build process. The contents of the file build.xml (saved under directory C:\tools\jasperreports-5.0.1\test) are as below.
<blockquote>The import file - baseBuild.xml is picked from chapter <a href="jasper_environment_setup.htm">Environment Setup</a> and should be placed in the same directory as the build.xml.</blockquote>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project name="JasperReportTest" default="viewFillReport" basedir="."&gt;
   &lt;import file="baseBuild.xml" /&gt;
   &lt;target name="viewFillReport"
      depends="compile,compilereportdesing,run"
      description="Launches the report viewer to preview
      the report stored in the .JRprint file."&gt;
      &lt;java classname="net.sf.jasperreports.view.JasperViewer"
      fork="true"&gt;
         &lt;arg value="-F${file.name}.JRprint" /&gt;
         &lt;classpath refid="classpath" /&gt;
      &lt;/java&gt;
   &lt;/target&gt;
   &lt;target name="compilereportdesing"
      description="Compiles the JXML file and
      produces the .jasper file."&gt;
      &lt;taskdef name="jrc"
      classname="net.sf.jasperreports.ant.JRAntCompileTask"&gt;
         &lt;classpath refid="classpath" /&gt;
      &lt;/taskdef&gt;
      &lt;jrc destdir="."&gt;
         &lt;src&gt;
         &lt;fileset dir="."&gt;
            &lt;include name="*.jrxml" /&gt;
         &lt;/fileset&gt;
         &lt;/src&gt;
         &lt;classpath refid="classpath" /&gt;
      &lt;/jrc&gt;
   &lt;/target&gt;
&lt;/project&gt;
</pre>
<p>Next, let's open command line window and go to the directory where build.xml is placed. Finally execute the command <b>ant -Dmain-class=com.tutorialspoint.JasperReportFill</b> (viewFullReport is the default target) as follows:</p>
<pre class="result">
C:\tools\jasperreports-5.0.1\test>ant -Dmain-class=com.tutorialspoint.JasperReportFill
Buildfile: C:\tools\jasperreports-5.0.1\test\build.xml

clean-sample:
   [delete] Deleting directory C:\tools\jasperreports-5.0.1\test\classes
   [delete] Deleting: C:\tools\jasperreports-5.0.1\test\jasper_report_template.jasper

compile:
    [mkdir] Created dir: C:\tools\jasperreports-5.0.1\test\classes
    [javac] C:\tools\jasperreports-5.0.1\test\baseBuild.xml:28:
    warning: 'includeantruntime' was not set, defaulting to
    [javac] Compiling 3 source files to C:\tools\jasperreports-5.0.1\test\classes

compilereportdesing:
      [jrc] Compiling 1 report design files.
      [jrc] log4j:WARN No appenders could be found for logger
      (net.sf.jasperreports.engine.xml.JRXmlDigesterFactory).
      [jrc] log4j:WARN Please initialize the log4j system properly.
      [jrc] log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
      [jrc] File : C:\tools\jasperreports-5.0.1\test\jasper_report_template.jrxml ... OK.

run:
     [echo] Runnin class : com.tutorialspoint.JasperReportFill
     [java] log4j:WARN No appenders could be found for logger
     (net.sf.jasperreports.extensions.ExtensionsEnvironment).
     [java] log4j:WARN Please initialize the log4j system properly.

viewFillReport:
     [java] log4j:WARN No appenders could be found for logger (
     net.sf.jasperreports.extensions.ExtensionsEnvironment).
     [java] log4j:WARN Please initialize the log4j system properly.

BUILD SUCCESSFUL
Total time: 20 minutes 53 seconds
</pre>
<p>As a result of above compilation, a JasperViewer window opens up as in the screen below:</p>
<img src="images/report_crosstab_example.jpg" alt="Jasper Report Viewer" />
<p>Here we see that the each country and name are tabulated.</p>
<hr />
<div class="pre-btn">
<a href="jasper_creating_charts.htm">Previous Page</a>
</div>
<div class="print-btn">
<a href="../cgi-bin/printpage.html" target="_blank">Print Version</a>
</div>
<div class="pdf-btn">
<a href="pdf/jasper_crosstabs.pdf" alt="JasperReports - Crosstabs" target="_blank">PDF Version</a>
</div>
<div class="nxt-btn">
<a href="jasper_Internationalization.htm">Next Page</a>
</div>
<div class="clearer"></div>
<hr />
</div>
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="9030538898";
google_color_border="ffffff";
google_color_link="900b09";
google_color_url="000000";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div><!-- middlecol -->
<div id="rightcol">
<!-- AddThis Button BEGIN -->
<div class="addthis">
<div class="addthis_toolbox addthis_default_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<script type="text/javascript">
<!--
 document.write('<a class="addthis_button_google_plusone" g:plusone:count="false"></a>');
//-->
</script>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_email"></a>
<a class="addthis_button_compact"></a>
</div>
<script type="text/javascript" src="../../s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f661ec623a400f0"></script>
</div>
<!-- AddThis Button END -->
<div class="localad">
<a rel="nofollow" href="http://www.modernindianbabynames.com/" target="_blank" title="Modern Baby Names">Modern Baby Names</a>
</div>
<div class="localad">
<a rel="nofollow" href="http://www.photofuntoos.com/" target="_blank" title="Online Photo Editing">Online Photo Editing</a>
</div>
<div class="rightgooglead">
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div><!-- rightcol -->
<div style="clear:both;"></div>
</div><!-- wrapper -->
<div id="footer">
<div class="wrapper">
<div id="bottommenu">
<a href="../asp.net/index.htm" target="_top">ASP.NET </a> |
<a href="../jquery/index.htm" target="_top">jQuery </a> |
<a href="../ajax/index.htm" target="_top">AJAX </a> |
<a href="../ant/index.htm" target="_top">ANT</a> |
<a href="index.htm" target="_top">iOS </a> |
<a href="../servlets/index.htm" target="_top">Servlets </a> |
<a href="../log4j/index.htm" target="_top">log4j </a> |
<a href="../ibatis/index.htm" target="_top">iBATIS </a> |
<a href="../hibernate/index.htm" target="_top">Hibernate </a> |
<a href="../jdbc/index.htm" target="_top">JDBC </a> |
<a href="../struts_2/index.htm" target="_top">Struts </a> |
<a href="../html5/index.htm" target="_top">HTML5 </a> |
<a href="../sql/index.htm" target="_top">SQL </a> |
<a href="../mysql/index.htm" target="_top">MySQL </a> |
<a href="../cplusplus/index.htm" target="_top">C++ </a> |
<a href="../unix/index.htm" target="_top">UNIX </a>
</div>
<div id="copyright">
<p>Copyright &copy; 2012 by tutorialspoint. All Rights Reserved.</p>
</div>
</div>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/jasper_reports/jasper_crosstabs.htm by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 13 Apr 2013 21:18:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>